[
  {
    "problem_name": "fimo_2006_algebra_p1",
    "formal_statement": "theorem fimo_2006_algebra_p1\n  (a : ℕ → ℝ)\n  (h₀ : ∀ i, a (i + 1) = ⌊a i⌋ * (a i - ⌊a i⌋)) :\n  ∃ n : ℕ, ∀ i ≥ n, a i = a (i + 2) := by sorry",
    "informal_statement": "A sequence of real numbers $a_{0}, a_{1}, a_{2}, \\ldots$ is defined by the formula\n\n$$\na_{i+1}=\\left\\lfloor a_{i}\\right\\rfloor \\cdot\\left\\langle a_{i}\\right\\rangle \\quad \\text { for } \\quad i \\geq 0 ;\n$$\n\nhere $a_{0}$ is an arbitrary real number, $\\left\\lfloor a_{i}\\right\\rfloor$ denotes the greatest integer not exceeding $a_{i}$, and $\\left\\langle a_{i}\\right\\rangle=a_{i}-\\left\\lfloor a_{i}\\right\\rfloor$. Prove that $a_{i}=a_{i+2}$ for $i$ sufficiently large.",
    "informal_proof": "First note that if $a_{0} \\geq 0$, then all $a_{i} \\geq 0$. For $a_{i} \\geq 1$ we have (in view of $\\left\\langle a_{i}\\right\\rangle<1$ and $\\left.\\left\\lfloor a_{i}\\right\\rfloor>0\\right)$\n\n$$\n\\left\\lfloor a_{i+1}\\right\\rfloor \\leq a_{i+1}=\\left\\lfloor a_{i}\\right\\rfloor \\cdot\\left\\langle a_{i}\\right\\rangle<\\left\\lfloor a_{i}\\right\\rfloor ;\n$$\n\nthe sequence $\\left\\lfloor a_{i}\\right\\rfloor$ is strictly decreasing as long as its terms are in $[1, \\infty)$. Eventually there appears a number from the interval $[0,1)$ and all subsequent terms are 0 .\n\nNow pass to the more interesting situation where $a_{0}<0$; then all $a_{i} \\leq 0$. Suppose the sequence never hits 0 . Then we have $\\left\\lfloor a_{i}\\right\\rfloor \\leq-1$ for all $i$, and so\n\n$$\n1+\\left\\lfloor a_{i+1}\\right\\rfloor>a_{i+1}=\\left\\lfloor a_{i}\\right\\rfloor \\cdot\\left\\langle a_{i}\\right\\rangle>\\left\\lfloor a_{i}\\right\\rfloor ;\n$$\n\nthis means that the sequence $\\left\\lfloor a_{i}\\right\\rfloor$ is nondecreasing. And since all its terms are integers from $(-\\infty,-1]$, this sequence must be constant from some term on:\n\n$$\n\\left\\lfloor a_{i}\\right\\rfloor=c \\quad \\text { for } \\quad i \\geq i_{0} ; \\quad c \\text { a negative integer. }\n$$\n\nThe defining formula becomes\n\n$$\na_{i+1}=c \\cdot\\left\\langle a_{i}\\right\\rangle=c\\left(a_{i}-c\\right)=c a_{i}-c^{2} .\n$$\n\nConsider the sequence\n\n$$\nb_{i}=a_{i}-\\frac{c^{2}}{c-1} .\n$$\n\nIt satisfies the recursion rule\n\n$$\nb_{i+1}=a_{i+1}-\\frac{c^{2}}{c-1}=c a_{i}-c^{2}-\\frac{c^{2}}{c-1}=c b_{i},\n$$\n\nimplying\n\n$$\nb_{i}=c^{i-i_{0}} b_{i_{0}} \\quad \\text { for } \\quad i \\geq i_{0} .\n$$\n\nSince all the numbers $a_{i}$ (for $\\left.i \\geq i_{0}\\right)$ lie in $\\left[c, c+1\\right.$ ), the sequence $\\left(b_{i}\\right)$ is bounded. The equation (2) can be satisfied only if either $b_{i_{0}}=0$ or $|c|=1$, i.e., $c=-1$. In the first case, $b_{i}=0$ for all $i \\geq i_{0}$, so that\n\n$$\na_{i}=\\frac{c^{2}}{c-1} \\quad \\text { for } \\quad i \\geq i_{0} .\n$$\n\nIn the second case, $c=-1$, equations (1) and (2) say that\n\n$$\na_{i}=-\\frac{1}{2}+(-1)^{i-i_{0}} b_{i_{0}}= \\begin{cases}a_{i_{0}} & \\text { for } i=i_{0}, i_{0}+2, i_{0}+4, \\ldots, \\\\ 1-a_{i_{0}} & \\text { for } i=i_{0}+1, i_{0}+3, i_{0}+5, \\ldots\\end{cases}\n$$\n\nSummarising, we see that (from some point on) the sequence $\\left(a_{i}\\right)$ either is constant or takes alternately two values from the interval $(-1,0)$. The result follows.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2006_algebra_p2",
    "formal_statement": "theorem fimo_2006_algebra_p2\n  (a : ℕ → ℝ)\n  (h₀ : a 0 = -1)\n  (h₁ : ∀ n ≥ 1, ∑ k in Finset.range (n + 1), a (n - k) / (k + 1) = 0) :\n  ∀ n ≥ 1, a n > 0 := by sorry",
    "informal_statement": "The sequence of real numbers $a_{0}, a_{1}, a_{2}, \\ldots$ is defined recursively by\n\n$$\na_{0}=-1, \\quad \\sum_{k=0}^{n} \\frac{a_{n-k}}{k+1}=0 \\quad \\text { for } \\quad n \\geq 1 .\n$$\n\nShow that $a_{n}>0$ for $n \\geq 1$",
    "informal_proof": "The proof goes by induction. For $n=1$ the formula yields $a_{1}=1 / 2$. Take $n \\geq 1$, assume $a_{1}, \\ldots, a_{n}>0$ and write the recurrence formula for $n$ and $n+1$, respectively as\n\n$$\n\\sum_{k=0}^{n} \\frac{a_{k}}{n-k+1}=0 \\quad \\text { and } \\quad \\sum_{k=0}^{n+1} \\frac{a_{k}}{n-k+2}=0 .\n$$\n\nSubtraction yields\n\n$$\n\\begin{aligned}\n0=(n+2) \\sum_{k=0}^{n+1} \\frac{a_{k}}{n-k+2}-(n+1) \\sum_{k=0}^{n} \\frac{a_{k}}{n-k+1} \\\\\n=(n+2) a_{n+1}+\\sum_{k=0}^{n}\\left(\\frac{n+2}{n-k+2}-\\frac{n+1}{n-k+1}\\right) a_{k} .\n\\end{aligned}\n$$\n\nThe coefficient of $a_{0}$ vanishes, so\n\n$$\na_{n+1}=\\frac{1}{n+2} \\sum_{k=1}^{n}\\left(\\frac{n+1}{n-k+1}-\\frac{n+2}{n-k+2}\\right) a_{k}=\\frac{1}{n+2} \\sum_{k=1}^{n} \\frac{k}{(n-k+1)(n-k+2)} a_{k} .\n$$\n\nThe coefficients of $a_{1}, \\ldots, a_{n}$ are all positive. Therefore, $a_{1}, \\ldots, a_{n}>0$ implies $a_{n+1}>0$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2006_algebra_p4",
    "formal_statement": "theorem fimo_2006_algebra_p4\n  (n : ℕ)\n  (a : Fin n → ℝ)\n  (h₀ : ∀ i, 0 < a i) :\n  (∑ i in Finset.univ, ∑ j in Finset.univ.filter (λ j↦ i < j), (a i * a j) / (a i + a j)) ≤\n  (n / (2 * (∑ i in Finset.univ, a i))) * (∑ i in Finset.univ, ∑ j in Finset.univ.filter (λ j↦ i < j), a i * a j) := by sorry",
    "informal_statement": "Prove the inequality\n\n$$\n\\sum_{i<j} \\frac{a_{i} a_{j}}{a_{i}+a_{j}} \\leq \\frac{n}{2\\left(a_{1}+a_{2}+\\cdots+a_{n}\\right)} \\sum_{i<j} a_{i} a_{j}\n$$\n\nfor positive real numbers $a_{1}, a_{2}, \\ldots, a_{n}$.",
    "informal_proof": "Let $S=\\sum_{i} a_{i}$. Denote by $L$ and $R$ the expressions on the left and right hand side of the proposed inequality. We transform $L$ and $R$ using the identity\n\n$$\n\\sum_{i<j}\\left(a_{i}+a_{j}\\right)=(n-1) \\sum_{i} a_{i} .\n$$\n\nAnd thus:\n\n$$\nL=\\sum_{i<j} \\frac{a_{i} a_{j}}{a_{i}+a_{j}}=\\sum_{i<j} \\frac{1}{4}\\left(a_{i}+a_{j}-\\frac{\\left(a_{i}-a_{j}\\right)^{2}}{a_{i}+a_{j}}\\right)=\\frac{n-1}{4} \\cdot S-\\frac{1}{4} \\sum_{i<j} \\frac{\\left(a_{i}-a_{j}\\right)^{2}}{a_{i}+a_{j}} .\n$$\n\nTo represent $R$ we express the sum $\\sum_{i<j} a_{i} a_{j}$ in two ways; in the second transformation identity (1) will be applied to the squares of the numbers $a_{i}$ :\n\n$$\n\\begin{gathered}\n\\sum_{i<j} a_{i} a_{j}=\\frac{1}{2}\\left(S^{2}-\\sum_{i} a_{i}^{2}\\right) ; \\\\\n\\sum_{i<j} a_{i} a_{j}=\\frac{1}{2} \\sum_{i<j}\\left(a_{i}^{2}+a_{j}^{2}-\\left(a_{i}-a_{j}\\right)^{2}\\right)=\\frac{n-1}{2} \\cdot \\sum_{i} a_{i}^{2}-\\frac{1}{2} \\sum_{i<j}\\left(a_{i}-a_{j}\\right)^{2} .\n\\end{gathered}\n$$\n\nMultiplying the first of these equalities by $n-1$ and adding the second one we obtain\n\n$$\nn \\sum_{i<j} a_{i} a_{j}=\\frac{n-1}{2} \\cdot S^{2}-\\frac{1}{2} \\sum_{i<j}\\left(a_{i}-a_{j}\\right)^{2} .\n$$\n\nHence\n\n$$\nR=\\frac{n}{2 S} \\sum_{i<j} a_{i} a_{j}=\\frac{n-1}{4} \\cdot S-\\frac{1}{4} \\sum_{i<j} \\frac{\\left(a_{i}-a_{j}\\right)^{2}}{S}\n$$\n\nNow compare (2) and (3). Since $S \\geq a_{i}+a_{j}$ for any $i<j$, the claim $L \\geq R$ results.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2006_algebra_p5",
    "formal_statement": "theorem fimo_2006_algebra_p5\n  (a b c : ℝ)\n  (h₀ : a > 0 ∧ b > 0 ∧ c > 0)\n  (h₁ : a + b > c ∧ a + c > b ∧ b + c > a) :\n  (sqrt (b + c - a) / (sqrt b + sqrt c - sqrt a)) +\n  (sqrt (c + a - b) / (sqrt c + sqrt a - sqrt b)) +\n  (sqrt (a + b - c) / (sqrt a + sqrt b - sqrt c)) ≤ 3 := by sorry",
    "informal_statement": "Let $a, b, c$ be the sides of a triangle. Prove that\n\n$$\n\\frac{\\sqrt{b+c-a}}{\\sqrt{b}+\\sqrt{c}-\\sqrt{a}}+\\frac{\\sqrt{c+a-b}}{\\sqrt{c}+\\sqrt{a}-\\sqrt{b}}+\\frac{\\sqrt{a+b-c}}{\\sqrt{a}+\\sqrt{b}-\\sqrt{c}} \\leq 3\n$$",
    "informal_proof": "Note first that the denominators are all positive, e.g. $\\sqrt{a}+\\sqrt{b}>\\sqrt{a+b}>\\sqrt{c}$. Let $x=\\sqrt{b}+\\sqrt{c}-\\sqrt{a}, y=\\sqrt{c}+\\sqrt{a}-\\sqrt{b}$ and $z=\\sqrt{a}+\\sqrt{b}-\\sqrt{c}$. Then\n\n$b+c-a=\\left(\\frac{z+x}{2}\\right)^{2}+\\left(\\frac{x+y}{2}\\right)^{2}-\\left(\\frac{y+z}{2}\\right)^{2}=\\frac{x^{2}+x y+x z-y z}{2}=x^{2}-\\frac{1}{2}(x-y)(x-z)$\n\nand\n\n$$\n\\frac{\\sqrt{b+c-a}}{\\sqrt{b}+\\sqrt{c}-\\sqrt{a}}=\\sqrt{1-\\frac{(x-y)(x-z)}{2 x^{2}}} \\leq 1-\\frac{(x-y)(x-z)}{4 x^{2}}\n$$\n\napplying $\\sqrt{1+2 u} \\leq 1+u$ in the last step. Similarly we obtain\n\n$$\n\\frac{\\sqrt{c+a-b}}{\\sqrt{c}+\\sqrt{a}-\\sqrt{b}} \\leq 1-\\frac{(z-x)(z-y)}{4 z^{2}} \\quad \\text { and } \\quad \\frac{\\sqrt{a+b-c}}{\\sqrt{a}+\\sqrt{b}-\\sqrt{c}} \\leq 1-\\frac{(y-z)(y-x)}{4 y^{2}}\n$$\n\nSubstituting these quantities into the statement, it is sufficient to prove that\n\n$$\n\\frac{(x-y)(x-z)}{x^{2}}+\\frac{(y-z)(y-x)}{y^{2}}+\\frac{(z-x)(z-y)}{z^{2}} \\geq 0 .\n$$\n\nBy symmetry we can assume $x \\leq y \\leq z$. Then\n\n$$\n\\begin{gathered}\n\\frac{(x-y)(x-z)}{x^{2}}=\\frac{(y-x)(z-x)}{x^{2}} \\geq \\frac{(y-x)(z-y)}{y^{2}}=-\\frac{(y-z)(y-x)}{y^{2}}, \\\\\n\\frac{(z-x)(z-y)}{z^{2}} \\geq 0\n\\end{gathered}\n$$\n\nand (1) follows.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2006_number_theory_p2",
    "formal_statement": "theorem fimo_2006_number_theory_p2\n  (x y : ℝ)\n  (h₀ : 0 < x ∧ x < 1)\n  (h₁ : 0 < y ∧ y < 1)\n  (h₂ : ∀ n : ℕ, (Nat.floor (y * 10^n) % 10) = (Nat.floor (x * 10^(2^n)) % 10))\n  (h₃ : ∃ a b : ℕ, 0 < b ∧ x = a / b) :\n  ∃ c d : ℕ, 0 < d ∧ y = c / d := by sorry",
    "informal_statement": "For $x \\in(0,1)$ let $y \\in(0,1)$ be the number whose $n$th digit after the decimal point is the $\\left(2^{n}\\right)$ th digit after the decimal point of $x$. Show that if $x$ is rational then so is $y$.\n",
    "informal_proof": "Since $x$ is rational, its digits repeat periodically starting at some point. We wish to show that this is also true for the digits of $y$, implying that $y$ is rational.\n\nLet $d$ be the length of the period of $x$ and let $d=2^{u} \\cdot v$, where $v$ is odd. There is a positive integer $w$ such that\n\n$$\n2^{w} \\equiv 1 \\quad(\\bmod v) .\n$$\n\n(For instance, one can choose $w$ to be $\\varphi(v)$, the value of Euler's function at $v$.) Therefore\n\n$$\n2^{n+w}=2^{n} \\cdot 2^{w} \\equiv 2^{n} \\quad(\\bmod v)\n$$\n\nfor each $n$. Also, for $n \\geq u$ we have\n\n$$\n2^{n+w} \\equiv 2^{n} \\equiv 0 \\quad\\left(\\bmod 2^{u}\\right) .\n$$\n\nIt follows that, for all $n \\geq u$, the relation\n\n$$\n2^{n+w} \\equiv 2^{n} \\quad(\\bmod d)\n$$\n\nholds. Thus, for $n$ sufficiently large, the $2^{n+w}$ th digit of $x$ is in the same spot in the cycle of $x$ as its $2^{n}$ th digit, and so these digits are equal. Hence the $(n+w)$ th digit of $y$ is equal to its $n$th digit. This means that the digits of $y$ repeat periodically with period $w$ from some point on, as required.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2006_number_theory_p5",
    "formal_statement": "theorem fimo_2006_number_theory_p5 :\n  ¬ (∃ (x y : ℤ), (x^7 - 1) / (x - 1) = y^5 - 1) := by sorry",
    "informal_statement": "Find all integer solutions of the equation\n\n$$\n\\frac{x^{7}-1}{x-1}=y^{5}-1 \\text {. }\n$$\n\nThe final answer is that the given equation has no integer solutions.",
    "informal_proof": "The equation has no integer solutions. To show this, we first prove a lemma.\n\nLemma. If $x$ is an integer and $p$ is a prime divisor of $\\frac{x^{7}-1}{x-1}$ then either $p \\equiv 1(\\bmod 7)$ or $p=7$.\n\nProof. Both $x^{7}-1$ and $x^{p-1}-1$ are divisible by $p$, by hypothesis and by Fermat's little theorem, respectively. Suppose that 7 does not divide $p-1$. Then $\\operatorname{gcd}(p-1,7)=1$, so there exist integers $k$ and $m$ such that $7 k+(p-1) m=1$. We therefore have\n\n$$\nx \\equiv x^{7 k+(p-1) m} \\equiv\\left(x^{7}\\right)^{k} \\cdot\\left(x^{p-1}\\right)^{m} \\equiv 1 \\quad(\\bmod p),\n$$\n\nand so\n\n$$\n\\frac{x^{7}-1}{x-1}=1+x+\\cdots+x^{6} \\equiv 7 \\quad(\\bmod p) .\n$$\n\nIt follows that $p$ divides 7 , hence $p=7$ must hold if $p \\equiv 1(\\bmod 7)$ does not, as stated.\n\nThe lemma shows that each positive divisor $d$ of $\\frac{x^{7}-1}{x-1}$ satisfies either $d \\equiv 0(\\bmod 7)$ or $d \\equiv 1(\\bmod 7)$\n\nNow assume that $(x, y)$ is an integer solution of the original equation. Notice that $y-1>0$, because $\\frac{x^{7}-1}{x-1}>0$ for all $x \\neq 1$. Since $y-1$ divides $\\frac{x^{7}-1}{x-1}=y^{5}-1$, we have $y \\equiv 1(\\bmod 7)$ or $y \\equiv 2(\\bmod 7)$ by the previous paragraph. In the first case, $1+y+y^{2}+y^{3}+y^{4} \\equiv 5(\\bmod 7)$, and in the second $1+y+y^{2}+y^{3}+y^{4} \\equiv 3(\\bmod 7)$. Both possibilities contradict the fact that the positive divisor $1+y+y^{2}+y^{3}+y^{4}$ of $\\frac{x^{7}-1}{x-1}$ is congruent to 0 or 1 modulo 7 . So the given equation has no integer solutions.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2006_number_theory_p7",
    "formal_statement": "theorem fimo_2006_number_theory_p7 (n : ℕ) (h₀ : 0 < n) :\n  ∃ m, (2^m + m) % n = 0 := by sorry",
    "informal_statement": "Prove that, for every positive integer $n$, there exists an integer $m$ such that $2^{m}+m$ is divisible by $n$.",
    "informal_proof": "We will prove by induction on $d$ that, for every positive integer $N$, there exist positive integers $b_{0}, b_{1}, \\ldots, b_{d-1}$ such that, for each $i=0,1,2, \\ldots, d-1$, we have $b_{i}>N$ and\n\n$$\n2^{b_{i}}+b_{i} \\equiv i \\quad(\\bmod d)\n$$\n\nThis yields the claim for $m=b_{0}$.\n\nThe base case $d=1$ is trivial. Take an $a>1$ and assume that the statement holds for all $d<a$. Note that the remainders of $2^{i}$ modulo a repeat periodically starting with some exponent $M$. Let $k$ be the length of the period; this means that $2^{M+k^{\\prime}} \\equiv 2^{M}(\\bmod a)$ holds only for those $k^{\\prime}$ which are multiples of $k$. Note further that the period cannot contain all the $a$ remainders, since 0 either is missing or is the only number in the period. Thus $k<a$.\n\nLet $d=\\operatorname{gcd}(a, k)$ and let $a^{\\prime}=a / d, k^{\\prime}=k / d$. Since $0<k<a$, we also have $0<d<a$. By the induction hypothesis, there exist positive integers $b_{0}, b_{1}, \\ldots, b_{d-1}$ such that $b_{i}>\\max \\left(2^{M}, N\\right)$ and\n\n$$\n2^{b_{i}}+b_{i} \\equiv i \\quad(\\bmod d) \\quad \\text { for } \\quad i=0,1,2, \\ldots, d-1 .\n$$\n\nFor each $i=0,1, \\ldots, d-1$ consider the sequence\n\n$$\n2^{b_{i}}+b_{i}, \\quad 2^{b_{i}+k}+\\left(b_{i}+k\\right), \\ldots, \\quad 2^{b_{i}+\\left(a^{\\prime}-1\\right) k}+\\left(b_{i}+\\left(a^{\\prime}-1\\right) k\\right) .\n$$\n\nModulo $a$, these numbers are congruent to\n\n$$\n2^{b_{i}}+b_{i}, \\quad 2^{b_{i}}+\\left(b_{i}+k\\right), \\quad \\ldots, \\quad 2^{b_{i}}+\\left(b_{i}+\\left(a^{\\prime}-1\\right) k\\right),\n$$\n\nrespectively. The $d$ sequences contain $a^{\\prime} d=a$ numbers altogether. We shall now prove that no two of these numbers are congruent modulo $a$.\n\nSuppose that\n\n$$\n2^{b_{i}}+\\left(b_{i}+m k\\right) \\equiv 2^{b_{j}}+\\left(b_{j}+n k\\right) \\quad(\\bmod a)\n$$\n\nfor some values of $i, j \\in\\{0,1, \\ldots, d-1\\}$ and $m, n \\in\\left\\{0,1, \\ldots, a^{\\prime}-1\\right\\}$. Since $d$ is a divisor of $a$, we also have\n\n$$\n2^{b_{i}}+\\left(b_{i}+m k\\right) \\equiv 2^{b_{j}}+\\left(b_{j}+n k\\right) \\quad(\\bmod d) .\n$$\n\nBecause $d$ is a divisor of $k$ and in view of $(1)$, we obtain $i \\equiv j(\\bmod d)$. As $i, j \\in\\{0,1, \\ldots, d-1\\}$, this just means that $i=j$. Substituting this into (3) yields $m k \\equiv n k(\\bmod a)$. Therefore $m k^{\\prime} \\equiv n k^{\\prime}\\left(\\bmod a^{\\prime}\\right) ;$ and since $a^{\\prime}$ and $k^{\\prime}$ are coprime, we get $m \\equiv n\\left(\\bmod a^{\\prime}\\right)$. Hence also $m=n$.\n\nIt follows that the $a$ numbers that make up the $d$ sequences (2) satisfy all the requirements; they are certainly all greater than $N$ because we chose each $b_{i}>\\max \\left(2^{M}, N\\right)$. So the statement holds for $a$, completing the induction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_algebra_p2",
    "formal_statement": "theorem fimo_2007_algebra_p2\n  (f : ℕ → ℕ)\n  (h₀ : ∀ m n, f (m + n) ≥ f m + f (f n) - 1) :\n  ∃ k, 1 ≤ k ∧ k ≤ 2008 ∧ f 2007 = k := by sorry",
    "informal_statement": "Consider those functions $f: \\mathbb{N} \\rightarrow \\mathbb{N}$ which satisfy the condition\n\n$$\nf(m+n) \\geq f(m)+f(f(n))-1\n$$\n\nfor all $m, n \\in \\mathbb{N}$. Find all possible values of $f(2007)$.\n\n$(\\mathbb{N}$ denotes the set of all positive integers.)\n\nThe final answers are 1, 2, .., 2008.",
    "informal_proof": "Suppose that a function $f: \\mathbb{N} \\rightarrow \\mathbb{N}$ satisfies (1). For arbitrary positive integers $m>n$, by (1) we have\n\n$$\nf(m)=f(n+(m-n)) \\geq f(n)+f(f(m-n))-1 \\geq f(n),\n$$\n\nso $f$ is nondecreasing.\n\nFunction $f \\equiv 1$ is an obvious solution. To find other solutions, assume that $f \\not \\equiv 1$ and take the smallest $a \\in \\mathbb{N}$ such that $f(a)>1$. Then $f(b) \\geq f(a)>1$ for all integer $b \\geq a$.\n\nSuppose that $f(n)>n$ for some $n \\in \\mathbb{N}$. Then we have\n\n$$\nf(f(n))=f((f(n)-n)+n) \\geq f(f(n)-n)+f(f(n))-1\n$$\n\nso $f(f(n)-n) \\leq 1$ and hence $f(n)-n<a$. Then there exists a maximal value of the expression $f(n)-n$; denote this value by $c$, and let $f(k)-k=c \\geq 1$. Applying the monotonicity together with (1), we get\n\n$$\n\\begin{aligned}\n2 k+c \\geq f(2 k)=f(k+k) & \\geq f(k)+f(f(k))-1 \\\\\n& \\geq f(k)+f(k)-1=2(k+c)-1=2 k+(2 c-1),\n\\end{aligned}\n$$\n\nhence $c \\leq 1$ and $f(n) \\leq n+1$ for all $n \\in \\mathbb{N}$. In particular, $f(2007) \\leq 2008$.\n\nNow we present a family of examples showing that all values from 1 to 2008 can be realized. Let\n\n$$\nf_{j}(n)=\\max \\{1, n+j-2007\\} \\quad \\text { for } j=1,2, \\ldots, 2007 ; \\quad f_{2008}(n)= \\begin{cases}n, & 2007 \\backslash n \\\\ n+1, & 2007 \\mid n .\\end{cases}\n$$\n\nWe show that these functions satisfy the condition (1) and clearly $f_{j}(2007)=j$.\n\nTo check the condition (1) for the function $f_{j}(j \\leq 2007)$, note first that $f_{j}$ is nondecreasing and $f_{j}(n) \\leq n$, hence $f_{j}\\left(f_{j}(n)\\right) \\leq f_{j}(n) \\leq n$ for all $n \\in \\mathbb{N}$. Now, if $f_{j}(m)=1$, then the inequality (1) is clear since $f_{j}(m+n) \\geq f_{j}(n) \\geq f_{j}\\left(f_{j}(n)\\right)=f_{j}(m)+f_{j}\\left(f_{j}(n)\\right)-1$. Otherwise,\n\n$$\nf_{j}(m)+f_{j}\\left(f_{j}(n)\\right)-1 \\leq(m+j-2007)+n=(m+n)+j-2007=f_{j}(m+n) .\n$$\n\nIn the case $j=2008$, clearly $n+1 \\geq f_{2008}(n) \\geq n$ for all $n \\in \\mathbb{N}$; moreover, $n+1 \\geq$ $f_{2008}\\left(f_{2008}(n)\\right)$ as well. Actually, the latter is trivial if $f_{2008}(n)=n$; otherwise, $f_{2008}(n)=n+1$, which implies $2007 \\nmid n+1$ and hence $n+1=f_{2008}(n+1)=f_{2008}\\left(f_{2008}(n)\\right)$.\n\nSo, if $2007 \\mid m+n$, then\n\n$$\nf_{2008}(m+n)=m+n+1=(m+1)+(n+1)-1 \\geq f_{2008}(m)+f_{2008}\\left(f_{2008}(n)\\right)-1 .\n$$\n\nOtherwise, $2007 \\nmid m+n$, hence $2007 \\Varangle m$ or $2007 \\nless n$. In the former case we have $f_{2008}(m)=m$, while in the latter one $f_{2008}\\left(f_{2008}(n)\\right)=f_{2008}(n)=n$, providing\n\n$$\nf_{2008}(m)+f_{2008}\\left(f_{2008}(n)\\right)-1 \\leq(m+n+1)-1=f_{2008}(m+n) .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_algebra_p3",
    "formal_statement": "theorem fimo_2007_algebra_p3\n  (n : ℕ)\n  (x y : ℝ)\n  (h₀ : 0 < n)\n  (h₁ : 0 < x ∧ 0 < y)\n  (h₂ : x^n + y^n = 1) :\n  (∑ k in Finset.Icc 1 n, (1 + x^(2 * k)) / (1 + x^(4 * k))) *\n  (∑ k in Finset.Icc 1 n, (1 + y^(2 * k)) / (1 + y^(4 * k))) <\n  1 / ((1 - x) * (1 - y)) := by sorry",
    "informal_statement": "Let $n$ be a positive integer, and let $x$ and $y$ be positive real numbers such that $x^{n}+y^{n}=1$. Prove that\n\n$$\n\\left(\\sum_{k=1}^{n} \\frac{1+x^{2 k}}{1+x^{4 k}}\\right)\\left(\\sum_{k=1}^{n} \\frac{1+y^{2 k}}{1+y^{4 k}}\\right)<\\frac{1}{(1-x)(1-y)} .\n$$",
    "informal_proof": "For each real $t \\in(0,1)$,\n\n$$\n\\frac{1+t^{2}}{1+t^{4}}=\\frac{1}{t}-\\frac{(1-t)\\left(1-t^{3}\\right)}{t\\left(1+t^{4}\\right)}<\\frac{1}{t} .\n$$\n\nSubstituting $t=x^{k}$ and $t=y^{k}$\n\n$$\n0<\\sum_{k=1}^{n} \\frac{1+x^{2 k}}{1+x^{4 k}}<\\sum_{k=1}^{n} \\frac{1}{x^{k}}=\\frac{1-x^{n}}{x^{n}(1-x)} \\quad \\text { and } \\quad 0<\\sum_{k=1}^{n} \\frac{1+y^{2 k}}{1+y^{4 k}}<\\sum_{k=1}^{n} \\frac{1}{y^{k}}=\\frac{1-y^{n}}{y^{n}(1-y)} .\n$$\n\nSince $1-y^{n}=x^{n}$ and $1-x^{n}=y^{n}$\n\n$$\n\\frac{1-x^{n}}{x^{n}(1-x)}=\\frac{y^{n}}{x^{n}(1-x)}, \\quad \\frac{1-y^{n}}{y^{n}(1-y)}=\\frac{x^{n}}{y^{n}(1-y)}\n$$\n\nand therefore\n\n$$\n\\left(\\sum_{k=1}^{n} \\frac{1+x^{2 k}}{1+x^{4 k}}\\right)\\left(\\sum_{k=1}^{n} \\frac{1+y^{2 k}}{1+y^{4 k}}\\right)<\\frac{y^{n}}{x^{n}(1-x)} \\cdot \\frac{x^{n}}{y^{n}(1-y)}=\\frac{1}{(1-x)(1-y)} .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_algebra_p4",
    "formal_statement": "theorem fimo_2007_algebra_p4\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, 0 < x ∧ 0 < y → f (x + f y) = f (x + y) + f y)\n  (h₁ : ∀ x, 0 < x → 0 < f x) :\n  (∀ x, 0 < x → f x = 2 * x) := by sorry",
    "informal_statement": "Find all functions $f: \\mathbb{R}^{+} \\rightarrow \\mathbb{R}^{+}$such that\n\n$$\nf(x+f(y))=f(x+y)+f(y)\n$$\n\nfor all $x, y \\in \\mathbb{R}^{+}$. (Symbol $\\mathbb{R}^{+}$denotes the set of all positive real numbers.)\n\nThe final answer is $f(x)=2 x$.",
    "informal_proof": "First we show that $f(y)>y$ for all $y \\in \\mathbb{R}^{+}$. Functional equation (1) yields $f(x+f(y))>f(x+y)$ and hence $f(y) \\neq y$ immediately. If $f(y)<y$ for some $y$, then setting $x=y-f(y)$ we get\n\n$$\nf(y)=f((y-f(y))+f(y))=f((y-f(y))+y)+f(y)>f(y)\n$$\n\ncontradiction. Therefore $f(y)>y$ for all $y \\in \\mathbb{R}^{+}$.\n\nFor $x \\in \\mathbb{R}^{+}$define $g(x)=f(x)-x$; then $f(x)=g(x)+x$ and, as we have seen, $g(x)>0$. Transforming (1) for function $g(x)$ and setting $t=x+y$,\n\n$$\n\\begin{aligned}\nf(t+g(y)) & =f(t)+f(y) \\\\\ng(t+g(y))+t+g(y) & =(g(t)+t)+(g(y)+y)\n\\end{aligned}\n$$\n\nand therefore\n\n$$\ng(t+g(y))=g(t)+y \\quad \\text { for all } t>y>0\n$$\n\nNext we prove that function $g(x)$ is injective. Suppose that $g\\left(y_{1}\\right)=g\\left(y_{2}\\right)$ for some numbers $y_{1}, y_{2} \\in \\mathbb{R}^{+}$. Then by $(2)$\n\n$$\ng(t)+y_{1}=g\\left(t+g\\left(y_{1}\\right)\\right)=g\\left(t+g\\left(y_{2}\\right)\\right)=g(t)+y_{2}\n$$\n\nfor all $t>\\max \\left\\{y_{1}, y_{2}\\right\\}$. Hence, $g\\left(y_{1}\\right)=g\\left(y_{2}\\right)$ is possible only if $y_{1}=y_{2}$.\n\nNow let $u, v$ be arbitrary positive numbers and $t>u+v$. Applying (2) three times,\n\n$$\ng(t+g(u)+g(v))=g(t+g(u))+v=g(t)+u+v=g(t+g(u+v)) .\n$$\n\nBy the injective property we conclude that $t+g(u)+g(v)=t+g(u+v)$, hence\n\n$$\ng(u)+g(v)=g(u+v) .\n$$\n\nSince function $g(v)$ is positive, equation (3) also shows that $g$ is an increasing function.\n\nFinally we prove that $g(x)=x$. Combining $(2)$ and (3), we obtain\n\n$$\ng(t)+y=g(t+g(y))=g(t)+g(g(y))\n$$\n\nand hence\n\n$$\ng(g(y))=y .\n$$\n\nSuppose that there exists an $x \\in \\mathbb{R}^{+}$such that $g(x) \\neq x$. By the monotonicity of $g$, if $x>g(x)$ then $g(x)>g(g(x))=x$. Similarly, if $x<g(x)$ then $g(x)<g(g(x))=x$. Both cases lead to contradiction, so there exists no such $x$.\n\nWe have proved that $g(x)=x$ and therefore $f(x)=g(x)+x=2 x$ for all $x \\in \\mathbb{R}^{+}$. This function indeed satisfies the functional equation (1).",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_algebra_p6",
    "formal_statement": "theorem fimo_2007_algebra_p6\n  (a : ℕ → ℝ)\n  (h₀ : ∀ i, 0 ≤ a i)\n  (h₁ : ∑ i in Finset.range 100, (a i)^2 = 1) :\n  ∑ i in Finset.range 100, (a i)^2 * a ((i + 1) % 100) < 12 / 25 := by sorry",
    "informal_statement": "Let $a_{1}, a_{2}, \\ldots, a_{100}$ be nonnegative real numbers such that $a_{1}^{2}+a_{2}^{2}+\\ldots+a_{100}^{2}=1$. Prove that\n\n$$\na_{1}^{2} a_{2}+a_{2}^{2} a_{3}+\\ldots+a_{100}^{2} a_{1}<\\frac{12}{25} .\n$$",
    "informal_proof": "Let $S=\\sum_{k=1}^{100} a_{k}^{2} a_{k+1}$. (As usual, we consider the indices modulo 100, e.g. we set $a_{101}=a_{1}$ and $\\left.a_{102}=a_{2}.\\right)$\n\nApplying the Cauchy-Schwarz inequality to sequences $\\left(a_{k+1}\\right)$ and $\\left(a_{k}^{2}+2 a_{k+1} a_{k+2}\\right)$, and then the AM-GM inequality to numbers $a_{k+1}^{2}$ and $a_{k+2}^{2}$,\n\n$$\n\\begin{aligned}\n(3 S)^{2} & =\\left(\\sum_{k=1}^{100} a_{k+1}\\left(a_{k}^{2}+2 a_{k+1} a_{k+2}\\right)\\right)^{2} \\leq\\left(\\sum_{k=1}^{100} a_{k+1}^{2}\\right)\\left(\\sum_{k=1}^{100}\\left(a_{k}^{2}+2 a_{k+1} a_{k+2}\\right)^{2}\\right) \\\\\n& =1 \\cdot \\sum_{k=1}^{100}\\left(a_{k}^{2}+2 a_{k+1} a_{k+2}\\right)^{2}=\\sum_{k=1}^{100}\\left(a_{k}^{4}+4 a_{k}^{2} a_{k+1} a_{k+2}+4 a_{k+1}^{2} a_{k+2}^{2}\\right) \\\\\n& \\leq \\sum_{k=1}^{100}\\left(a_{k}^{4}+2 a_{k}^{2}\\left(a_{k+1}^{2}+a_{k+2}^{2}\\right)+4 a_{k+1}^{2} a_{k+2}^{2}\\right)=\\sum_{k=1}^{100}\\left(a_{k}^{4}+6 a_{k}^{2} a_{k+1}^{2}+2 a_{k}^{2} a_{k+2}^{2}\\right)\n\\end{aligned}\n$$\n\nApplying the trivial estimates\n\n$$\n\\sum_{k=1}^{100}\\left(a_{k}^{4}+2 a_{k}^{2} a_{k+1}^{2}+2 a_{k}^{2} a_{k+2}^{2}\\right) \\leq\\left(\\sum_{k=1}^{100} a_{k}^{2}\\right)^{2} \\quad \\text { and } \\quad \\sum_{k=1}^{100} a_{k}^{2} a_{k+1}^{2} \\leq\\left(\\sum_{i=1}^{50} a_{2 i-1}^{2}\\right)\\left(\\sum_{j=1}^{50} a_{2 j}^{2}\\right)\n$$\n\nwe obtain that\n\n$$\n(3 S)^{2} \\leq\\left(\\sum_{k=1}^{100} a_{k}^{2}\\right)^{2}+4\\left(\\sum_{i=1}^{50} a_{2 i-1}^{2}\\right)\\left(\\sum_{j=1}^{50} a_{2 j}^{2}\\right) \\leq 1+\\left(\\sum_{i=1}^{50} a_{2 i-1}^{2}+\\sum_{j=1}^{50} a_{2 j}^{2}\\right)^{2}=2\n$$\n\nhence\n\n$$\nS \\leq \\frac{\\sqrt{2}}{3} \\approx 0.4714<\\frac{12}{25}=0.48 .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_number_theory_p1",
    "formal_statement": "theorem fimo_2007_number_theory_p1\n  (k n : ℕ)\n  (h₀ : 0 < k ∧ 0 < n)\n  (h₁ : (k^4 + n^2) % (7^k - 3^n) = 0) :\n  (k, n) = (2, 4) := by sorry",
    "informal_statement": "Find all pairs $(k, n)$ of positive integers for which $7^{k}-3^{n}$ divides $k^{4}+n^{2}$.\n\nThe final answer is $(2,4)$.",
    "informal_proof": " Suppose that a pair $(k, n)$ satisfies the condition of the problem. Since $7^{k}-3^{n}$ is even, $k^{4}+n^{2}$ is also even, hence $k$ and $n$ have the same parity. If $k$ and $n$ are odd, then $k^{4}+n^{2} \\equiv 1+1=2(\\bmod 4)$, while $7^{k}-3^{n} \\equiv 7-3 \\equiv 0(\\bmod 4)$, so $k^{4}+n^{2}$ cannot be divisible by $7^{k}-3^{n}$. Hence, both $k$ and $n$ must be even.\n\nWrite $k=2 a, n=2 b$. Then $7^{k}-3^{n}=7^{2 a}-3^{2 b}=\\frac{7^{a}-3^{b}}{2} \\cdot 2\\left(7^{a}+3^{b}\\right)$, and both factors are integers. So $2\\left(7^{a}+3^{b}\\right) \\mid 7^{k}-3^{n}$ and $7^{k}-3^{n} \\mid k^{4}+n^{2}=2\\left(8 a^{4}+2 b^{2}\\right)$, hence\n\n$$\n7^{a}+3^{b} \\leq 8 a^{4}+2 b^{2} .\n$$\n\nWe prove by induction that $8 a^{4}<7^{a}$ for $a \\geq 4,2 b^{2}<3^{b}$ for $b \\geq 1$ and $2 b^{2}+9 \\leq 3^{b}$ for $b \\geq 3$. In the initial cases $a=4, b=1, b=2$ and $b=3$ we have $8 \\cdot 4^{4}=2048<7^{4}=2401,2<3$, $2 \\cdot 2^{2}=8<3^{2}=9$ and $2 \\cdot 3^{2}+9=3^{3}=27$, respectively.\n\nIf $8 a^{4}<7^{a}(a \\geq 4)$ and $2 b^{2}+9 \\leq 3^{b}(b \\geq 3)$, then\n\n$$\n\\begin{gathered}\n8(a+1)^{4}=8 a^{4}\\left(\\frac{a+1}{a}\\right)^{4}<7^{a}\\left(\\frac{5}{4}\\right)^{4}=7^{a} \\frac{625}{256}<7^{a+1} \\quad \\text { and } \\\\\n2(b+1)^{2}+9<\\left(2 b^{2}+9\\right)\\left(\\frac{b+1}{b}\\right)^{2} \\leq 3^{b}\\left(\\frac{4}{3}\\right)^{2}=3^{b} \\frac{b}{9}<3^{b+1},\n\\end{gathered}\n$$\n\nas desired.\n\nFor $a \\geq 4$ we obtain $7^{a}+3^{b}>8 a^{4}+2 b^{2}$ and inequality (1) cannot hold. Hence $a \\leq 3$, and three cases are possible.\n\nCase 1: $a=1$. Then $k=2$ and $8+2 b^{2} \\geq 7+3^{b}$, thus $2 b^{2}+1 \\geq 3^{b}$. This is possible only if $b \\leq 2$. If $b=1$ then $n=2$ and $\\frac{k^{4}+n^{2}}{7^{k}-3^{n}}=\\frac{2^{4}+2^{2}}{7^{2}-3^{2}}=\\frac{1}{2}$, which is not an integer. If $b=2$ then $n=4$ and $\\frac{k^{4}+n^{2}}{7^{k}-3^{n}}=\\frac{2^{4}+4^{2}}{7^{2}-3^{4}}=-1$, so $(k, n)=(2,4)$ is a solution.\n\nCase 2: $a=2$. Then $k=4$ and $k^{4}+n^{2}=256+4 b^{2} \\geq\\left|7^{4}-3^{n}\\right|=\\left|49-3^{b}\\right| \\cdot\\left(49+3^{b}\\right)$. The smallest value of the first factor is 22 , attained at $b=3$, so $128+2 b^{2} \\geq 11\\left(49+3^{b}\\right)$, which is impossible since $3^{b}>2 b^{2}$.\n\nCase 3: $a=3$. Then $k=6$ and $k^{4}+n^{2}=1296+4 b^{2} \\geq\\left|7^{6}-3^{n}\\right|=\\left|343-3^{b}\\right| \\cdot\\left(343+3^{b}\\right)$. Analogously, $\\left|343-3^{b}\\right| \\geq 100$ and we have $324+b^{2} \\geq 25\\left(343+3^{b}\\right)$, which is impossible again.\n\nWe find that there exists a unique solution $(k, n)=(2,4)$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_number_theory_p2",
    "formal_statement": "theorem fimo_2007_number_theory_p2\n  (b n : ℕ)\n  (h₀ : 1 < n)\n  (h₁ : ∀ k > 1, ∃ a_k : ℕ, (b - a_k^n) % k = 0) :\n  ∃ A : ℕ, b = A^n := by sorry",
    "informal_statement": "Let $b, n>1$ be integers. Suppose that for each $k>1$ there exists an integer $a_{k}$ such that $b-a_{k}^{n}$ is divisible by $k$. Prove that $b=A^{n}$ for some integer $A$.",
    "informal_proof": "Let the prime factorization of $b$ be $b=p_{1}^{\\alpha_{1}} \\ldots p_{s}^{\\alpha_{s}}$, where $p_{1}, \\ldots, p_{s}$ are distinct primes. Our goal is to show that all exponents $\\alpha_{i}$ are divisible by $n$, then we can set $A=p_{1}^{\\alpha_{1} / n} \\ldots p_{s}^{\\alpha_{s} / n}$.\n\nApply the condition for $k=b^{2}$. The number $b-a_{k}^{n}$ is divisible by $b^{2}$ and hence, for each $1 \\leq i \\leq s$, it is divisible by $p_{i}^{2 \\alpha_{i}}>p_{i}^{\\alpha_{i}}$ as well. Therefore\n\n$$\na_{k}^{n} \\equiv b \\equiv 0 \\quad\\left(\\bmod p_{i}^{\\alpha_{i}}\\right)\n$$\n\nand\n\n$$\na_{k}^{n} \\equiv b \\not \\equiv 0 \\quad\\left(\\bmod p_{i}^{\\alpha_{i}+1}\\right),\n$$\n\nwhich implies that the largest power of $p_{i}$ dividing $a_{k}^{n}$ is $p_{i}^{\\alpha_{i}}$. Since $a_{k}^{n}$ is a complete $n$th power, this implies that $\\alpha_{i}$ is divisible by $n$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_number_theory_p3",
    "formal_statement": "theorem fimo_2007_number_theory_p3 :\n   ∀ (X : Finset ℕ),\n    Finset.card X = 10000 ∧\n    (∀ x ∈ X, x % 47 ≠ 0) →\n    ∃ (Y : Finset ℕ),\n      Finset.card Y = 2007 ∧\n      Y ⊆ X ∧\n      ∀ (a b c d e : Y), ((a:ℕ) - b  + c - d + e) % 47 ≠ 0 := by sorry",
    "informal_statement": "Let $X$ be a set of 10000 integers, none of them is divisible by 47 . Prove that there exists a 2007-element subset $Y$ of $X$ such that $a-b+c-d+e$ is not divisible by 47 for any $a, b, c, d, e \\in Y$.",
    "informal_proof": "Call a set $M$ of integers good if $47 \\nmid a-b+c-d+e$ for any $a, b, c, d, e \\in M$.\n\nConsider the set $J=\\{-9,-7,-5,-3,-1,1,3,5,7,9\\}$. We claim that $J$ is good. Actually, for any $a, b, c, d, e \\in J$ the number $a-b+c-d+e$ is odd and\n\n$$\n-45=(-9)-9+(-9)-9+(-9) \\leq a-b+c-d+e \\leq 9-(-9)+9-(-9)+9=45\n$$\n\nBut there is no odd number divisible by 47 between $-45$ and 45 .\n\nFor any $k=1, \\ldots, 46$ consider the set\n\n$$\nA_{k}=\\{x \\in X \\mid \\exists j \\in J: \\quad k x \\equiv j(\\bmod 47)\\}\n$$\n\nIf $A_{k}$ is not good, then $47 \\mid a-b+c-d+e$ for some $a, b, c, d, e \\in A_{k}$, hence $47 \\mid k a-k b+$ $k c-k d+k e$. But set $J$ contains numbers with the same residues modulo 47 , so $J$ also is not good. This is a contradiction; therefore each $A_{k}$ is a good subset of $X$.\n\nThen it suffices to prove that there exists a number $k$ such that $\\left|A_{k}\\right| \\geq 2007$. Note that each $x \\in X$ is contained in exactly 10 sets $A_{k}$. Then\n\n$$\n\\sum_{k=1}^{46}\\left|A_{k}\\right|=10|X|=100000\n$$\n\nhence for some value of $k$ we have\n\n$$\n\\left|A_{k}\\right| \\geq \\frac{100000}{46}>2173>2007 .\n$$\n\nThis completes the proof.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_number_theory_p4",
    "formal_statement": "theorem fimo_2007_number_theory_p4\n  (k : ℕ)\n  (h₀ : 2 ≤ k) :\n  (2^(3*k) ∣ (Nat.choose (2^(k+1)) (2^k) - Nat.choose (2^k) (2^(k-1)))) ∧\n  ¬(2^(3*(k+1)) ∣ (Nat.choose (2^(k+1)) (2^k) - Nat.choose (2^k) (2^(k-1)))) := by sorry",
    "informal_statement": "For every integer $k \\geq 2$, prove that $2^{3 k}$ divides the number\n\n$$\n\\left(\\begin{array}{c}\n2^{k+1} \\\\\n2^{k}\n\\end{array}\\right)-\\left(\\begin{array}{c}\n2^{k} \\\\\n2^{k-1}\n\\end{array}\\right)\n$$\n\nbut $2^{3 k+1}$ does not.",
    "informal_proof": "We use the notation $(2 n-1) ! !=1 \\cdot 3 \\cdots(2 n-1)$ and $(2 n) ! !=2 \\cdot 4 \\cdots(2 n)=2^{n} n$ ! for any positive integer $n$. Observe that $(2 n) !=(2 n) ! !(2 n-1) ! !=2^{n} n !(2 n-1) ! !$.\n\nFor any positive integer $n$ we have\n\n$$\n\\begin{aligned}\n\\left(\\begin{array}{c}\n4 n \\\\\n2 n\n\\end{array}\\right) & =\\frac{(4 n) !}{(2 n) !^{2}}=\\frac{2^{2 n}(2 n) !(4 n-1) ! !}{(2 n) !^{2}}=\\frac{2^{2 n}}{(2 n) !}(4 n-1) ! ! \\\\\n\\left(\\begin{array}{c}\n2 n \\\\\nn\n\\end{array}\\right) & =\\frac{1}{(2 n) !}\\left(\\frac{(2 n) !}{n !}\\right)^{2}=\\frac{1}{(2 n) !}\\left(2^{n}(2 n-1) ! !\\right)^{2}=\\frac{2^{2 n}}{(2 n) !}(2 n-1) ! !^{2}\n\\end{aligned}\n$$\n\nThen expression (1) can be rewritten as follows:\n\n$$\n\\begin{aligned}\n\\left(\\begin{array}{c}\n2^{k+1} \\\\\n2^{k}\n\\end{array}\\right) & -\\left(\\begin{array}{c}\n2^{k} \\\\\n2^{k-1}\n\\end{array}\\right)=\\frac{2^{2^{k}}}{\\left(2^{k}\\right) !}\\left(2^{k+1}-1\\right) ! !-\\frac{2^{2^{k}}}{\\left(2^{k}\\right) !}\\left(2^{k}-1\\right) ! !^{2} \\\\\n& =\\frac{2^{2^{k}}\\left(2^{k}-1\\right) ! !}{\\left(2^{k}\\right) !} \\cdot\\left(\\left(2^{k}+1\\right)\\left(2^{k}+3\\right) \\ldots\\left(2^{k}+2^{k}-1\\right)-\\left(2^{k}-1\\right)\\left(2^{k}-3\\right) \\ldots\\left(2^{k}-2^{k}+1\\right)\\right) .\n\\end{aligned}\n$$\n\nWe compute the exponent of 2 in the prime decomposition of each factor (the first one is a rational number but not necessarily an integer; it is not important).\n\nFirst, we show by induction on $n$ that the exponent of 2 in $\\left(2^{n}\\right)$ ! is $2^{n}-1$. The base case $n=1$ is trivial. Suppose that $\\left(2^{n}\\right) !=2^{2^{n}-1}(2 d+1)$ for some integer $d$. Then we have\n\n$$\n\\left(2^{n+1}\\right) !=2^{2^{n}}\\left(2^{n}\\right) !\\left(2^{n+1}-1\\right) ! !=2^{2^{n}} 2^{2^{n}-1} \\cdot(2 d+1)\\left(2^{n+1}-1\\right) ! !=2^{2^{n+1}-1} \\cdot(2 q+1)\n$$\n\nfor some integer $q$. This finishes the induction step.\n\nHence, the exponent of 2 in the first factor in $(2)$ is $2^{k}-\\left(2^{k}-1\\right)=1$.\n\nThe second factor in (2) can be considered as the value of the polynomial\n\n$$\nP(x)=(x+1)(x+3) \\ldots\\left(x+2^{k}-1\\right)-(x-1)(x-3) \\ldots\\left(x-2^{k}+1\\right) .\n$$\n\nat $x=2^{k}$. Now we collect some information about $P(x)$.\n\nObserve that $P(-x)=-P(x)$, since $k \\geq 2$. So $P(x)$ is an odd function, and it has nonzero coefficients only at odd powers of $x$. Hence $P(x)=x^{3} Q(x)+c x$, where $Q(x)$ is a polynomial with integer coefficients.\n\nCompute the exponent of 2 in $c$. We have\n\n$$\n\\begin{aligned}\nc & =2\\left(2^{k}-1\\right) ! ! \\sum_{i=1}^{2^{k-1}} \\frac{1}{2 i-1}=\\left(2^{k}-1\\right) ! ! \\sum_{i=1}^{2^{k-1}}\\left(\\frac{1}{2 i-1}+\\frac{1}{2^{k}-2 i+1}\\right) \\\\\n& =\\left(2^{k}-1\\right) ! ! \\sum_{i=1}^{2^{k-1}} \\frac{2^{k}}{(2 i-1)\\left(2^{k}-2 i+1\\right)}=2^{k} \\sum_{i=1}^{2^{k-1}} \\frac{\\left(2^{k}-1\\right) ! !}{(2 i-1)\\left(2^{k}-2 i+1\\right)}=2^{k} S\n\\end{aligned}\n$$\n\nFor any integer $i=1, \\ldots, 2^{k-1}$, denote by $a_{2 i-1}$ the residue inverse to $2 i-1$ modulo $2^{k}$. Clearly, when $2 i-1$ runs through all odd residues, so does $a_{2 i-1}$, hence\n\n$$\n\\begin{gathered}\nS=\\sum_{i=1}^{2^{k-1}} \\frac{\\left(2^{k}-1\\right) ! !}{(2 i-1)\\left(2^{k}-2 i+1\\right)} \\equiv-\\sum_{i=1}^{2^{k-1}} \\frac{\\left(2^{k}-1\\right) ! !}{(2 i-1)^{2}} \\equiv-\\sum_{i=1}^{2^{k-1}}\\left(2^{k}-1\\right) ! ! a_{2 i-1}^{2} \\\\\n=-\\left(2^{k}-1\\right) ! ! \\sum_{i=1}^{2^{k-1}}(2 i-1)^{2}=-\\left(2^{k}-1\\right) ! ! \\frac{2^{k-1}\\left(2^{2 k}-1\\right)}{3} \\quad\\left(\\bmod 2^{k}\\right) .\n\\end{gathered}\n$$\n\nTherefore, the exponent of 2 in $S$ is $k-1$, so $c=2^{k} S=2^{2 k-1}(2 t+1)$ for some integer $t$.\n\nFinally we obtain that\n\n$$\nP\\left(2^{k}\\right)=2^{3 k} Q\\left(2^{k}\\right)+2^{k} c=2^{3 k} Q\\left(2^{k}\\right)+2^{3 k-1}(2 t+1),\n$$\n\nwhich is divisible exactly by $2^{3 k-1}$. Thus, the exponent of 2 in $(2)$ is $1+(3 k-1)=3 k$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_number_theory_p5",
    "formal_statement": "theorem fimo_2007_number_theory_p5\n  (f : ℕ+ → ℕ+)\n  (h₀ : ∀ m n p, Nat.Prime p → (p ∣ f (m + n) ↔ p ∣ (f m + f n))) :\n  ∀ n, f n = n := by sorry",
    "informal_statement": "Find all surjective functions $f: \\mathbb{N} \\rightarrow \\mathbb{N}$ such that for every $m, n \\in \\mathbb{N}$ and every prime $p$, the number $f(m+n)$ is divisible by $p$ if and only if $f(m)+f(n)$ is divisible by $p$.\n\n( $\\mathbb{N}$ is the set of all positive integers.)\n\nThe final answer is $f(n)=n$.",
    "informal_proof": "Suppose that function $f: \\mathbb{N} \\rightarrow \\mathbb{N}$ satisfies the problem conditions.\n\nLemma. For any prime $p$ and any $x, y \\in \\mathbb{N}$, we have $x \\equiv y(\\bmod p)$ if and only if $f(x) \\equiv f(y)$ $(\\bmod p)$. Moreover, $p \\mid f(x)$ if and only if $p \\mid x$.\n\nProof. Consider an arbitrary prime $p$. Since $f$ is surjective, there exists some $x \\in \\mathbb{N}$ such that $p \\mid f(x)$. Let\n\n$$\nd=\\min \\{x \\in \\mathbb{N}: p \\mid f(x)\\} .\n$$\n\nBy induction on $k$, we obtain that $p \\mid f(k d)$ for all $k \\in \\mathbb{N}$. The base is true since $p \\mid f(d)$. Moreover, if $p \\mid f(k d)$ and $p \\mid f(d)$ then, by the problem condition, $p \\mid f(k d+d)=f((k+1) d)$ as required.\n\nSuppose that there exists an $x \\in \\mathbb{N}$ such that $d \\nmid x$ but $p \\mid f(x)$. Let\n\n$$\ny=\\min \\{x \\in \\mathbb{N}: d \\backslash x, p \\mid f(x)\\} .\n$$\n\nBy the choice of $d$, we have $y>d$, and $y-d$ is a positive integer not divisible by $d$. Then $p \\nmid f(y-d)$, while $p \\mid f(d)$ and $p \\mid f(d+(y-d))=f(y)$. This contradicts the problem condition. Hence, there is no such $x$, and\n\n$$\np|f(x) \\Longleftrightarrow d| x .\n$$\n\nTake arbitrary $x, y \\in \\mathbb{N}$ such that $x \\equiv y(\\bmod d)$. We have $p \\mid f(x+(2 x d-x))=f(2 x d)$; moreover, since $d \\mid 2 x d+(y-x)=y+(2 x d-x)$, we get $p \\mid f(y+(2 x d-x))$. Then by the problem condition $p|f(x)+f(2 x d-x), p| f(y)+f(2 x d-x)$, and hence $f(x) \\equiv-f(2 x d-x) \\equiv f(y)$ $(\\bmod p)$\n\nOn the other hand, assume that $f(x) \\equiv f(y)(\\bmod p)$. Again we have $p \\mid f(x)+f(2 x d-x)$ which by our assumption implies that $p \\mid f(x)+f(2 x d-x)+(f(y)-f(x))=f(y)+f(2 x d-x)$. Hence by the problem condition $p \\mid f(y+(2 x d-x))$. Using (1) we get $0 \\equiv y+(2 x d-x) \\equiv y-x$ $(\\bmod d)$\n\nThus, we have proved that\n\n$$\nx \\equiv y \\quad(\\bmod d) \\Longleftrightarrow f(x) \\equiv f(y) \\quad(\\bmod p) .\n$$\n\nWe are left to show that $p=d$ : in this case (1) and (2) provide the desired statements.\n\nThe numbers $1,2, \\ldots, d$ have distinct residues modulo $d$. By $(2)$, numbers $f(1), f(2), \\ldots$, $f(d)$ have distinct residues modulo $p$; hence there are at least $d$ distinct residues, and $p \\geq d$. On the other hand, by the surjectivity of $f$, there exist $x_{1}, \\ldots, x_{p} \\in \\mathbb{N}$ such that $f\\left(x_{i}\\right)=i$ for any $i=1,2, \\ldots, p$. By $(2)$, all these $x_{i}$ 's have distinct residues modulo $d$. For the same reasons, $d \\geq p$. Hence, $d=p$.\n\nNow we prove that $f(n)=n$ by induction on $n$. If $n=1$ then, by the Lemma, $p \\nmid f(1)$ for any prime $p$, so $f(1)=1$, and the base is established. Suppose that $n>1$ and denote $k=f(n)$. Note that there exists a prime $q \\mid n$, so by the Lemma $q \\mid k$ and $k>1$.\n\nIf $k>n$ then $k-n+1>1$, and there exists a prime $p \\mid k-n+1$; we have $k \\equiv n-1$ $(\\bmod p)$. By the induction hypothesis we have $f(n-1)=n-1 \\equiv k=f(n)(\\bmod p)$. Now, by the Lemma we obtain $n-1 \\equiv n(\\bmod p)$ which cannot be true. Analogously, if $k<n$, then $f(k-1)=k-1$ by induction hypothesis. Moreover, $n-k+1>1$, so there exists a prime $p \\mid n-k+1$ and $n \\equiv k-1(\\bmod p)$. By the Lemma again, $k=f(n) \\equiv$ $f(k-1)=k-1(\\bmod p)$, which is also false. The only remaining case is $k=n$, so $f(n)=n$.\n\nFinally, the function $f(n)=n$ obviously satisfies the condition.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2007_number_theory_p6",
    "formal_statement": "theorem fimo_2007_number_theory_p6\n  (k n : ℕ)\n  (h₀ : 0 < k) :\n  (∃ n, (8 * k * n - 1) ∣ ((4 * k^2 - 1)^2)) ↔ (2 ∣ k) := by sorry",
    "informal_statement": "Let $k$ be a positive integer. Prove that the number $\\left(4 k^{2}-1\\right)^{2}$ has a positive divisor of the form $8 k n-1$ if and only if $k$ is even.",
    "informal_proof": "The statement follows from the following fact.\n\nLemma. For arbitrary positive integers $x$ and $y$, the number $4 x y-1$ divides $\\left(4 x^{2}-1\\right)^{2}$ if and only if $x=y$.\n\nProof. If $x=y$ then $4 x y-1=4 x^{2}-1$ obviously divides $\\left(4 x^{2}-1\\right)^{2}$ so it is sufficient to consider the opposite direction.\n\nCall a pair $(x, y)$ of positive integers bad if $4 x y-1$ divides $\\left(4 x^{2}-1\\right)^{2}$ but $x \\neq y$. In order to prove that bad pairs do not exist, we present two properties of them which provide an infinite descent.\n\nProperty (i). If $(x, y)$ is a bad pair and $x<y$ then there exists a positive integer $z<x$ such that $(x, z)$ is also bad.\n\nLet $r=\\frac{\\left(4 x^{2}-1\\right)^{2}}{4 x y-1}$. Then\n\n$$\nr=-r \\cdot(-1) \\equiv-r(4 x y-1)=-\\left(4 x^{2}-1\\right)^{2} \\equiv-1 \\quad(\\bmod 4 x)\n$$\n\nand $r=4 x z-1$ with some positive integer $z$. From $x<y$ we obtain that\n\n$$\n4 x z-1=\\frac{\\left(4 x^{2}-1\\right)^{2}}{4 x y-1}<4 x^{2}-1\n$$\n\nand therefore $z<x$. By the construction, the number $4 x z-1$ is a divisor of $\\left(4 x^{2}-1\\right)^{2}$ so $(x, z)$ is a bad pair.\n\nProperty (ii). If $(x, y)$ is a bad pair then $(y, x)$ is also bad.\n\nSince $1=1^{2} \\equiv(4 x y)^{2}(\\bmod 4 x y-1)$, we have\n\n$$\n\\left(4 y^{2}-1\\right)^{2} \\equiv\\left(4 y^{2}-(4 x y)^{2}\\right)^{2}=16 y^{4}\\left(4 x^{2}-1\\right)^{2} \\equiv 0 \\quad(\\bmod 4 x y-1) .\n$$\n\nHence, the number $4 x y-1$ divides $\\left(4 y^{2}-1\\right)^{2}$ as well.\n\nNow suppose that there exists at least one bad pair. Take a bad pair $(x, y)$ such that $2 x+y$ attains its smallest possible value. If $x<y$ then property (i) provides a bad pair $(x, z)$ with $z<y$ and thus $2 x+z<2 x+y$. Otherwise, if $y<x$, property (ii) yields that pair $(y, x)$ is also bad while $2 y+x<2 x+y$. Both cases contradict the assumption that $2 x+y$ is minimal; the Lemma is proved.\n\nTo prove the problem statement, apply the Lemma for $x=k$ and $y=2 n$; the number $8 k n-1$ divides $\\left(4 k^{2}-1\\right)^{2}$ if and only if $k=2 n$. Hence, there is no such $n$ if $k$ is odd and $n=k / 2$ is the only solution if $k$ is even.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p1",
    "formal_statement": "theorem fimo_2008_algebra_p1\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x > 0, 0 < f x)\n  (h₁ : ∀ p q r s : ℝ, p > 0 → q > 0 → r > 0 → s > 0 → p * q = r * s →\n    (f p)^2 + (f q)^2 / (f (r^2)) + (f (s^2)) = (p^2 + q^2) / (r^2 + s^2)) :\n  (∀ x > 0, f x = x) ∨ (∀ x > 0, f x = 1 / x) := by sorry",
    "informal_statement": "Find all functions $f:(0, \\infty) \\rightarrow(0, \\infty)$ such that\n\n$$\n\\frac{f(p)^{2}+f(q)^{2}}{f\\left(r^{2}\\right)+f\\left(s^{2}\\right)}=\\frac{p^{2}+q^{2}}{r^{2}+s^{2}}\n$$\n\nfor all $p, q, r, s>0$ with $p q=r s$.\n\nThe final answer is \n\n$$\nf(x)=x \\quad \\text { for all } x>0 \\quad \\text { or } \\quad f(x)=\\frac{1}{x} \\quad \\text { for all } x>0\n$$",
    "informal_proof": "Let $f$ satisfy the given condition. Setting $p=q=r=s=1$ yields $f(1)^{2}=f(1)$ and hence $f(1)=1$. Now take any $x>0$ and set $p=x, q=1, r=s=\\sqrt{x}$ to obtain\n\n$$\n\\frac{f(x)^{2}+1}{2 f(x)}=\\frac{x^{2}+1}{2 x} .\n$$\n\nThis recasts into\n\n$$\n\\begin{gathered}\nx f(x)^{2}+x=x^{2} f(x)+f(x), \\\\\n(x f(x)-1)(f(x)-x)=0 .\n\\end{gathered}\n$$\n\nAnd thus,\n\n$$\n\\text { for every } x>0, \\text { either } f(x)=x \\text { or } f(x)=\\frac{1}{x} \\text {. }\n$$\n\nObviously, if\n\n$$\nf(x)=x \\quad \\text { for all } x>0 \\quad \\text { or } \\quad f(x)=\\frac{1}{x} \\quad \\text { for all } x>0\n$$\n\nthen the condition of the problem is satisfied. We show that actually these two functions are the only solutions.\n\nSo let us assume that there exists a function $f$ satisfying the requirement, other than those in (2). Then $f(a) \\neq a$ and $f(b) \\neq 1 / b$ for some $a, b>0$. By (1), these values must be $f(a)=1 / a, f(b)=b$. Applying now the equation with $p=a, q=b, r=s=\\sqrt{a b}$ we obtain $\\left(a^{-2}+b^{2}\\right) / 2 f(a b)=\\left(a^{2}+b^{2}\\right) / 2 a b ;$ equivalently\n\n$$\nf(a b)=\\frac{a b\\left(a^{-2}+b^{2}\\right)}{a^{2}+b^{2}} .\n$$\n\nWe know however (see (1)) that $f(a b)$ must be either $a b$ or $1 / a b$. If $f(a b)=a b$ then by (3) $a^{-2}+b^{2}=a^{2}+b^{2}$, so that $a=1$. But, as $f(1)=1$, this contradicts the relation $f(a) \\neq a$. Likewise, if $f(a b)=1 / a b$ then $(3)$ gives $a^{2} b^{2}\\left(a^{-2}+b^{2}\\right)=a^{2}+b^{2}$, whence $b=1$, in contradiction to $f(b) \\neq 1 / b$. Thus indeed the functions listed in (2) are the only two solutions.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p2_1",
    "formal_statement": "theorem fimo_2008_algebra_p2_1\n  (x y z : ℝ)\n  (h₀ : x ≠ 1 ∧ y ≠ 1 ∧ z ≠ 1)\n  (h₁ : x * y * z = 1) :\n  x^2 / (x - 1)^2 + y^2 / (y - 1)^2 + z^2 / (z - 1)^2 ≥ 1 := by sorry",
    "informal_statement": "Prove the inequality\n\n$$\n\\frac{x^{2}}{(x-1)^{2}}+\\frac{y^{2}}{(y-1)^{2}}+\\frac{z^{2}}{(z-1)^{2}} \\geq 1\n$$\n\nfor real numbers $x, y, z \\neq 1$ satisfying the condition $x y z=1$.",
    "informal_proof": "We start with the substitution\n\n$$\n\\frac{x}{x-1}=a, \\quad \\frac{y}{y-1}=b, \\quad \\frac{z}{z-1}=c, \\quad \\text { i.e., } \\quad x=\\frac{a}{a-1}, \\quad y=\\frac{b}{b-1}, \\quad z=\\frac{c}{c-1} .\n$$\n\nThe inequality to be proved reads $a^{2}+b^{2}+c^{2} \\geq 1$. The new variables are subject to the constraints $a, b, c \\neq 1$ and the following one coming from the condition $x y z=1$,\n\n$$\n(a-1)(b-1)(c-1)=a b c .\n$$\n\nThis is successively equivalent to\n\n$$\n\\begin{aligned}\na+b+c-1 & =a b+b c+c a \\\\\n2(a+b+c-1) & =(a+b+c)^{2}-\\left(a^{2}+b^{2}+c^{2}\\right) \\\\\na^{2}+b^{2}+c^{2}-2 & =(a+b+c)^{2}-2(a+b+c) \\\\\na^{2}+b^{2}+c^{2}-1 & =(a+b+c-1)^{2}\n\\end{aligned}\n$$\n\nThus indeed $a^{2}+b^{2}+c^{2} \\geq 1$, as desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p3_1",
    "formal_statement": "theorem fimo_2008_algebra_p3_1 :\n  ¬(∃ (f g : ℕ → ℕ),\n    (∀ x y, x < y → f x < f y ∧ g x < g y) ∧\n    (∀ x, f (g (g x)) < g (f x))) := by sorry",
    "informal_statement": "Let $S \\subseteq \\mathbb{R}$ be a set of real numbers. We say that a pair $(f, g)$ of functions from $S$ into $S$ is a Spanish Couple on $S$, if they satisfy the following conditions:\n\n(i) Both functions are strictly increasing, i.e. $f(x)<f(y)$ and $g(x)<g(y)$ for all $x, y \\in S$ with $x<y$\n\n(ii) The inequality $f(g(g(x)))<g(f(x))$ holds for all $x \\in S$.\n\nDecide whether there exists a Spanish Couple on the set $S=\\mathbb{N}$ of positive integers;\n\nThe final answer is NO.",
    "informal_proof": "Throughout the solution, we will use the notation $g_{k}(x)=\\overbrace{g(g(\\ldots g}^{k}(x) \\ldots))$, including $g_{0}(x)=x$ as well.\n\nSuppose that there exists a Spanish Couple $(f, g)$ on the set $\\mathbb{N}$. From property (i) we have $f(x) \\geq x$ and $g(x) \\geq x$ for all $x \\in \\mathbb{N}$.\n\nWe claim that $g_{k}(x) \\leq f(x)$ for all $k \\geq 0$ and all positive integers $x$. The proof is done by induction on $k$. We already have the base case $k=0$ since $x \\leq f(x)$. For the induction step from $k$ to $k+1$, apply the induction hypothesis on $g_{2}(x)$ instead of $x$, then apply (ii):\n\n$$\ng\\left(g_{k+1}(x)\\right)=g_{k}\\left(g_{2}(x)\\right) \\leq f\\left(g_{2}(x)\\right)<g(f(x)) .\n$$\n\nSince $g$ is increasing, it follows that $g_{k+1}(x)<f(x)$. The claim is proven.\n\nIf $g(x)=x$ for all $x \\in \\mathbb{N}$ then $f(g(g(x)))=f(x)=g(f(x))$, and we have a contradiction with (ii). Therefore one can choose an $x_{0} \\in S$ for which $x_{0}<g\\left(x_{0}\\right)$. Now consider the sequence $x_{0}, x_{1}, \\ldots$ where $x_{k}=g_{k}\\left(x_{0}\\right)$. The sequence is increasing. Indeed, we have $x_{0}<g\\left(x_{0}\\right)=x_{1}$, and $x_{k}<x_{k+1}$ implies $x_{k+1}=g\\left(x_{k}\\right)<g\\left(x_{k+1}\\right)=x_{k+2}$.\n\nHence, we obtain a strictly increasing sequence $x_{0}<x_{1}<\\ldots$ of positive integers which on the other hand has an upper bound, namely $f\\left(x_{0}\\right)$. This cannot happen in the set $\\mathbb{N}$ of positive integers, thus no Spanish Couple exists on $\\mathbb{N}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p3_2",
    "formal_statement": "theorem fimo_2008_algebra_p3_2 :\n  ∃ (f g : {x : ℝ // ∃ a b : ℕ, x = a - 1 / b} → {x : ℝ // ∃ a b : ℕ, x = a - 1 / b}),\n  (∀ x y : {x : ℝ // ∃ a b : ℕ, x = a - 1 / b}, x < y → f x < f y ∧ g x < g y) ∧\n  (∀ x : {x : ℝ // ∃ a b : ℕ, x = a - 1 / b}, f (g (g x)) < g (f x)) := by sorry",
    "informal_statement": "Let $S \\subseteq \\mathbb{R}$ be a set of real numbers. We say that a pair $(f, g)$ of functions from $S$ into $S$ is a Spanish Couple on $S$, if they satisfy the following conditions:\n\n(i) Both functions are strictly increasing, i.e. $f(x)<f(y)$ and $g(x)<g(y)$ for all $x, y \\in S$ with $x<y$\n\n(ii) The inequality $f(g(g(x)))<g(f(x))$ holds for all $x \\in S$.\n\nDecide whether there exists a Spanish Couple on the set $S=\\{a-1 / b: a, b \\in \\mathbb{N}\\}$.\n\nThe final answer is YES.",
    "informal_proof": "We present a Spanish Couple on the set $S=\\{a-1 / b: a, b \\in \\mathbb{N}\\}$.\n\nLet\n\n$$\n\\begin{aligned}\n& f(a-1 / b)=a+1-1 / b, \\\\\n& g(a-1 / b)=a-1 /\\left(b+3^{a}\\right) .\n\\end{aligned}\n$$\n\nThese functions are clearly increasing. Condition (ii) holds, since\n\n$$\nf(g(g(a-1 / b)))=(a+1)-1 /\\left(b+2 \\cdot 3^{a}\\right)<(a+1)-1 /\\left(b+3^{a+1}\\right)=g(f(a-1 / b)) .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p4",
    "formal_statement": "theorem fimo_2008_algebra_p4\n  (f : ℤ → ℤ)\n  (t : ℤ → ℤ)\n  (h₀ : ∀ m, (t m = 1 ∨ t m = 2 ∨ t m = 3) ∧ ∃ n, m + t m = 3 * n)\n  (h₁ : f (-1) = 0)\n  (h₂ : f 0 = 1)\n  (h₃ : f 1 = -1)\n  (h₄ : ∀ m n, 0 ≤ m ∧ 0 ≤ n → 2^n > m → f (2^n + m) = f (2^n - t m) - f m) :\n  ∀ p, 0 ≤ p → f (3 * p) ≥ 0 := by sorry",
    "informal_statement": "For an integer $m$, denote by $t(m)$ the unique number in $\\{1,2,3\\}$ such that $m+t(m)$ is a multiple of 3 . A function $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ satisfies $f(-1)=0, f(0)=1, f(1)=-1$ and\n\n$$\nf\\left(2^{n}+m\\right)=f\\left(2^{n}-t(m)\\right)-f(m) \\quad \\text { for all integers } m, n \\geq 0 \\text { with } 2^{n}>m .\n$$\n\nProve that $f(3 p) \\geq 0$ holds for all integers $p \\geq 0$",
    "informal_proof": "The given conditions determine $f$ uniquely on the positive integers. The signs of $f(1), f(2), \\ldots$ seem to change quite erratically. However values of the form $f\\left(2^{n}-t(m)\\right)$ are sufficient to compute directly any functional value. Indeed, let $n>0$ have base 2 representation $n=2^{a_{0}}+2^{a_{1}}+\\cdots+2^{a_{k}}, a_{0}>a_{1}>\\cdots>a_{k} \\geq 0$, and let $n_{j}=2^{a_{j}}+2^{a_{j-1}}+\\cdots+2^{a_{k}}, j=0, \\ldots, k$. Repeated applications of the recurrence show that $f(n)$ is an alternating sum of the quantities $f\\left(2^{a_{j}}-t\\left(n_{j+1}\\right)\\right)$ plus $(-1)^{k+1}$. (The exact formula is not needed for our proof.)\n\nSo we focus attention on the values $f\\left(2^{n}-1\\right), f\\left(2^{n}-2\\right)$ and $f\\left(2^{n}-3\\right)$. Six cases arise; more specifically\n\n$t\\left(2^{2 k}-3\\right)=2, t\\left(2^{2 k}-2\\right)=1, t\\left(2^{2 k}-1\\right)=3, t\\left(2^{2 k+1}-3\\right)=1, t\\left(2^{2 k+1}-2\\right)=3, t\\left(2^{2 k+1}-1\\right)=2$.\n\nClaim. For all integers $k \\geq 0$ the following equalities hold:\n\n$$\n\\begin{aligned}\n& f\\left(2^{2 k+1}-3\\right)=0, \\quad f\\left(2^{2 k+1}-2\\right)=3^{k}, \\quad f\\left(2^{2 k+1}-1\\right)=-3^{k}, \\\\\n& f\\left(2^{2 k+2}-3\\right)=-3^{k}, \\quad f\\left(2^{2 k+2}-2\\right)=-3^{k}, \\quad f\\left(2^{2 k+2}-1\\right)=2 \\cdot 3^{k} \\text {. }\n\\end{aligned}\n$$\n\nProof. By induction on $k$. The base $k=0$ comes down to checking that $f(2)=-1$ and $f(3)=2$; the given values $f(-1)=0, f(0)=1, f(1)=-1$ are also needed. Suppose the claim holds for $k-1$. For $f\\left(2^{2 k+1}-t(m)\\right)$, the recurrence formula and the induction hypothesis yield\n\n$$\n\\begin{aligned}\n& f\\left(2^{2 k+1}-3\\right)=f\\left(2^{2 k}+\\left(2^{2 k}-3\\right)\\right)=f\\left(2^{2 k}-2\\right)-f\\left(2^{2 k}-3\\right)=-3^{k-1}+3^{k-1}=0, \\\\\n& f\\left(2^{2 k+1}-2\\right)=f\\left(2^{2 k}+\\left(2^{2 k}-2\\right)\\right)=f\\left(2^{2 k}-1\\right)-f\\left(2^{2 k}-2\\right)=2 \\cdot 3^{k-1}+3^{k-1}=3^{k} \\\\\n& f\\left(2^{2 k+1}-1\\right)=f\\left(2^{2 k}+\\left(2^{2 k}-1\\right)\\right)=f\\left(2^{2 k}-3\\right)-f\\left(2^{2 k}-1\\right)=-3^{k-1}-2 \\cdot 3^{k-1}=-3^{k} .\n\\end{aligned}\n$$\n\nFor $f\\left(2^{2 k+2}-t(m)\\right)$ we use the three equalities just established:\n\n$$\n\\begin{aligned}\n& f\\left(2^{2 k+2}-3\\right)=f\\left(2^{2 k+1}+\\left(2^{2 k+1}-3\\right)\\right)=f\\left(2^{2 k+1}-1\\right)-f\\left(2^{2 k+1}-3\\right)=-3^{k}-0=-3^{k}, \\\\\n& f\\left(2^{2 k+2}-2\\right)=f\\left(2^{2 k+1}+\\left(2^{2 k+1}-2\\right)\\right)=f\\left(2^{2 k+1}-3\\right)-f\\left(2^{2 k}-2\\right)=0-3^{k}=-3^{k}, \\\\\n& f\\left(2^{2 k+2}-1\\right)=f\\left(2^{2 k+1}+\\left(2^{2 k+1}-1\\right)\\right)=f\\left(2^{2 k+1}-2\\right)-f\\left(2^{2 k+1}-1\\right)=3^{k}+3^{k}=2 \\cdot 3^{k} .\n\\end{aligned}\n$$\n\nThe claim follows.\n\nA closer look at the six cases shows that $f\\left(2^{n}-t(m)\\right) \\geq 3^{(n-1) / 2}$ if $2^{n}-t(m)$ is divisible by 3 , and $f\\left(2^{n}-t(m)\\right) \\leq 0$ otherwise. On the other hand, note that $2^{n}-t(m)$ is divisible by 3 if and only if $2^{n}+m$ is. Therefore, for all nonnegative integers $m$ and $n$,\n\n(i) $f\\left(2^{n}-t(m)\\right) \\geq 3^{(n-1) / 2}$ if $2^{n}+m$ is divisible by 3 ;\n\n(ii) $f\\left(2^{n}-t(m)\\right) \\leq 0$ if $2^{n}+m$ is not divisible by 3 .\n\nOne more (direct) consequence of the claim is that $\\left|f\\left(2^{n}-t(m)\\right)\\right| \\leq \\frac{2}{3} \\cdot 3^{n / 2}$ for all $m, n \\geq 0$.\n\nThe last inequality enables us to find an upper bound for $|f(m)|$ for $m$ less than a given power of 2 . We prove by induction on $n$ that $|f(m)| \\leq 3^{n / 2}$ holds true for all integers $m, n \\geq 0$ with $2^{n}>m$. The base $n=0$ is clear as $f(0)=1$. For the inductive step from $n$ to $n+1$, let $m$ and $n$ satisfy $2^{n+1}>m$. If $m<2^{n}$, we are done by the inductive hypothesis. If $m \\geq 2^{n}$ then $m=2^{n}+k$ where $2^{n}>k \\geq 0$. Now, by $\\left|f\\left(2^{n}-t(k)\\right)\\right| \\leq \\frac{2}{3} \\cdot 3^{n / 2}$ and the inductive assumption,\n\n$$\n|f(m)|=\\left|f\\left(2^{n}-t(k)\\right)-f(k)\\right| \\leq\\left|f\\left(2^{n}-t(k)\\right)\\right|+|f(k)| \\leq \\frac{2}{3} \\cdot 3^{n / 2}+3^{n / 2}<3^{(n+1) / 2} .\n$$\n\nThe induction is complete.\n\nWe proceed to prove that $f(3 p) \\geq 0$ for all integers $p \\geq 0$. Since $3 p$ is not a power of 2 , its binary expansion contains at least two summands. Hence one can write $3 p=2^{a}+2^{b}+c$ where $a>b$ and $2^{b}>c \\geq 0$. Applying the recurrence formula twice yields\n\n$$\nf(3 p)=f\\left(2^{a}+2^{b}+c\\right)=f\\left(2^{a}-t\\left(2^{b}+c\\right)\\right)-f\\left(2^{b}-t(c)\\right)+f(c) .\n$$\n\nSince $2^{a}+2^{b}+c$ is divisible by 3 , we have $f\\left(2^{a}-t\\left(2^{b}+c\\right)\\right) \\geq 3^{(a-1) / 2}$ by (i). Since $2^{b}+c$ is not divisible by 3 , we have $f\\left(2^{b}-t(c)\\right) \\leq 0$ by (ii). Finally $|f(c)| \\leq 3^{b / 2}$ as $2^{b}>c \\geq 0$, so that $f(c) \\geq-3^{b / 2}$. Therefore $f(3 p) \\geq 3^{(a-1) / 2}-3^{b / 2}$ which is nonnegative because $a>b$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p5",
    "formal_statement": "theorem fimo_2008_algebra_p5\n  (a b c d : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d)\n  (h₁ : a * b * c * d = 1)\n  (h₂ : a + b + c + d > a / b + b / c + c / d + d / a) :\n  a + b + c + d < b / a + c / b + d / c + a / d := by sorry",
    "informal_statement": "Let $a, b, c, d$ be positive real numbers such that\n\n$$\na b c d=1 \\quad \\text { and } \\quad a+b+c+d>\\frac{a}{b}+\\frac{b}{c}+\\frac{c}{d}+\\frac{d}{a}\n$$\n\nProve that\n\n$$\na+b+c+d<\\frac{b}{a}+\\frac{c}{b}+\\frac{d}{c}+\\frac{a}{d} .\n$$",
    "informal_proof": "We show that if $a b c d=1$, the sum $a+b+c+d$ cannot exceed a certain weighted mean of the expressions $\\frac{a}{b}+\\frac{b}{c}+\\frac{c}{d}+\\frac{d}{a}$ and $\\frac{b}{a}+\\frac{c}{b}+\\frac{d}{c}+\\frac{a}{d}$.\n\nBy applying the AM-GM inequality to the numbers $\\frac{a}{b}, \\frac{a}{b}, \\frac{b}{c}$ and $\\frac{a}{d}$, we obtain\n\n$$\na=\\sqrt[4]{\\frac{a^{4}}{a b c d}}=\\sqrt[4]{\\frac{a}{b} \\cdot \\frac{a}{b} \\cdot \\frac{b}{c} \\cdot \\frac{a}{d}} \\leq \\frac{1}{4}\\left(\\frac{a}{b}+\\frac{a}{b}+\\frac{b}{c}+\\frac{a}{d}\\right) .\n$$\n\nAnalogously,\n\n$$\nb \\leq \\frac{1}{4}\\left(\\frac{b}{c}+\\frac{b}{c}+\\frac{c}{d}+\\frac{b}{a}\\right), \\quad c \\leq \\frac{1}{4}\\left(\\frac{c}{d}+\\frac{c}{d}+\\frac{d}{a}+\\frac{c}{b}\\right) \\quad \\text { and } \\quad d \\leq \\frac{1}{4}\\left(\\frac{d}{a}+\\frac{d}{a}+\\frac{a}{b}+\\frac{d}{c}\\right)\n$$\n\nSumming up these estimates yields\n\n$$\na+b+c+d \\leq \\frac{3}{4}\\left(\\frac{a}{b}+\\frac{b}{c}+\\frac{c}{d}+\\frac{d}{a}\\right)+\\frac{1}{4}\\left(\\frac{b}{a}+\\frac{c}{b}+\\frac{d}{c}+\\frac{a}{d}\\right) .\n$$\n\nIn particular, if $a+b+c+d>\\frac{a}{b}+\\frac{b}{c}+\\frac{c}{d}+\\frac{d}{a}$ then $a+b+c+d<\\frac{b}{a}+\\frac{c}{b}+\\frac{d}{c}+\\frac{a}{d}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p6",
    "formal_statement": "theorem fimo_2008_algebra_p6\n  (f : ℝ → ℕ)\n  (h₀ : ∀ x y : ℝ, f (x + 1 / f y) = f (y + 1 / f x)) :\n  ∃ n : ℕ, n > 0 ∧ ∀ x : ℝ, f x ≠ n := by sorry",
    "informal_statement": "Let $f: \\mathbb{R} \\rightarrow \\mathbb{N}$ be a function which satisfies\n\n$$\nf\\left(x+\\frac{1}{f(y)}\\right)=f\\left(y+\\frac{1}{f(x)}\\right) \\quad \\text { for all } x, y \\in \\mathbb{R}\n$$\n\nProve that there is a positive integer which is not a value of $f$.",
    "informal_proof": "Suppose that the statement is false and $f(\\mathbb{R})=\\mathbb{N}$. We prove several properties of the function $f$ in order to reach a contradiction.\n\nTo start with, observe that one can assume $f(0)=1$. Indeed, let $a \\in \\mathbb{R}$ be such that $f(a)=1$, and consider the function $g(x)=f(x+a)$. By substituting $x+a$ and $y+a$ for $x$ and $y$ in (1), we have\n\n$$\ng\\left(x+\\frac{1}{g(y)}\\right)=f\\left(x+a+\\frac{1}{f(y+a)}\\right)=f\\left(y+a+\\frac{1}{f(x+a)}\\right)=g\\left(y+\\frac{1}{g(x)}\\right) .\n$$\n\nSo $g$ satisfies the functional equation (1), with the additional property $g(0)=1$. Also, $g$ and $f$ have the same set of values: $g(\\mathbb{R})=f(\\mathbb{R})=\\mathbb{N}$. Henceforth we assume $f(0)=1$.\n\nClaim 1. For an arbitrary fixed $c \\in \\mathbb{R}$ we have $\\left\\{f\\left(c+\\frac{1}{n}\\right): n \\in \\mathbb{N}\\right\\}=\\mathbb{N}$.\n\nProof. Equation $(1)$ and $f(\\mathbb{R})=\\mathbb{N}$ imply\n\n$f(\\mathbb{R})=\\left\\{f\\left(x+\\frac{1}{f(c)}\\right): x \\in \\mathbb{R}\\right\\}=\\left\\{f\\left(c+\\frac{1}{f(x)}\\right): x \\in \\mathbb{R}\\right\\} \\subset\\left\\{f\\left(c+\\frac{1}{n}\\right): n \\in \\mathbb{N}\\right\\} \\subset f(\\mathbb{R})$.\n\nThe claim follows.\n\nWe will use Claim 1 in the special cases $c=0$ and $c=1 / 3$ :\n\n$$\n\\left\\{f\\left(\\frac{1}{n}\\right): n \\in \\mathbb{N}\\right\\}=\\left\\{f\\left(\\frac{1}{3}+\\frac{1}{n}\\right): n \\in \\mathbb{N}\\right\\}=\\mathbb{N} .\n$$\n\nClaim 2. If $f(u)=f(v)$ for some $u, v \\in \\mathbb{R}$ then $f(u+q)=f(v+q)$ for all nonnegative rational $q$. Furthermore, if $f(q)=1$ for some nonnegative rational $q$ then $f(k q)=1$ for all $k \\in \\mathbb{N}$.\n\nProof. For all $x \\in \\mathbb{R}$ we have by $(1)$\n\n$$\nf\\left(u+\\frac{1}{f(x)}\\right)=f\\left(x+\\frac{1}{f(u)}\\right)=f\\left(x+\\frac{1}{f(v)}\\right)=f\\left(v+\\frac{1}{f(x)}\\right)\n$$\n\nSince $f(x)$ attains all positive integer values, this yields $f(u+1 / n)=f(v+1 / n)$ for all $n \\in \\mathbb{N}$. Let $q=k / n$ be a positive rational number. Then $k$ repetitions of the last step yield\n\n$$\nf(u+q)=f\\left(u+\\frac{k}{n}\\right)=f\\left(v+\\frac{k}{n}\\right)=f(v+q) .\n$$\n\nNow let $f(q)=1$ for some nonnegative rational $q$, and let $k \\in \\mathbb{N}$. As $f(0)=1$, the previous conclusion yields successively $f(q)=f(2 q), f(2 q)=f(3 q), \\ldots, f((k-1) q)=f(k q)$, as needed. Claim 3. The equality $f(q)=f(q+1)$ holds for all nonnegative rational $q$.\n\nProof. Let $m$ be a positive integer such that $f(1 / m)=1$. Such an $m$ exists by (2). Applying the second statement of Claim 2 with $q=1 / m$ and $k=m$ yields $f(1)=1$.\n\nGiven that $f(0)=f(1)=1$, the first statement of Claim 2 implies $f(q)=f(q+1)$ for all nonnegative rational $q$. Claim 4. The equality $f\\left(\\frac{1}{n}\\right)=n$ holds for every $n \\in \\mathbb{N}$.\n\nProof. For a nonnegative rational $q$ we set $x=q, y=0$ in (1) and use Claim 3 to obtain\n\n$$\nf\\left(\\frac{1}{f(q)}\\right)=f\\left(q+\\frac{1}{f(0)}\\right)=f(q+1)=f(q)\n$$\n\nBy (2), for each $n \\in \\mathbb{N}$ there exists a $k \\in \\mathbb{N}$ such that $f(1 / k)=n$. Applying the last equation with $q=1 / k$, we have\n\n$$\nn=f\\left(\\frac{1}{k}\\right)=f\\left(\\frac{1}{f(1 / k)}\\right)=f\\left(\\frac{1}{n}\\right) .\n$$\n\nNow we are ready to obtain a contradiction. Let $n \\in \\mathbb{N}$ be such that $f(1 / 3+1 / n)=1$. Such an $n$ exists by (2). Let $1 / 3+1 / n=s / t$, where $s, t \\in \\mathbb{N}$ are coprime. Observe that $t>1$ as $1 / 3+1 / n$ is not an integer. Choose $k, l \\in \\mathbb{N}$ so that that $k s-l t=1$.\n\nBecause $f(0)=f(s / t)=1$, Claim 2 implies $f(k s / t)=1$. Now $f(k s / t)=f(1 / t+l)$; on the other hand $f(1 / t+l)=f(1 / t)$ by $l$ successive applications of Claim 3. Finally, $f(1 / t)=t$ by Claim 4, leading to the impossible $t=1$. The solution is complete.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p7_1",
    "formal_statement": "theorem fimo_2008_algebra_p7_1\n  (a b c d : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d) :\n  (a - b) * (a - c) / (a + b + c) + (b - c) * (b - d) / (b + c + d) + (c - d) * (c - a) / (c + d + a) + (d - a) * (d - b) / (d + a + b) ≥ 0 := by sorry",
    "informal_statement": "Prove that for any four positive real numbers $a, b, c, d$ the inequality\n\n$$\n\\frac{(a-b)(a-c)}{a+b+c}+\\frac{(b-c)(b-d)}{b+c+d}+\\frac{(c-d)(c-a)}{c+d+a}+\\frac{(d-a)(d-b)}{d+a+b} \\geq 0\n$$\n\nholds. Determine all cases of equality.\n\nThe final answer is $a=c$ and simultaneously $b=d$.",
    "informal_proof": "Denote the four terms by\n\n$$\nA=\\frac{(a-b)(a-c)}{a+b+c}, \\quad B=\\frac{(b-c)(b-d)}{b+c+d}, \\quad C=\\frac{(c-d)(c-a)}{c+d+a}, \\quad D=\\frac{(d-a)(d-b)}{d+a+b} .\n$$\n\nThe expression $2 A$ splits into two summands as follows,\n\n$$\n2 A=A^{\\prime}+A^{\\prime \\prime} \\quad \\text { where } \\quad A^{\\prime}=\\frac{(a-c)^{2}}{a+b+c}, \\quad A^{\\prime \\prime}=\\frac{(a-c)(a-2 b+c)}{a+b+c} ;\n$$\n\nthis is easily verified. We analogously represent $2 B=B^{\\prime}+B^{\\prime \\prime}, 2 C=C^{\\prime}+C^{\\prime \\prime}, 2 B=D^{\\prime}+D^{\\prime \\prime}$ and examine each of the sums $A^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime}$ and $A^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}$ separately.\n\nWrite $s=a+b+c+d$; the denominators become $s-d, s-a, s-b, s-c$. By the CauchySchwarz inequality,\n\n$$\n\\begin{aligned}\n& \\left(\\frac{|a-c|}{\\sqrt{s-d}} \\cdot \\sqrt{s-d}+\\frac{|b-d|}{\\sqrt{s-a}} \\cdot \\sqrt{s-a}+\\frac{|c-a|}{\\sqrt{s-b}} \\cdot \\sqrt{s-b}+\\frac{|d-b|}{\\sqrt{s-c}} \\cdot \\sqrt{s-c}\\right)^{2} \\\\\n& \\leq\\left(\\frac{(a-c)^{2}}{s-d}+\\frac{(b-d)^{2}}{s-a}+\\frac{(c-a)^{2}}{s-b}+\\frac{(d-b)^{2}}{s-c}\\right)(4 s-s)=3 s\\left(A^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime}\\right) .\n\\end{aligned}\n$$\n\nHence\n\n$$\nA^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime} \\geq \\frac{(2|a-c|+2|b-d|)^{2}}{3 s} \\geq \\frac{16 \\cdot|a-c| \\cdot|b-d|}{3 s} .\n$$\n\nNext we estimate the absolute value of the other sum. We couple $A^{\\prime \\prime}$ with $C^{\\prime \\prime}$ to obtain\n\n$$\n\\begin{aligned}\nA^{\\prime \\prime}+C^{\\prime \\prime} & =\\frac{(a-c)(a+c-2 b)}{s-d}+\\frac{(c-a)(c+a-2 d)}{s-b} \\\\\n& =\\frac{(a-c)(a+c-2 b)(s-b)+(c-a)(c+a-2 d)(s-d)}{(s-d)(s-b)} \\\\\n& =\\frac{(a-c)(-2 b(s-b)-b(a+c)+2 d(s-d)+d(a+c))}{s(a+c)+b d} \\\\\n& =\\frac{3(a-c)(d-b)(a+c)}{M}, \\quad \\text { with } \\quad M=s(a+c)+b d .\n\\end{aligned}\n$$\n\nHence by cyclic shift\n\n$$\nB^{\\prime \\prime}+D^{\\prime \\prime}=\\frac{3(b-d)(a-c)(b+d)}{N}, \\quad \\text { with } \\quad N=s(b+d)+c a .\n$$\n\nThus\n\n$$\nA^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}=3(a-c)(b-d)\\left(\\frac{b+d}{N}-\\frac{a+c}{M}\\right)=\\frac{3(a-c)(b-d) W}{M N}\n$$\n\nwhere\n\n$$\nW=(b+d) M-(a+c) N=b d(b+d)-a c(a+c) .\n$$\n\nNote that\n\n$$\nM N>(a c(a+c)+b d(b+d)) s \\geq|W| \\cdot s .\n$$\n\nNow (2) and (4) yield\n\n$$\n\\left|A^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}\\right| \\leq \\frac{3 \\cdot|a-c| \\cdot|b-d|}{s} .\n$$\n\nCombined with (1) this results in\n\n$$\n\\begin{aligned}\n2(A+B & +C+D)=\\left(A^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime}\\right)+\\left(A^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}\\right) \\\\\n& \\geq \\frac{16 \\cdot|a-c| \\cdot|b-d|}{3 s}-\\frac{3 \\cdot|a-c| \\cdot|b-d|}{s}=\\frac{7 \\cdot|a-c| \\cdot|b-d|}{3(a+b+c+d)} \\geq 0 .\n\\end{aligned}\n$$\n\nThis is the required inequality. From the last line we see that equality can be achieved only if either $a=c$ or $b=d$. Since we also need equality in (1), this implies that actually $a=c$ and $b=d$ must hold simultaneously, which is obviously also a sufficient condition.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_algebra_p7_2",
    "formal_statement": "theorem fimo_2008_algebra_p7_2\n  (a b c d : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d)\n  (h₁ : (a - b) * (a - c) / (a + b + c) + (b - c) * (b - d) / (b + c + d) + (c - d) * (c - a) / (c + d + a) + (d - a) * (d - b) / (d + a + b) = 0) :\n  a = c ∧ b = d := by sorry",
    "informal_statement": "Prove that for any four positive real numbers $a, b, c, d$ the inequality\n\n$$\n\\frac{(a-b)(a-c)}{a+b+c}+\\frac{(b-c)(b-d)}{b+c+d}+\\frac{(c-d)(c-a)}{c+d+a}+\\frac{(d-a)(d-b)}{d+a+b} \\geq 0\n$$\n\nholds. Determine all cases of equality.\n\nThe final answer is $a=c$ and simultaneously $b=d$.",
    "informal_proof": "Denote the four terms by\n\n$$\nA=\\frac{(a-b)(a-c)}{a+b+c}, \\quad B=\\frac{(b-c)(b-d)}{b+c+d}, \\quad C=\\frac{(c-d)(c-a)}{c+d+a}, \\quad D=\\frac{(d-a)(d-b)}{d+a+b} .\n$$\n\nThe expression $2 A$ splits into two summands as follows,\n\n$$\n2 A=A^{\\prime}+A^{\\prime \\prime} \\quad \\text { where } \\quad A^{\\prime}=\\frac{(a-c)^{2}}{a+b+c}, \\quad A^{\\prime \\prime}=\\frac{(a-c)(a-2 b+c)}{a+b+c} ;\n$$\n\nthis is easily verified. We analogously represent $2 B=B^{\\prime}+B^{\\prime \\prime}, 2 C=C^{\\prime}+C^{\\prime \\prime}, 2 B=D^{\\prime}+D^{\\prime \\prime}$ and examine each of the sums $A^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime}$ and $A^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}$ separately.\n\nWrite $s=a+b+c+d$; the denominators become $s-d, s-a, s-b, s-c$. By the CauchySchwarz inequality,\n\n$$\n\\begin{aligned}\n& \\left(\\frac{|a-c|}{\\sqrt{s-d}} \\cdot \\sqrt{s-d}+\\frac{|b-d|}{\\sqrt{s-a}} \\cdot \\sqrt{s-a}+\\frac{|c-a|}{\\sqrt{s-b}} \\cdot \\sqrt{s-b}+\\frac{|d-b|}{\\sqrt{s-c}} \\cdot \\sqrt{s-c}\\right)^{2} \\\\\n& \\leq\\left(\\frac{(a-c)^{2}}{s-d}+\\frac{(b-d)^{2}}{s-a}+\\frac{(c-a)^{2}}{s-b}+\\frac{(d-b)^{2}}{s-c}\\right)(4 s-s)=3 s\\left(A^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime}\\right) .\n\\end{aligned}\n$$\n\nHence\n\n$$\nA^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime} \\geq \\frac{(2|a-c|+2|b-d|)^{2}}{3 s} \\geq \\frac{16 \\cdot|a-c| \\cdot|b-d|}{3 s} .\n$$\n\nNext we estimate the absolute value of the other sum. We couple $A^{\\prime \\prime}$ with $C^{\\prime \\prime}$ to obtain\n\n$$\n\\begin{aligned}\nA^{\\prime \\prime}+C^{\\prime \\prime} & =\\frac{(a-c)(a+c-2 b)}{s-d}+\\frac{(c-a)(c+a-2 d)}{s-b} \\\\\n& =\\frac{(a-c)(a+c-2 b)(s-b)+(c-a)(c+a-2 d)(s-d)}{(s-d)(s-b)} \\\\\n& =\\frac{(a-c)(-2 b(s-b)-b(a+c)+2 d(s-d)+d(a+c))}{s(a+c)+b d} \\\\\n& =\\frac{3(a-c)(d-b)(a+c)}{M}, \\quad \\text { with } \\quad M=s(a+c)+b d .\n\\end{aligned}\n$$\n\nHence by cyclic shift\n\n$$\nB^{\\prime \\prime}+D^{\\prime \\prime}=\\frac{3(b-d)(a-c)(b+d)}{N}, \\quad \\text { with } \\quad N=s(b+d)+c a .\n$$\n\nThus\n\n$$\nA^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}=3(a-c)(b-d)\\left(\\frac{b+d}{N}-\\frac{a+c}{M}\\right)=\\frac{3(a-c)(b-d) W}{M N}\n$$\n\nwhere\n\n$$\nW=(b+d) M-(a+c) N=b d(b+d)-a c(a+c) .\n$$\n\nNote that\n\n$$\nM N>(a c(a+c)+b d(b+d)) s \\geq|W| \\cdot s .\n$$\n\nNow (2) and (4) yield\n\n$$\n\\left|A^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}\\right| \\leq \\frac{3 \\cdot|a-c| \\cdot|b-d|}{s} .\n$$\n\nCombined with (1) this results in\n\n$$\n\\begin{aligned}\n2(A+B & +C+D)=\\left(A^{\\prime}+B^{\\prime}+C^{\\prime}+D^{\\prime}\\right)+\\left(A^{\\prime \\prime}+B^{\\prime \\prime}+C^{\\prime \\prime}+D^{\\prime \\prime}\\right) \\\\\n& \\geq \\frac{16 \\cdot|a-c| \\cdot|b-d|}{3 s}-\\frac{3 \\cdot|a-c| \\cdot|b-d|}{s}=\\frac{7 \\cdot|a-c| \\cdot|b-d|}{3(a+b+c+d)} \\geq 0 .\n\\end{aligned}\n$$\n\nThis is the required inequality. From the last line we see that equality can be achieved only if either $a=c$ or $b=d$. Since we also need equality in (1), this implies that actually $a=c$ and $b=d$ must hold simultaneously, which is obviously also a sufficient condition.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_number_theory_p1",
    "formal_statement": "theorem fimo_2008_number_theory_p1\n  (n : ℕ)\n  (p : ℕ)\n  (a b c : ℤ)\n  (h₀ : 0 < n)\n  (h₁ : Nat.Prime p)\n  (h₂ : a^n + p * b = b^n + p * c)\n  (h₃ : b^n + p * c = c^n + p * a) :\n  a = b ∧ b = c ∧ c = a := by sorry",
    "informal_statement": "Let $n$ be a positive integer and let $p$ be a prime number. Prove that if $a, b, c$ are integers (not necessarily positive) satisfying the equations\n\n$$\na^{n}+p b=b^{n}+p c=c^{n}+p a,\n$$\n\nthen $a=b=c$.",
    "informal_proof": "If two of $a, b, c$ are equal, it is immediate that all the three are equal. So we may assume that $a \\neq b \\neq c \\neq a$. Subtracting the equations we get $a^{n}-b^{n}=-p(b-c)$ and two cyclic copies of this equation, which upon multiplication yield\n\n$$\n\\frac{a^{n}-b^{n}}{a-b} \\cdot \\frac{b^{n}-c^{n}}{b-c} \\cdot \\frac{c^{n}-a^{n}}{c-a}=-p^{3} .\n$$\n\nIf $n$ is odd then the differences $a^{n}-b^{n}$ and $a-b$ have the same sign and the product on the left is positive, while $-p^{3}$ is negative. So $n$ must be even.\n\nLet $d$ be the greatest common divisor of the three differences $a-b, b-c, c-a$, so that $a-b=d u, b-c=d v, \\quad c-a=d w ; \\operatorname{gcd}(u, v, w)=1, \\quad u+v+w=0$.\n\nFrom $a^{n}-b^{n}=-p(b-c)$ we see that $(a-b) \\mid p(b-c)$, i.e., $u \\mid p v$; and cyclically $v|p w, w| p u$. As $\\operatorname{gcd}(u, v, w)=1$ and $u+v+w=0$, at most one of $u, v$, w can be divisible by $p$. Supposing that the prime $p$ does not divide any one of them, we get $u|v, v| w, w \\mid u$, whence $|u|=|v|=|w|=1$; but this quarrels with $u+v+w=0$.\n\nThus $p$ must divide exactly one of these numbers. Let e.g. $p \\mid u$ and write $u=p u_{1}$. Now we obtain, similarly as before, $u_{1}|v, v| w, w \\mid u_{1}$ so that $\\left|u_{1}\\right|=|v|=|w|=1$. The equation $p u_{1}+v+w=0$ forces that the prime $p$ must be even; i.e. $p=2$. Hence $v+w=-2 u_{1}=\\pm 2$, implying $v=w(=\\pm 1)$ and $u=-2 v$. Consequently $a-b=-2(b-c)$.\n\nKnowing that $n$ is even, say $n=2 k$, we rewrite the equation $a^{n}-b^{n}=-p(b-c)$ with $p=2$ in the form\n\n$$\n\\left(a^{k}+b^{k}\\right)\\left(a^{k}-b^{k}\\right)=-2(b-c)=a-b .\n$$\n\nThe second factor on the left is divisible by $a-b$, so the first factor $\\left(a^{k}+b^{k}\\right)$ must be $\\pm 1$. Then exactly one of $a$ and $b$ must be odd; yet $a-b=-2(b-c)$ is even. Contradiction ends the proof.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_number_theory_p2",
    "formal_statement": "theorem fimo_2008_number_theory_p2\n  (n : ℕ)\n  (a : Finset ℕ)\n  (h₀ : n ≥ 3)\n  (h₁ : Finset.card a = n) :\n  ∃ i j, i ∈ a ∧ j ∈ a ∧ i ≠ j ∧ ∀ k ∈ a, (3 * k) % (i + j) ≠ 0 := by sorry",
    "informal_statement": "Let $a_{1}, a_{2}, \\ldots, a_{n}$ be distinct positive integers, $n \\geq 3$. Prove that there exist distinct indices $i$ and $j$ such that $a_{i}+a_{j}$ does not divide any of the numbers $3 a_{1}, 3 a_{2}, \\ldots, 3 a_{n}$.",
    "informal_proof": "Without loss of generality, let $0<a_{1}<a_{2}<\\cdots<a_{n}$. One can also assume that $a_{1}, a_{2}, \\ldots, a_{n}$ are coprime. Otherwise division by their greatest common divisor reduces the question to the new sequence whose terms are coprime integers.\n\nSuppose that the claim is false. Then for each $i<n$ there exists a $j$ such that $a_{n}+a_{i}$ divides $3 a_{j}$. If $a_{n}+a_{i}$ is not divisible by 3 then $a_{n}+a_{i}$ divides $a_{j}$ which is impossible as $0<a_{j} \\leq a_{n}<a_{n}+a_{i}$. Thus $a_{n}+a_{i}$ is a multiple of 3 for $i=1, \\ldots, n-1$, so that $a_{1}, a_{2}, \\ldots, a_{n-1}$ are all congruent (to $\\left.-a_{n}\\right)$ modulo 3 .\n\nNow $a_{n}$ is not divisible by 3 or else so would be all remaining $a_{i}$ 's, meaning that $a_{1}, a_{2}, \\ldots, a_{n}$ are not coprime. Hence $a_{n} \\equiv r(\\bmod 3)$ where $r \\in\\{1,2\\}$, and $a_{i} \\equiv 3-r(\\bmod 3)$ for all $i=1, \\ldots, n-1$.\n\nConsider a sum $a_{n-1}+a_{i}$ where $1 \\leq i \\leq n-2$. There is at least one such sum as $n \\geq 3$. Let $j$ be an index such that $a_{n-1}+a_{i}$ divides $3 a_{j}$. Observe that $a_{n-1}+a_{i}$ is not divisible by 3 since $a_{n-1}+a_{i} \\equiv 2 a_{i} \\not \\equiv 0(\\bmod 3)$. It follows that $a_{n-1}+a_{i}$ divides $a_{j}$, in particular $a_{n-1}+a_{i} \\leq a_{j}$. Hence $a_{n-1}<a_{j} \\leq a_{n}$, implying $j=n$. So $a_{n}$ is divisible by all sums $a_{n-1}+a_{i}, 1 \\leq i \\leq n-2$. In particular $a_{n-1}+a_{i} \\leq a_{n}$ for $i=1, \\ldots, n-2$.\n\nLet $j$ be such that $a_{n}+a_{n-1}$ divides $3 a_{j}$. If $j \\leq n-2$ then $a_{n}+a_{n-1} \\leq 3 a_{j}<a_{j}+2 a_{n-1}$. This yields $a_{n}<a_{n-1}+a_{j}$; however $a_{n-1}+a_{j} \\leq a_{n}$ for $j \\leq n-2$. Therefore $j=n-1$ or $j=n$.\n\nFor $j=n-1$ we obtain $3 a_{n-1}=k\\left(a_{n}+a_{n-1}\\right)$ with $k$ an integer, and it is straightforward that $k=1\\left(k \\leq 0\\right.$ and $k \\geq 3$ contradict $0<a_{n-1}<a_{n} ; k=2$ leads to $\\left.a_{n-1}=2 a_{n}>a_{n-1}\\right)$. Thus $3 a_{n-1}=a_{n}+a_{n-1}$, i. e. $a_{n}=2 a_{n-1}$.\n\nSimilarly, if $j=n$ then $3 a_{n}=k\\left(a_{n}+a_{n-1}\\right)$ for some integer $k$, and only $k=2$ is possible. Hence $a_{n}=2 a_{n-1}$ holds true in both cases remaining, $j=n-1$ and $j=n$.\n\nNow $a_{n}=2 a_{n-1}$ implies that the sum $a_{n-1}+a_{1}$ is strictly between $a_{n} / 2$ and $a_{n}$. But $a_{n-1}$ and $a_{1}$ are distinct as $n \\geq 3$, so it follows from the above that $a_{n-1}+a_{1}$ divides $a_{n}$. This provides the desired contradiction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_number_theory_p3",
    "formal_statement": "theorem fimo_2008_number_theory_p3\n  (a : ℕ → ℕ)\n  (h₀ : ∀ n, 0 < a n)\n  (h₁ : ∀ n, Nat.gcd (a n) (a (n + 1)) > a (n - 1)) :\n  ∀ n, a n ≥ 2^n := by sorry",
    "informal_statement": "Let $a_{0}, a_{1}, a_{2}, \\ldots$ be a sequence of positive integers such that the greatest common divisor of any two consecutive terms is greater than the preceding term; in symbols, $\\operatorname{gcd}\\left(a_{i}, a_{i+1}\\right)>a_{i-1}$. Prove that $a_{n} \\geq 2^{n}$ for all $n \\geq 0$.\n",
    "informal_proof": "Since $a_{i} \\geq \\operatorname{gcd}\\left(a_{i}, a_{i+1}\\right)>a_{i-1}$, the sequence is strictly increasing. In particular $a_{0} \\geq 1, a_{1} \\geq 2$. For each $i \\geq 1$ we also have $a_{i+1}-a_{i} \\geq \\operatorname{gcd}\\left(a_{i}, a_{i+1}\\right)>a_{i-1}$, and consequently $a_{i+1} \\geq a_{i}+a_{i-1}+1$. Hence $a_{2} \\geq 4$ and $a_{3} \\geq 7$. The equality $a_{3}=7$ would force equalities in the previous estimates, leading to $\\operatorname{gcd}\\left(a_{2}, a_{3}\\right)=\\operatorname{gcd}(4,7)>a_{1}=2$, which is false. Thus $a_{3} \\geq 8$; the result is valid for $n=0,1,2,3$. These are the base cases for a proof by induction.\n\nTake an $n \\geq 3$ and assume that $a_{i} \\geq 2^{i}$ for $i=0,1, \\ldots, n$. We must show that $a_{n+1} \\geq 2^{n+1}$. Let $\\operatorname{gcd}\\left(a_{n}, a_{n+1}\\right)=d$. We know that $d>a_{n-1}$. The induction claim is reached immediately in the following cases:\n\n$$\n\\begin{aligned}\n& \\text { if } a_{n+1} \\geq 4 d \\text { then } a_{n+1}>4 a_{n-1} \\geq 4 \\cdot 2^{n-1}=2^{n+1} \\text {; } \\\\\n& \\text { if } a_{n} \\geq 3 d \\text { then } a_{n+1} \\geq a_{n}+d \\geq 4 d>4 a_{n-1} \\geq 4 \\cdot 2^{n-1}=2^{n+1} \\text {; } \\\\\n& \\text { if } a_{n}=d \\quad \\text { then } a_{n+1} \\geq a_{n}+d=2 a_{n} \\geq 2 \\cdot 2^{n}=2^{n+1} \\text {. }\n\\end{aligned}\n$$\n\nThe only remaining possibility is that $a_{n}=2 d$ and $a_{n+1}=3 d$, which we assume for the sequel. So $a_{n+1}=\\frac{3}{2} a_{n}$.\n\nLet now $\\operatorname{gcd}\\left(a_{n-1}, a_{n}\\right)=d^{\\prime}$; then $d^{\\prime}>a_{n-2}$. Write $a_{n}=m d^{\\prime} \\quad(m$ an integer). Keeping in mind that $d^{\\prime} \\leq a_{n-1}<d$ and $a_{n}=2 d$, we get that $m \\geq 3$. Also $a_{n-1}<d=\\frac{1}{2} m d^{\\prime}$, $a_{n+1}=\\frac{3}{2} m d^{\\prime}$. Again we single out the cases which imply the induction claim immediately:\n\n$$\n\\begin{aligned}\n& \\text { if } m \\geq 6 \\quad \\text { then } a_{n+1}=\\frac{3}{2} m d^{\\prime} \\geq 9 d^{\\prime}>9 a_{n-2} \\geq 9 \\cdot 2^{n-2}>2^{n+1} \\\\\n& \\text { if } 3 \\leq m \\leq 4 \\text { then } a_{n-1}<\\frac{1}{2} \\cdot 4 d^{\\prime}, \\text { and hence } a_{n-1}=d^{\\prime}, \\\\\n& a_{n+1}=\\frac{3}{2} m a_{n-1} \\geq \\frac{3}{2} \\cdot 3 a_{n-1} \\geq \\frac{9}{2} \\cdot 2^{n-1}>2^{n+1} .\n\\end{aligned}\n$$\n\nSo we are left with the case $m=5$, which means that $a_{n}=5 d^{\\prime}, a_{n+1}=\\frac{15}{2} d^{\\prime}, a_{n-1}<d=\\frac{5}{2} d^{\\prime}$. The last relation implies that $a_{n-1}$ is either $d^{\\prime}$ or $2 d^{\\prime}$. Anyway, $a_{n-1} \\mid 2 d^{\\prime}$.\n\nThe same pattern repeats once more. We denote $\\operatorname{gcd}\\left(a_{n-2}, a_{n-1}\\right)=d^{\\prime \\prime}$; then $d^{\\prime \\prime}>a_{n-3}$. Because $d^{\\prime \\prime}$ is a divisor of $a_{n-1}$, hence also of $2 d^{\\prime}$, we may write $2 d^{\\prime}=m^{\\prime} d^{\\prime \\prime} \\quad\\left(m^{\\prime}\\right.$ an integer). Since $d^{\\prime \\prime} \\leq a_{n-2}<d^{\\prime}$, we get $m^{\\prime} \\geq 3$. Also, $a_{n-2}<d^{\\prime}=\\frac{1}{2} m^{\\prime} d^{\\prime \\prime}, \\quad a_{n+1}=\\frac{15}{2} d^{\\prime}=\\frac{15}{4} m^{\\prime} d^{\\prime \\prime}$. As before, we consider the cases:\n\n$$\n\\begin{aligned}\n& \\text { if } m^{\\prime} \\geq 5 \\text { then } a_{n+1}=\\frac{15}{4} m^{\\prime} d^{\\prime \\prime} \\geq \\frac{75}{4} d^{\\prime \\prime}>\\frac{75}{4} a_{n-3} \\geq \\frac{75}{4} \\cdot 2^{n-3}>2^{n+1} \\\\\n& \\text { if } 3 \\leq m^{\\prime} \\leq 4 \\text { then } a_{n-2}<\\frac{1}{2} \\cdot 4 d^{\\prime \\prime} \\text {, and hence } a_{n-2}=d^{\\prime \\prime} \\\\\n& \\qquad a_{n+1}=\\frac{15}{4} m^{\\prime} a_{n-2} \\geq \\frac{15}{4} \\cdot 3 a_{n-2} \\geq \\frac{45}{4} \\cdot 2^{n-2}>2^{n+1} .\n\\end{aligned}\n$$\n\nBoth of them have produced the induction claim. But now there are no cases left. Induction is complete; the inequality $a_{n} \\geq 2^{n}$ holds for all $n$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2008_number_theory_p6",
    "formal_statement": "theorem fimo_2008_number_theory_p6 :\n  ∃ f : ℕ → ℕ, (∀ i j, i ≠ j → f i ≠ f j) ∧ (∀ n, 0 < f n) ∧ (∀ n, ∃ p, Nat.Prime p ∧ p > 2 * f n + Nat.sqrt (2 * f n) ∧ p ∣ (f n)^2 + 1) := by sorry",
    "informal_statement": "Prove that there exist infinitely many positive integers $n$ such that $n^{2}+1$ has a prime divisor greater than $2 n+\\sqrt{2 n}$.",
    "informal_proof": "Let $p \\equiv 1(\\bmod 8)$ be a prime. The congruence $x^{2} \\equiv-1(\\bmod p)$ has two solutions in $[1, p-1]$ whose sum is $p$. If $n$ is the smaller one of them then $p$ divides $n^{2}+1$ and $n \\leq(p-1) / 2$. We show that $p>2 n+\\sqrt{10 n}$.\n\nLet $n=(p-1) / 2-\\ell$ where $\\ell \\geq 0$. Then $n^{2} \\equiv-1(\\bmod p)$ gives\n\n$$\n\\left(\\frac{p-1}{2}-\\ell\\right)^{2} \\equiv-1 \\quad(\\bmod p) \\quad \\text { or } \\quad(2 \\ell+1)^{2}+4 \\equiv 0 \\quad(\\bmod p)\n$$\n\nThus $(2 \\ell+1)^{2}+4=r p$ for some $r \\geq 0$. As $(2 \\ell+1)^{2} \\equiv 1 \\equiv p(\\bmod 8)$, we have $r \\equiv 5(\\bmod 8)$, so that $r \\geq 5$. Hence $(2 \\ell+1)^{2}+4 \\geq 5 p$, implying $\\ell \\geq(\\sqrt{5 p-4}-1) / 2$. Set $\\sqrt{5 p-4}=u$ for clarity; then $\\ell \\geq(u-1) / 2$. Therefore\n\n$$\nn=\\frac{p-1}{2}-\\ell \\leq \\frac{1}{2}(p-u) .\n$$\n\nCombined with $p=\\left(u^{2}+4\\right) / 5$, this leads to $u^{2}-5 u-10 n+4 \\geq 0$. Solving this quadratic inequality with respect to $u \\geq 0$ gives $u \\geq(5+\\sqrt{40 n+9}) / 2$. So the estimate $n \\leq(p-u) / 2$ leads to\n\n$$\np \\geq 2 n+u \\geq 2 n+\\frac{1}{2}(5+\\sqrt{40 n+9})>2 n+\\sqrt{10 n} .\n$$\n\nSince there are infinitely many primes of the form $8 k+1$, it follows easily that there are also infinitely many $n$ with the stated property.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_algebra_p2",
    "formal_statement": "theorem fimo_2009_algebra_p2\n  (a b c : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c)\n  (h₁ : 1 / a + 1 / b + 1 / c = a + b + c) :\n  1 / (2 * a + b + c)^2 + 1 / (2 * b + c + a)^2 + 1 / (2 * c + a + b)^2 ≤ 3 / 16 := by sorry",
    "informal_statement": "Let $a, b, c$ be positive real numbers such that $\\frac{1}{a}+\\frac{1}{b}+\\frac{1}{c}=a+b+c$. Prove that\n\n$$\n\\frac{1}{(2 a+b+c)^{2}}+\\frac{1}{(2 b+c+a)^{2}}+\\frac{1}{(2 c+a+b)^{2}} \\leq \\frac{3}{16} .\n$$",
    "informal_proof": "For positive real numbers $x, y, z$, from the arithmetic-geometric-mean inequality,\n\n$$\n2 x+y+z=(x+y)+(x+z) \\geq 2 \\sqrt{(x+y)(x+z)},\n$$\n\nwe obtain\n\n$$\n\\frac{1}{(2 x+y+z)^{2}} \\leq \\frac{1}{4(x+y)(x+z)} .\n$$\n\nApplying this to the left-hand side terms of the inequality to prove, we get\n\n$$\n\\begin{aligned}\n\\frac{1}{(2 a+b+c)^{2}} & +\\frac{1}{(2 b+c+a)^{2}}+\\frac{1}{(2 c+a+b)^{2}} \\\\\n& \\leq \\frac{1}{4(a+b)(a+c)}+\\frac{1}{4(b+c)(b+a)}+\\frac{1}{4(c+a)(c+b)} \\\\\n& =\\frac{(b+c)+(c+a)+(a+b)}{4(a+b)(b+c)(c+a)}=\\frac{a+b+c}{2(a+b)(b+c)(c+a)} .\n\\end{aligned}\n$$\n\nA second application of the inequality of the arithmetic-geometric mean yields\n\n$$\na^{2} b+a^{2} c+b^{2} a+b^{2} c+c^{2} a+c^{2} b \\geq 6 a b c,\n$$\n\nor, equivalently,\n\n$$\n9(a+b)(b+c)(c+a) \\geq 8(a+b+c)(a b+b c+c a) .\n$$\n\nThe supposition $\\frac{1}{a}+\\frac{1}{b}+\\frac{1}{c}=a+b+c$ can be written as\n\n$$\na b+b c+c a=a b c(a+b+c) .\n$$\n\nApplying the arithmetic-geometric-mean inequality $x^{2} y^{2}+x^{2} z^{2} \\geq 2 x^{2} y z$ thrice, we get\n\n$$\na^{2} b^{2}+b^{2} c^{2}+c^{2} a^{2} \\geq a^{2} b c+a b^{2} c+a b c^{2},\n$$\n\nwhich is equivalent to\n\n$$\n(a b+b c+c a)^{2} \\geq 3 a b c(a+b+c) .\n$$\n\nCombining (1), (2), (3), and (4), we will finish the proof:\n\n$$\n\\begin{aligned}\n\\frac{a+b+c}{2(a+b)(b+c)(c+a)} & =\\frac{(a+b+c)(a b+b c+c a)}{2(a+b)(b+c)(c+a)} \\cdot \\frac{a b+b c+c a}{a b c(a+b+c)} \\cdot \\frac{a b c(a+b+c)}{(a b+b c+c a)^{2}} \\\\\n& \\leq \\frac{9}{2 \\cdot 8} \\cdot 1 \\cdot \\frac{1}{3}=\\frac{3}{16} .\n\\end{aligned}\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_algebra_p3",
    "formal_statement": "theorem fimo_2009_algebra_p3\n  (f : ℕ → ℕ)\n  (h₀ : ∀ x y, ∃ (a b c : ℕ),\n    a = x ∧\n    b = f y ∧\n    c = f (y + f x - 1) ∧\n    a + b > c ∧\n    a + c > b ∧\n    b + c > a) :\n  ∀ x, f x = x := by sorry",
    "informal_statement": "Determine all functions $f$ from the set of positive integers into the set of positive integers such that for all $x$ and $y$ there exists a non degenerated triangle with sides of lengths\n\n$$\nx, \\quad f(y) \\text { and } f(y+f(x)-1) .\n$$\n\nThe final answer is the identity function $f(x)=x$.",
    "informal_proof": "The identity function $f(x)=x$ is the only solution of the problem.\n\nIf $f(x)=x$ for all positive integers $x$, the given three lengths are $x, y=f(y)$ and $z=$ $f(y+f(x)-1)=x+y-1$. Because of $x \\geq 1, y \\geq 1$ we have $z \\geq \\max \\{x, y\\}>|x-y|$ and $z<x+y$. From this it follows that a triangle with these side lengths exists and does not degenerate. We prove in several steps that there is no other solution.\n\nStep 1. We show $f(1)=1$\n\nIf we had $f(1)=1+m>1$ we would conclude $f(y)=f(y+m)$ for all $y$ considering the triangle with the side lengths $1, f(y)$ and $f(y+m)$. Thus, $f$ would be $m$-periodic and, consequently, bounded. Let $B$ be a bound, $f(x) \\leq B$. If we choose $x>2 B$ we obtain the contradiction $x>2 B \\geq f(y)+f(y+f(x)-1)$.\n\nStep 2. For all positive integers $z$, we have $f(f(z))=z$.\n\nSetting $x=z$ and $y=1$ this follows immediately from Step 1.\n\nStep 3. For all integers $z \\geq 1$, we have $f(z) \\leq z$.\n\nLet us show, that the contrary leads to a contradiction. Assume $w+1=f(z)>z$ for some $z$. From Step 1 we know that $w \\geq z \\geq 2$. Let $M=\\max \\{f(1), f(2), \\ldots, f(w)\\}$ be the largest value of $f$ for the first $w$ integers. First we show, that no positive integer $t$ exists with\n\n$$\nf(t)>\\frac{z-1}{w} \\cdot t+M\n$$\n\notherwise we decompose the smallest value $t$ as $t=w r+s$ where $r$ is an integer and $1 \\leq s \\leq w$. Because of the definition of $M$, we have $t>w$. Setting $x=z$ and $y=t-w$ we get from the triangle inequality\n\n$$\nz+f(t-w)>f((t-w)+f(z)-1)=f(t-w+w)=f(t) .\n$$\n\nHence,\n\n$$\nf(t-w) \\geq f(t)-(z-1)>\\frac{z-1}{w}(t-w)+M,\n$$\n\na contradiction to the minimality of $t$.\n\nTherefore the inequality (1) fails for all $t \\geq 1$, we have proven\n\n$$\nf(t) \\leq \\frac{z-1}{w} \\cdot t+M\n$$\n\ninstead. Now, using (2), we finish the proof of Step 3. Because of $z \\leq w$ we have $\\frac{z-1}{w}<1$ and we can choose an integer $t$ sufficiently large to fulfill the condition\n\n$$\n\\left(\\frac{z-1}{w}\\right)^{2} t+\\left(\\frac{z-1}{w}+1\\right) M<t\n$$\n\nApplying (2) twice we get\n\n$$\nf(f(t)) \\leq \\frac{z-1}{w} f(t)+M \\leq \\frac{z-1}{w}\\left(\\frac{z-1}{w} t+M\\right)+M<t\n$$\n\nin contradiction to Step 2, which proves Step 3.\n\nFinal step. Thus, following Step 2 and Step 3, we obtain\n\n$$\nz=f(f(z)) \\leq f(z) \\leq z\n$$\n\nand $f(z)=z$ for all positive integers $z$ is proven.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_algebra_p4",
    "formal_statement": "theorem fimo_2009_algebra_p4\n  (a b c : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c)\n  (h₁ : a * b + b * c + c * a ≤ 3 * a * b * c) :\n  sqrt ((a^2 + b^2) / (a + b)) + sqrt ((b^2 + c^2) / (b + c)) + sqrt ((c^2 + a^2) / (c + a)) + 3\n  ≤ Real.sqrt 2 * (sqrt (a + b) + sqrt (b + c) + sqrt (c + a)) := by sorry",
    "informal_statement": "Let $a, b, c$ be positive real numbers such that $a b+b c+c a \\leq 3 a b c$. Prove that\n\n$$\n\\sqrt{\\frac{a^{2}+b^{2}}{a+b}}+\\sqrt{\\frac{b^{2}+c^{2}}{b+c}}+\\sqrt{\\frac{c^{2}+a^{2}}{c+a}}+3 \\leq \\sqrt{2}(\\sqrt{a+b}+\\sqrt{b+c}+\\sqrt{c+a}) .\n$$",
    "informal_proof": "Starting with the terms of the right-hand side, the quadratic-arithmetic-mean inequality yields\n\n$$\n\\begin{aligned}\n\\sqrt{2} \\sqrt{a+b} & =2 \\sqrt{\\frac{a b}{a+b}} \\sqrt{\\frac{1}{2}\\left(2+\\frac{a^{2}+b^{2}}{a b}\\right)} \\\\\n& \\geq 2 \\sqrt{\\frac{a b}{a+b}} \\cdot \\frac{1}{2}\\left(\\sqrt{2}+\\sqrt{\\frac{a^{2}+b^{2}}{a b}}\\right)=\\sqrt{\\frac{2 a b}{a+b}}+\\sqrt{\\frac{a^{2}+b^{2}}{a+b}}\n\\end{aligned}\n$$\n\nand, analogously,\n\n$$\n\\sqrt{2} \\sqrt{b+c} \\geq \\sqrt{\\frac{2 b c}{b+c}}+\\sqrt{\\frac{b^{2}+c^{2}}{b+c}}, \\quad \\sqrt{2} \\sqrt{c+a} \\geq \\sqrt{\\frac{2 c a}{c+a}}+\\sqrt{\\frac{c^{2}+a^{2}}{c+a}} .\n$$\n\nApplying the inequality between the arithmetic mean and the squared harmonic mean will finish the proof:\n\n$$\n\\sqrt{\\frac{2 a b}{a+b}}+\\sqrt{\\frac{2 b c}{b+c}}+\\sqrt{\\frac{2 c a}{c+a}} \\geq 3 \\cdot \\sqrt{\\frac{3}{\\sqrt{\\frac{a+b}{2 a b}}^2+\\sqrt{\\frac{b+c}{2 b c}}^2+\\sqrt{\\frac{c+a}{2 c a}}^2}}=3 \\cdot \\sqrt{\\frac{3 a b c}{a b+b c+c a}} \\geq 3\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_algebra_p5",
    "formal_statement": "theorem fimo_2009_algebra_p5\n  (f : ℝ → ℝ) :\n  ∃ x y, f (x - f y) > y * f x + x := by sorry",
    "informal_statement": "Let $f$ be any function that maps the set of real numbers into the set of real numbers. Prove that there exist real numbers $x$ and $y$ such that\n\n$$\nf(x-f(y))>y f(x)+x .\n$$",
    "informal_proof": "Assume that\n\n$$\nf(x-f(y)) \\leq y f(x)+x \\quad \\text { for all real } x, y\n$$\n\nLet $a=f(0)$. Setting $y=0$ in (1) gives $f(x-a) \\leq x$ for all real $x$ and, equivalently,\n\n$$\nf(y) \\leq y+a \\quad \\text { for all real } y .\n$$\n\nSetting $x=f(y)$ in (1) yields in view of $(2)$\n\n$$\na=f(0) \\leq y f(f(y))+f(y) \\leq y f(f(y))+y+a .\n$$\n\nThis implies $0 \\leq y(f(f(y))+1)$ and thus\n\n$$\nf(f(y)) \\geq-1 \\text { for all } y>0 .\n$$\n\nFrom (2) and (3) we obtain $-1 \\leq f(f(y)) \\leq f(y)+a$ for all $y>0$, so\n\n$$\nf(y) \\geq-a-1 \\quad \\text { for all } y>0 .\n$$\n\nNow we show that\n\n$$\nf(x) \\leq 0 \\quad \\text { for all real } x\n$$\n\nAssume the contrary, i.e. there is some $x$ such that $f(x)>0$. Take any $y$ such that\n\n$$\ny<x-a \\quad \\text { and } \\quad y<\\frac{-a-x-1}{f(x)} .\n$$\n\nThen in view of 2\n\n$$\nx-f(y) \\geq x-(y+a)>0\n$$\n\nand with (1) and (4) we obtain\n\n$$\ny f(x)+x \\geq f(x-f(y)) \\geq-a-1,\n$$\n\nwhence\n\n$$\ny \\geq \\frac{-a-x-1}{f(x)}\n$$\n\ncontrary to our choice of $y$. Thereby, we have established (5).\n\nSetting $x=0$ in (5) leads to $a=f(0) \\leq 0$ and (2) then yields\n\n$$\nf(x) \\leq x \\quad \\text { for all real } x\n$$\n\nNow choose $y$ such that $y>0$ and $y>-f(-1)-1$ and set $x=f(y)-1$. From (1), (5) and (6) we obtain\n\n$$\nf(-1)=f(x-f(y)) \\leq y f(x)+x=y f(f(y)-1)+f(y)-1 \\leq y(f(y)-1)-1 \\leq-y-1,\n$$\n\ni.e. $y \\leq-f(-1)-1$, a contradiction to the choice of $y$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_algebra_p6",
    "formal_statement": "theorem fimo_2009_algebra_p6\n  (s : ℕ → ℕ)\n  (h₀ : ∀ n, s n < s (n + 1))\n  (h₁ : ∀ n, s (s n) - s (s (n - 1)) = s (s 1) - s (s 0))\n  (h₂ : ∀ n, s (s n + 1) - s (s (n - 1) + 1) = s (s 1 + 1) - s (s 0 + 1)) :\n  ∀ n, s (n + 1) - s n = s 1 - s 0 := by sorry",
    "informal_statement": "Suppose that $s_{1}, s_{2}, s_{3}, \\ldots$ is a strictly increasing sequence of positive integers such that the subsequences\n\n$$\ns_{s_{1}}, s_{s_{2}}, s_{s_{3}}, \\ldots \\quad \\text { and } \\quad s_{s_{1}+1}, s_{s_{2}+1}, s_{s_{3}+1}, \\ldots\n$$\n\nare both arithmetic progressions. Prove that $s_{1}, s_{2}, s_{3}, \\ldots$ is itself an arithmetic progression.",
    "informal_proof": "Let $D$ be the common difference of the progression $s_{s_{1}}, s_{s_{2}}, \\ldots$. Let for $n=$ $1,2, \\ldots$\n\n$$\nd_{n}=s_{n+1}-s_{n} .\n$$\n\nWe have to prove that $d_{n}$ is constant. First we show that the numbers $d_{n}$ are bounded. Indeed, by supposition $d_{n} \\geq 1$ for all $n$. Thus, we have for all $n$\n\n$$\nd_{n}=s_{n+1}-s_{n} \\leq d_{s_{n}}+d_{s_{n}+1}+\\cdots+d_{s_{n+1}-1}=s_{s_{n+1}}-s_{s_{n}}=D .\n$$\n\nThe boundedness implies that there exist\n\n$$\nm=\\min \\left\\{d_{n}: n=1,2, \\ldots\\right\\} \\quad \\text { and } \\quad M=\\max \\left\\{d_{n}: n=1,2, \\ldots\\right\\} .\n$$\n\nIt suffices to show that $m=M$. Assume that $m<M$. Choose $n$ such that $d_{n}=m$. Considering a telescoping sum of $m=d_{n}=s_{n+1}-s_{n}$ items not greater than $M$ leads to\n\n$$\nD=s_{s_{n+1}}-s_{s_{n}}=s_{s_{n}+m}-s_{s_{n}}=d_{s_{n}}+d_{s_{n}+1}+\\cdots+d_{s_{n}+m-1} \\leq m M\n$$\n\nand equality holds if and only if all items of the sum are equal to $M$. Now choose $n$ such that $d_{n}=M$. In the same way, considering a telescoping sum of $M$ items not less than $m$ we obtain\n\n$$\nD=s_{s_{n+1}}-s_{s_{n}}=s_{s_{n}+M}-s_{s_{n}}=d_{s_{n}}+d_{s_{n}+1}+\\cdots+d_{s_{n}+M-1} \\geq M m\n$$\n\nand equality holds if and only if all items of the sum are equal to $m$. The inequalities (1) and (2) imply that $D=M m$ and that\n\n$$\n\\begin{aligned}\nd_{s_{n}}=d_{s_{n}+1}=\\cdots=d_{s_{n+1}-1}=M & \\text { if } d_{n}=m \\\\\nd_{s_{n}}=d_{s_{n}+1}=\\cdots=d_{s_{n+1}-1}=m & \\text { if } d_{n}=M\n\\end{aligned}\n$$\n\nHence, $d_{n}=m$ implies $d_{s_{n}}=M$. Note that $s_{n} \\geq s_{1}+(n-1) \\geq n$ for all $n$ and moreover $s_{n}>n$ if $d_{n}=n$, because in the case $s_{n}=n$ we would have $m=d_{n}=d_{s_{n}}=M$ in contradiction to the assumption $m<M$. In the same way $d_{n}=M$ implies $d_{s_{n}}=m$ and $s_{n}>n$. Consequently, there is a strictly increasing sequence $n_{1}, n_{2}, \\ldots$ such that\n\n$$\nd_{s_{n_{1}}}=M, \\quad d_{s_{n_{2}}}=m, \\quad d_{s_{n_{3}}}=M, \\quad d_{s_{n_{4}}}=m, \\quad \\ldots\n$$\n\nThe sequence $d_{s_{1}}, d_{s_{2}}, \\ldots$ is the sequence of pairwise differences of $s_{s_{1}+1}, s_{s_{2}+1}, \\ldots$ and $s_{s_{1}}, s_{s_{2}}, \\ldots$, hence also an arithmetic progression. Thus $m=M$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_algebra_p7",
    "formal_statement": "theorem fimo_2009_algebra_p7\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, f (x * f (x + y)) = f (y * f x) + x^2) :\n  (∀ x, f x = x) ∨ (∀ x, f x = -x) := by sorry",
    "informal_statement": "Find all functions $f$ from the set of real numbers into the set of real numbers which satisfy for all real $x, y$ the identity\n\n$$\nf(x f(x+y))=f(y f(x))+x^{2} .\n$$\n\nThe final answers are $f(x)=x$ and $f(x)=-x$.",
    "informal_proof": "It is no hard to see that the two functions given by $f(x)=x$ and $f(x)=-x$ for all real $x$ respectively solve the functional equation. In the sequel, we prove that there are no further solutions.\n\nLet $f$ be a function satisfying the given equation. It is clear that $f$ cannot be a constant. Let us first show that $f(0)=0$. Suppose that $f(0) \\neq 0$. For any real $t$, substituting $(x, y)=\\left(0, \\frac{t}{f(0)}\\right)$ into the given functional equation, we obtain\n\n$$\nf(0)=f(t),\n$$\n\ncontradicting the fact that $f$ is not a constant function. Therefore, $f(0)=0$. Next for any $t$, substituting $(x, y)=(t, 0)$ and $(x, y)=(t,-t)$ into the given equation, we get\n\n$$\nf(t f(t))=f(0)+t^{2}=t^{2},\n$$\n\nand\n\n$$\nf(t f(0))=f(-t f(t))+t^{2},\n$$\n\nrespectively. Therefore, we conclude that\n\n$$\nf(t f(t))=t^{2}, \\quad f(-t f(t))=-t^{2}, \\quad \\text { for every real } t .\n$$\n\nConsequently, for every real $v$, there exists a real $u$, such that $f(u)=v$. We also see that if $f(t)=0$, then $0=f(t f(t))=t^{2}$ so that $t=0$, and thus 0 is the only real number satisfying $f(t)=0$.\n\nWe next show that for any real number $s$,\n\n$$\nf(-s)=-f(s) .\n$$\n\nThis is clear if $f(s)=0$. Suppose now $f(s)<0$, then we can find a number $t$ for which $f(s)=-t^{2}$. As $t \\neq 0$ implies $f(t) \\neq 0$, we can also find number a such that af $(t)=s$. Substituting $(x, y)=(t, a)$ into the given equation, we get\n\n$$\nf(t f(t+a))=f(a f(t))+t^{2}=f(s)+t^{2}=0,\n$$\n\nand therefore, $t f(t+a)=0$, which implies $t+a=0$, and hence $s=-t f(t)$. Consequently, $f(-s)=f(t f(t))=t^{2}=-\\left(-t^{2}\\right)=-f(s)$ holds in this case.\n\nFinally, suppose $f(s)>0$ holds. Then there exists a real number $t \\neq 0$ for which $f(s)=t^{2}$. Choose a number $a$ such that $t f(a)=s$. Substituting $(x, y)=(t, a-t)$ into the given equation, we get $f(s)=f(t f(a))=f((a-t) f(t))+t^{2}=f((a-t) f(t))+f(s)$. So we have $f((a-t) f(t))=0$, from which we conclude that $(a-t) f(t)=0$. Since $f(t) \\neq 0$, we get $a=t$ so that $s=t f(t)$ and thus we see $f(-s)=f(-t f(t))=-t^{2}=-f(s)$ holds in this case also. This observation finishes the proof of (3).\n\nBy substituting $(x, y)=(s, t),(x, y)=(t,-s-t)$ and $(x, y)=(-s-t, s)$ into the given equation, we obtain\n\n$$\n\\begin{array}{r}\nf(s f(s+t)))=f(t f(s))+s^{2} \\\\\nf(t f(-s))=f((-s-t) f(t))+t^{2}\n\\end{array}\n$$\n\nand\n\n$$\nf((-s-t) f(-t))=f(s f(-s-t))+(s+t)^{2},\n$$\n\nrespectively. Using the fact that $f(-x)=-f(x)$ holds for all $x$ to rewrite the second and the third equation, and rearranging the terms, we obtain\n\n$$\n\\begin{aligned}\nf(t f(s))-f(s f(s+t)) & =-s^{2} \\\\\nf(t f(s))-f((s+t) f(t)) & =-t^{2} \\\\\nf((s+t) f(t))+f(s f(s+t)) & =(s+t)^{2} .\n\\end{aligned}\n$$\n\nAdding up these three equations now yields $2 f(t f(s))=2 t s$, and therefore, we conclude that $f(t f(s))=t s$ holds for every pair of real numbers $s, t$. By fixing $s$ so that $f(s)=1$, we obtain $f(x)=s x$. In view of the given equation, we see that $s=\\pm 1$. It is easy to check that both functions $f(x)=x$ and $f(x)=-x$ satisfy the given functional equation, so these are the desired solutions.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_number_theory_p4",
    "formal_statement": "theorem fimo_2009_number_theory_p4\n  (n : ℕ)\n  (h₀ : 0 < n)\n  (a : ℕ → ℕ)\n  (h₁ : ∀ k, 2 ≤ k → k ≤ n - 1 → a (k + 1) = (a k ^ 2 + 1) / (a (k - 1) + 1) - 1) :\n  n = 1 ∨ n = 2 ∨ n = 3 ∨ n = 4 := by sorry",
    "informal_statement": "Find all positive integers $n$ such that there exists a sequence of positive integers $a_{1}, a_{2}, \\ldots, a_{n}$ satisfying\n\n$$\na_{k+1}=\\frac{a_{k}^{2}+1}{a_{k-1}+1}-1\n$$\n\nfor every $k$ with $2 \\leq k \\leq n-1$.\n\nThe final answer is $n=1,2,3,4$.",
    "informal_proof": "Such a sequence exists for $n=1,2,3,4$ and no other $n$. Since the existence of such a sequence for some $n$ implies the existence of such a sequence for all smaller $n$, it suffices to prove that $n=5$ is not possible and $n=4$ is possible.\n\nAssume first that for $n=5$ there exists a sequence of positive integers $a_{1}, a_{2}, \\ldots, a_{5}$ satisfying the conditions\n\n$$\n\\begin{aligned}\n& a_{2}^{2}+1=\\left(a_{1}+1\\right)\\left(a_{3}+1\\right), \\\\\n& a_{3}^{2}+1=\\left(a_{2}+1\\right)\\left(a_{4}+1\\right), \\\\\n& a_{4}^{2}+1=\\left(a_{3}+1\\right)\\left(a_{5}+1\\right) .\n\\end{aligned}\n$$\n\nAssume $a_{1}$ is odd, then $a_{2}$ has to be odd as well and as then $a_{2}^{2}+1 \\equiv 2 \\bmod 4, a_{3}$ has to be even. But this is a contradiction, since then the even number $a_{2}+1$ cannot divide the odd number $a_{3}^{2}+1$.\n\nHence $a_{1}$ is even.\n\nIf $a_{2}$ is odd, $a_{3}^{2}+1$ is even (as a multiple of $\\left.a_{2}+1\\right)$ and hence $a_{3}$ is odd, too. Similarly we must have $a_{4}$ odd as well. But then $a_{3}^{2}+1$ is a product of two even numbers $\\left(a_{2}+1\\right)\\left(a_{4}+1\\right)$ and thus is divisible by 4 , which is a contradiction as for odd $a_{3}$ we have $a_{3}^{2}+1 \\equiv 2 \\bmod 4$.\n\nHence $a_{2}$ is even. Furthermore $a_{3}+1$ divides the odd number $a_{2}^{2}+1$ and so $a_{3}$ is even. Similarly, $a_{4}$ and $a_{5}$ are even as well.\n\nNow set $x=a_{2}$ and $y=a_{3}$. From the given condition we get $(x+1) \\mid\\left(y^{2}+1\\right)$ and $(y+1) \\mid\\left(x^{2}+1\\right)$. We will prove that there is no pair of positive even numbers $(x, y)$ satisfying these two conditions, thus yielding a contradiction to the assumption.\n\nAssume there exists a pair $\\left(x_{0}, y_{0}\\right)$ of positive even numbers satisfying the two conditions $\\left(x_{0}+1\\right) \\mid\\left(y_{0}^{2}+1\\right)$ and $\\left(y_{0}+1\\right) \\mid\\left(x_{0}^{2}+1\\right)$.\n\nThen one has $\\left(x_{0}+1\\right) \\mid\\left(y_{0}^{2}+1+x_{0}^{2}-1\\right)$, i.e., $\\left(x_{0}+1\\right) \\mid\\left(x_{0}^{2}+y_{0}^{2}\\right)$, and similarly $\\left(y_{0}+1\\right) \\mid\\left(x_{0}^{2}+y_{0}^{2}\\right)$. Any common divisor $d$ of $x_{0}+1$ and $y_{0}+1$ must hence also divide the number $\\left(x_{0}^{2}+1\\right)+\\left(y_{0}^{2}+1\\right)-\\left(x_{0}^{2}+y_{0}^{2}\\right)=2$. But as $x_{0}+1$ and $y_{0}+1$ are both odd, we must have $d=1$. Thus $x_{0}+1$ and $y_{0}+1$ are relatively prime and therefore there exists a positive integer $k$ such that\n\n$$\nk(x+1)(y+1)=x^{2}+y^{2}\n$$\n\nhas the solution $\\left(x_{0}, y_{0}\\right)$. We will show that the latter equation has no solution $(x, y)$ in positive even numbers.\n\nAssume there is a solution. Pick the solution $\\left(x_{1}, y_{1}\\right)$ with the smallest sum $x_{1}+y_{1}$ and assume $x_{1} \\geq y_{1}$. Then $x_{1}$ is a solution to the quadratic equation\n\n$$\nx^{2}-k\\left(y_{1}+1\\right) x+y_{1}^{2}-k\\left(y_{1}+1\\right)=0 .\n$$\n\nLet $x_{2}$ be the second solution, which by VIETA's theorem fulfills $x_{1}+x_{2}=k\\left(y_{1}+1\\right)$ and $x_{1} x_{2}=y_{1}^{2}-k\\left(y_{1}+1\\right)$. If $x_{2}=0$, the second equation implies $y_{1}^{2}=k\\left(y_{1}+1\\right)$, which is impossible, as $y_{1}+1>1$ cannot divide the relatively prime number $y_{1}^{2}$. Therefore $x_{2} \\neq 0$.\n\nAlso we get $\\left(x_{1}+1\\right)\\left(x_{2}+1\\right)=x_{1} x_{2}+x_{1}+x_{2}+1=y_{1}^{2}+1$ which is odd, and hence $x_{2}$ must be even and positive. Also we have $x_{2}+1=\\frac{y_{1}^{2}+1}{x_{1}+1} \\leq \\frac{y_{1}^{2}+1}{y_{1}+1} \\leq y_{1} \\leq x_{1}$. But this means that the pair $\\left(x^{\\prime}, y^{\\prime}\\right)$ with $x^{\\prime}=y_{1}$ and $y^{\\prime}=x_{2}$ is another solution of $k(x+1)(y+1)=x^{2}+y^{2}$ in even positive numbers with $x^{\\prime}+y^{\\prime}<x_{1}+y_{1}$, a contradiction.\n\nTherefore we must have $n \\leq 4$.\n\nWhen $n=4$, a possible example of a sequence is $a_{1}=4, a_{2}=33, a_{3}=217$ and $a_{4}=1384$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_number_theory_p6",
    "formal_statement": "theorem fimo_2009_number_theory_p6\n  (k : ℕ)\n  (h₀ : 0 < k)\n  (a : ℕ → ℤ)\n  (h₁ : ∀ n, n ≥ 1 → a n = (a (n - 1) + n^k) / n) :\n  (k - 2) % 3 = 0 := by sorry",
    "informal_statement": "Let $k$ be a positive integer. Show that if there exists a sequence $a_{0}, a_{1}, \\ldots$ of integers satisfying the condition\n\n$$\na_{n}=\\frac{a_{n-1}+n^{k}}{n} \\text { for all } n \\geq 1,\n$$\n\nthen $k-2$ is divisible by 3 .",
    "informal_proof": "Part A. For each positive integer $k$, there exists a polynomial $P_{k}$ of degree $k-1$ with integer coefficients, i. e., $P_{k} \\in \\mathbb{Z}[x]$, and an integer $q_{k}$ such that the polynomial identity\n\n$$\nx P_{k}(x)=x^{k}+P_{k}(x-1)+q_{k}\n$$\n\nis satisfied. To prove this, for fixed $k$ we write\n\n$$\nP_{k}(x)=b_{k-1} x^{k-1}+\\cdots+b_{1} x+b_{0}\n$$\n\nand determine the coefficients $b_{k-1}, b_{k-2}, \\ldots, b_{0}$ and the number $q_{k}$ successively. Obviously, we have $b_{k-1}=1$. For $m=k-1, k-2, \\ldots, 1$, comparing the coefficients of $x^{m}$ in the identity $\\left(I_{k}\\right)$ results in an expression of $b_{m-1}$ as an integer linear combination of $b_{k-1}, \\ldots, b_{m}$, and finally $q_{k}=-P_{k}(-1)$\n\nPart B. Let $k$ be a positive integer, and let $a_{0}, a_{1}, \\ldots$ be a sequence of real numbers satisfying the recursion given in the problem. This recursion can be written as\n\n$$\na_{n}-P_{k}(n)=\\frac{a_{n-1}-P_{k}(n-1)}{n}-\\frac{q_{k}}{n} \\quad \\text { for all } n \\geq 1\n$$\n\nwhich by induction gives\n\n$$\na_{n}-P_{k}(n)=\\frac{a_{0}-P_{k}(0)}{n !}-q_{k} \\sum_{i=0}^{n-1} \\frac{i !}{n !} \\quad \\text { for all } n \\geq 1 .\n$$\n\nTherefore, the numbers $a_{n}$ are integers for all $n \\geq 1$ only if\n\n$$\na_{0}=P_{k}(0) \\quad \\text { and } \\quad q_{k}=0 .\n$$\n\nPart C. Multiplying the identity $\\left(I_{k}\\right)$ by $x^{2}+x$ and subtracting the identities $\\left(I_{k+1}\\right),\\left(I_{k+2}\\right)$ and $q_{k} x^{2}=q_{k} x^{2}$ therefrom, we obtain\n\n$$\nx T_{k}(x)=T_{k}(x-1)+2 x\\left(P_{k}(x-1)+q_{k}\\right)-\\left(q_{k+2}+q_{k+1}+q_{k}\\right),\n$$\n\nwhere the polynomials $T_{k} \\in \\mathbb{Z}[x]$ are defined by $T_{k}(x)=\\left(x^{2}+x\\right) P_{k}(x)-P_{k+1}(x)-P_{k+2}(x)-q_{k} x$. Thus\n\n$$\nx T_{k}(x) \\equiv T_{k}(x-1)+q_{k+2}+q_{k+1}+q_{k} \\bmod 2, \\quad k=1,2, \\ldots\n$$\n\nComparing the degrees, we easily see that this is only possible if $T_{k}$ is the zero polynomial modulo 2 , and\n\n$$\nq_{k+2} \\equiv q_{k+1}+q_{k} \\bmod 2 \\text { for } k=1,2, \\ldots\n$$\n\nSince $q_{1}=-1$ and $q_{2}=0$, these congruences finish the proof.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2009_number_theory_p7",
    "formal_statement": "theorem fimo_2009_number_theory_p7\n  (a b : ℕ)\n  (h₀ : 1 < a ∧ a ≠ b)\n  (h₁ : 1 < b) :\n  ∃ n : ℕ, ¬(IsSquare ((a ^ n - 1) * (b ^ n - 1))) := by sorry",
    "informal_statement": "Let $a$ and $b$ be distinct integers greater than 1. Prove that there exists a positive integer $n$ such that $\\left(a^{n}-1\\right)\\left(b^{n}-1\\right)$ is not a perfect square.",
    "informal_proof": "At first we notice that\n\n$$\n\\begin{aligned}\n(1-\\alpha)^{\\frac{1}{2}}(1-\\beta)^{\\frac{1}{2}} & =\\left(1-\\frac{1}{2} \\cdot \\alpha-\\frac{1}{8} \\cdot \\alpha^{2}-\\cdots\\right)\\left(1-\\frac{1}{2} \\cdot \\beta-\\frac{1}{8} \\cdot \\beta^{2}-\\cdots\\right) \\\\\n& =\\sum_{k, \\ell \\geq 0} c_{k, \\ell} \\cdot \\alpha^{k} \\beta^{\\ell} \\quad \\text { for all } \\alpha, \\beta \\in(0,1),\n\\end{aligned}\n$$\n\nwhere $c_{0,0}=1$ and $c_{k, \\ell}$ are certain coefficients.\n\nFor an indirect proof, we suppose that $x_{n}=\\sqrt{\\left(a^{n}-1\\right)\\left(b^{n}-1\\right)} \\in \\mathbb{Z}$ for all positive integers $n$. Replacing $a$ by $a^{2}$ and $b$ by $b^{2}$ if necessary, we may assume that $a$ and $b$ are perfect squares, hence $\\sqrt{a b}$ is an integer.\n\nAt first we shall assume that $a^{\\mu} \\neq b^{\\nu}$ for all positive integers $\\mu, \\nu$. We have\n\n$$\nx_{n}=(\\sqrt{a b})^{n}\\left(1-\\frac{1}{a^{n}}\\right)^{\\frac{1}{2}}\\left(1-\\frac{1}{b^{n}}\\right)^{\\frac{1}{2}}=\\sum_{k, \\ell \\geq 0} c_{k, \\ell}\\left(\\frac{\\sqrt{a b}}{a^{k} b^{\\ell}}\\right)^{n} .\n$$\n\nChoosing $k_{0}$ and $\\ell_{0}$ such that $a^{k_{0}}>\\sqrt{a b}, b^{\\ell_{0}}>\\sqrt{a b}$, we define the polynomial\n\n$$\nP(x)=\\prod_{k=0, \\ell=0}^{k_{0}-1, \\ell_{0}-1}\\left(a^{k} b^{\\ell} x-\\sqrt{a b}\\right)=: \\sum_{i=0}^{k_{0} \\cdot \\ell_{0}} d_{i} x^{i}\n$$\n\nwith integer coefficients $d_{i}$. By our assumption, the zeros\n\n$$\n\\frac{\\sqrt{a b}}{a^{k} b^{\\ell}}, \\quad k=0, \\ldots, k_{0}-1, \\quad \\ell=0, \\ldots, \\ell_{0}-1,\n$$\n\nof $P$ are pairwise distinct.\n\nFurthermore, we consider the integer sequence\n\n$$\ny_{n}=\\sum_{i=0}^{k_{0} \\cdot \\ell_{0}} d_{i} x_{n+i}, \\quad n=1,2, \\ldots\n$$\n\nBy the theory of linear recursions, we obtain\n\n$$\ny_{n}=\\sum_{\\substack{k, \\ell \\geq 0 \\\\ k \\geq k_{0} \\text { or } \\ell \\geq \\ell_{0}}} e_{k, \\ell}\\left(\\frac{\\sqrt{a b}}{a^{k} b^{\\ell}}\\right)^{n}, \\quad n=1,2, \\ldots,\n$$\n\nwith real numbers $e_{k, \\ell}$. We have\n\n$$\n\\left|y_{n}\\right| \\leq \\sum_{\\substack{k, \\ell \\geq 0 \\\\ k \\geq k_{0} \\text { or } \\ell \\geq \\ell_{0}}} \\mid e_{k, \\ell}\\left(\\frac{\\sqrt{a b}}{a^{k} b^{\\ell}}\\right)^{n}=: M_{n} .\n$$\n\nBecause the series in (4) is obtained by a finite linear combination of the absolutely convergent series (1), we conclude that in particular $M_{1}<\\infty$. Since\n\n$$\n\\frac{\\sqrt{a b}}{a^{k} b^{\\ell}} \\leq \\lambda:=\\max \\left\\{\\frac{\\sqrt{a b}}{a^{k_{0}}}, \\frac{\\sqrt{a b}}{b^{\\ell_{0}}}\\right\\} \\quad \\text { for all } k, \\ell \\geq 0 \\text { such that } k \\geq k_{0} \\text { or } \\ell \\geq \\ell_{0},\n$$\n\nwe get the estimates $M_{n+1} \\leq \\lambda M_{n}, n=1,2, \\ldots$ Our choice of $k_{0}$ and $\\ell_{0}$ ensures $\\lambda<1$, which implies $M_{n} \\rightarrow 0$ and consequently $y_{n} \\rightarrow 0$ as $n \\rightarrow \\infty$. It follows that $y_{n}=0$ for all sufficiently large $n$.\n\nSo, equation (3) reduces to $\\sum_{i=0}^{k_{0} \\cdot \\ell_{0}} d_{i} x_{n+i}=0$\n\nUsing the theory of linear recursions again, for sufficiently large $n$ we have\n\n$$\nx_{n}=\\sum_{k=0, \\ell=0}^{k_{0}-1, \\ell_{0}-1} f_{k, \\ell}\\left(\\frac{\\sqrt{a b}}{a^{k} b^{\\ell}}\\right)^{n}\n$$\n\nfor certain real numbers $f_{k, \\ell}$.\n\nComparing with (2), we see that $f_{k, \\ell}=c_{k, \\ell}$ for all $k, \\ell \\geq 0$ with $k<k_{0}, \\ell<\\ell_{0}$, and $c_{k, \\ell}=0$ if $k \\geq k_{0}$ or $\\ell \\geq \\ell_{0}$, since we assumed that $a^{\\mu} \\neq b^{\\nu}$ for all positive integers $\\mu, \\nu$.\n\nIn view of (1), this means\n\n$$\n(1-\\alpha)^{\\frac{1}{2}}(1-\\beta)^{\\frac{1}{2}}=\\sum_{k=0, \\ell=0}^{k_{0}-1, \\ell_{0}-1} c_{k, \\ell} \\cdot \\alpha^{k} \\beta^{\\ell}\n$$\n\nfor all real numbers $\\alpha, \\beta \\in(0,1)$. We choose $k^{*}<k_{0}$ maximal such that there is some $i$ with $c_{k^{*}, i} \\neq 0$. Squaring (5) and comparing coefficients of $\\alpha^{2 k^{*}} \\beta^{2 i^{*}}$, where $i^{*}$ is maximal with $c_{k^{*}, i^{*}} \\neq 0$, we see that $k^{*}=0$. This means that the right hand side of $(5)$ is independent of $\\alpha$, which is clearly impossible.\n\nWe are left with the case that $a^{\\mu}=b^{\\nu}$ for some positive integers $\\mu$ and $\\nu$. We may assume that $\\mu$ and $\\nu$ are relatively prime. Then there is some positive integer $c$ such that $a=c^{\\nu}$ and $b=c^{\\mu}$. Now starting with the expansion (2), i. e.,\n\n$$\nx_{n}=\\sum_{j \\geq 0} g_{j}\\left(\\frac{\\sqrt{c^{\\mu+\\nu}}}{c^{j}}\\right)^{n}\n$$\n\nfor certain coefficients $g_{j}$, and repeating the arguments above, we see that $g_{j}=0$ for sufficiently large $j$, say $j>j_{0}$. But this means that\n\n$$\n\\left(1-x^{\\mu}\\right)^{\\frac{1}{2}}\\left(1-x^{\\nu}\\right)^{\\frac{1}{2}}=\\sum_{j=0}^{j_{0}} g_{j} x^{j}\n$$\n\nfor all real numbers $x \\in(0,1)$. Squaring, we see that\n\n$$\n\\left(1-x^{\\mu}\\right)\\left(1-x^{\\nu}\\right)\n$$\n\nis the square of a polynomial in $x$. In particular, all its zeros are of order at least 2 , which implies $\\mu=\\nu$ by looking at roots of unity. So we obtain $\\mu=\\nu=1$, i. e., $a=b$, a contradiction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_algebra_p1",
    "formal_statement": "theorem fimo_2010_algebra_p1\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, f (floor x * y) = f x * floor (f y)) :\n  (∃ C : ℝ, (C = 0 ∨ (1 ≤ C ∧ C < 2)) ∧ ∀ x, f x = C) := by sorry",
    "informal_statement": "Determine all functions $f: \\mathbb{R} \\rightarrow \\mathbb{R}$ such that the equality\n\n$$\nf([x] y)=f(x)[f(y)] .\n$$\n\nholds for all $x, y \\in \\mathbb{R}$. Here, by $[x]$ we denote the greatest integer not exceeding $x$.\n\nThe final answer is $f(x)=$ const $=C$, where $C=0$ or $1 \\leq C<2$.",
    "informal_proof": "First, setting $x=0$ in (1) we get\n\n$$\nf(0)=f(0)[f(y)]\n$$\n\nfor all $y \\in \\mathbb{R}$. Now, two cases are possible.\n\nCase 1. Assume that $f(0) \\neq 0$. Then from (2) we conclude that $[f(y)]=1$ for all $y \\in \\mathbb{R}$. Therefore, equation (1) becomes $f([x] y)=f(x)$, and substituting $y=0$ we have $f(x)=f(0)=C \\neq 0$. Finally, from $[f(y)]=1=[C]$ we obtain that $1 \\leq C<2$.\n\nCase 2. Now we have $f(0)=0$. Here we consider two subcases.\n\nSubcase 2a. Suppose that there exists $0<\\alpha<1$ such that $f(\\alpha) \\neq 0$. Then setting $x=\\alpha$ in (1) we obtain $0=f(0)=f(\\alpha)[f(y)]$ for all $y \\in \\mathbb{R}$. Hence, $[f(y)]=0$ for all $y \\in \\mathbb{R}$. Finally, substituting $x=1$ in (1) provides $f(y)=0$ for all $y \\in \\mathbb{R}$, thus contradicting the condition $f(\\alpha) \\neq 0$.\n\nSubcase 2b. Conversely, we have $f(\\alpha)=0$ for all $0 \\leq \\alpha<1$. Consider any real $z$; there exists an integer $N$ such that $\\alpha=\\frac{z}{N} \\in[0,1$ ) (one may set $N=[z]+1$ if $z \\geq 0$ and $N=[z]-1$ otherwise). Now, from (1) we get $f(z)=f([N] \\alpha)=f(N)[f(\\alpha)]=0$ for all $z \\in \\mathbb{R}$.\n\nFinally, a straightforward check shows that all the obtained functions satisfy (1).",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_algebra_p2",
    "formal_statement": "theorem fimo_2010_algebra_p2\n  (a b c d : ℝ)\n  (h₀ : a + b + c + d = 6)\n  (h₁ : a^2 + b^2 + c^2 + d^2 = 12) :\n  36 ≤ 4 * (a^3 + b^3 + c^3 + d^3) - (a^4 + b^4 + c^4 + d^4) ∧\n  4 * (a^3 + b^3 + c^3 + d^3) - (a^4 + b^4 + c^4 + d^4) ≤ 48 := by sorry",
    "informal_statement": "Let the real numbers $a, b, c, d$ satisfy the relations $a+b+c+d=6$ and $a^{2}+b^{2}+c^{2}+d^{2}=12$. Prove that\n\n$$\n36 \\leq 4\\left(a^{3}+b^{3}+c^{3}+d^{3}\\right)-\\left(a^{4}+b^{4}+c^{4}+d^{4}\\right) \\leq 48 .\n$$",
    "informal_proof": "Observe that\n\n$$\n\\begin{gathered}\n4\\left(a^{3}+b^{3}+c^{3}+d^{3}\\right)-\\left(a^{4}+b^{4}+c^{4}+d^{4}\\right)=-\\left((a-1)^{4}+(b-1)^{4}+(c-1)^{4}+(d-1)^{4}\\right) \\\\\n+6\\left(a^{2}+b^{2}+c^{2}+d^{2}\\right)-4(a+b+c+d)+4 \\\\\n=-\\left((a-1)^{4}+(b-1)^{4}+(c-1)^{4}+(d-1)^{4}\\right)+52 .\n\\end{gathered}\n$$\n\nNow, introducing $x=a-1, y=b-1, z=c-1, t=d-1$, we need to prove the inequalities\n\n$$\n16 \\geq x^{4}+y^{4}+z^{4}+t^{4} \\geq 4,\n$$\n\nunder the constraint\n\n$$\nx^{2}+y^{2}+z^{2}+t^{2}=\\left(a^{2}+b^{2}+c^{2}+d^{2}\\right)-2(a+b+c+d)+4=4\n$$\n\n(we will not use the value of $x+y+z+t$ though it can be found).\n\nNow the rightmost inequality in (1) follows from the power mean inequality:\n\n$$\nx^{4}+y^{4}+z^{4}+t^{4} \\geq \\frac{\\left(x^{2}+y^{2}+z^{2}+t^{2}\\right)^{2}}{4}=4 .\n$$\n\nFor the other one, expanding the brackets we note that\n\n$$\n\\left(x^{2}+y^{2}+z^{2}+t^{2}\\right)^{2}=\\left(x^{4}+y^{4}+z^{4}+t^{4}\\right)+q,\n$$\n\nwhere $q$ is a nonnegative number, so\n\n$$\nx^{4}+y^{4}+z^{4}+t^{4} \\leq\\left(x^{2}+y^{2}+z^{2}+t^{2}\\right)^{2}=16,\n$$\n\nand we are done.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_algebra_p3",
    "formal_statement": "theorem fimo_2010_algebra_p3\n  (x : ℕ → ℝ)\n  (s : ℝ)\n  (h₀ : ∀ i, 0 ≤ x i)\n  (h₁ : ∀ i, x (i % 100) + x ((i + 1) % 100) + x ((i + 2) % 100) ≤ 1)\n  (h₂ : s = ∑ i in Finset.range 100, x i * x ((i + 2) % 100)) :\n  s ≤ 25 / 2 ∧ ∃ (x : ℕ → ℝ), (∀ i, 0 ≤ x i) ∧ (∀ i, x (i % 100) + x ((i + 1) % 100) + x ((i + 2) % 100) ≤ 1) ∧ (∑ i in Finset.range 100, x i * x ((i + 2) % 100)) = 25 / 2 := by sorry",
    "informal_statement": "Let $x_{1}, \\ldots, x_{100}$ be nonnegative real numbers such that $x_{i}+x_{i+1}+x_{i+2} \\leq 1$ for all $i=1, \\ldots, 100$ (we put $x_{101}=x_{1}, x_{102}=x_{2}$ ). Find the maximal possible value of the sum\n\n$$\nS=\\sum_{i=1}^{100} x_{i} x_{i+2} \\text {. }\n$$\n\nThe final answer is $\\frac{25}{2}$.",
    "informal_proof": "Solution 1. Let $x_{2 i}=0, x_{2 i-1}=\\frac{1}{2}$ for all $i=1, \\ldots, 50$. Then we have $S=50 \\cdot\\left(\\frac{1}{2}\\right)^{2}=\\frac{25}{2}$. So, we are left to show that $S \\leq \\frac{25}{2}$ for all values of $x_{i}$ 's satisfying the problem conditions.\n\nConsider any $1 \\leq i \\leq 50$. By the problem condition, we get $x_{2 i-1} \\leq 1-x_{2 i}-x_{2 i+1}$ and $x_{2 i+2} \\leq 1-x_{2 i}-x_{2 i+1}$. Hence by the AM-GM inequality we get\n\n$$\n\\begin{aligned}\nx_{2 i-1} x_{2 i+1} & +x_{2 i} x_{2 i+2} \\leq\\left(1-x_{2 i}-x_{2 i+1}\\right) x_{2 i+1}+x_{2 i}\\left(1-x_{2 i}-x_{2 i+1}\\right) \\\\\n& =\\left(x_{2 i}+x_{2 i+1}\\right)\\left(1-x_{2 i}-x_{2 i+1}\\right) \\leq\\left(\\frac{\\left(x_{2 i}+x_{2 i+1}\\right)+\\left(1-x_{2 i}-x_{2 i+1}\\right)}{2}\\right)^{2}=\\frac{1}{4} .\n\\end{aligned}\n$$\n\nSumming up these inequalities for $i=1,2, \\ldots, 50$, we get the desired inequality\n\n$$\n\\sum_{i=1}^{50}\\left(x_{2 i-1} x_{2 i+1}+x_{2 i} x_{2 i+2}\\right) \\leq 50 \\cdot \\frac{1}{4}=\\frac{25}{2} .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_algebra_p4",
    "formal_statement": "theorem fimo_2010_algebra_p4\n  (x : ℕ → ℤ)\n  (h₀ : x 1 = 1)\n  (h₁ : ∀ k, k ≥ 1 → x (2 * k) = -x k)\n  (h₂ : ∀ k, k ≥ 1 → x (2 * k - 1) = (-1)^(k + 1) * x k) :\n  ∀ n, n ≥ 1 → ∑ i in Finset.range n, x (i + 1) ≥ 0 := by sorry",
    "informal_statement": "A sequence $x_{1}, x_{2}, \\ldots$ is defined by $x_{1}=1$ and $x_{2 k}=-x_{k}, x_{2 k-1}=(-1)^{k+1} x_{k}$ for all $k \\geq 1$. Prove that $x_{1}+x_{2}+\\cdots+x_{n} \\geq 0$ for all $n \\geq 1$.",
    "informal_proof": "We start with some observations. First, from the definition of $x_{i}$ it follows that for each positive integer $k$ we have\n\n$$\nx_{4 k-3}=x_{2 k-1}=-x_{4 k-2} \\quad \\text { and } \\quad x_{4 k-1}=x_{4 k}=-x_{2 k}=x_{k} \\text {. }\n$$\n\nHence, denoting $S_{n}=\\sum_{i=1}^{n} x_{i}$, we have\n\n$$\n\\begin{gathered}\nS_{4 k}=\\sum_{i=1}^{k}\\left(\\left(x_{4 k-3}+x_{4 k-2}\\right)+\\left(x_{4 k-1}+x_{4 k}\\right)\\right)=\\sum_{i=1}^{k}\\left(0+2 x_{k}\\right)=2 S_{k}, \\\\\nS_{4 k+2}=S_{4 k}+\\left(x_{4 k+1}+x_{4 k+2}\\right)=S_{4 k} .\n\\end{gathered}\n$$\n\nObserve also that $S_{n}=\\sum_{i=1}^{n} x_{i} \\equiv \\sum_{i=1}^{n} 1=n(\\bmod 2)$\n\nNow we prove by induction on $k$ that $S_{i} \\geq 0$ for all $i \\leq 4 k$. The base case is valid since $x_{1}=x_{3}=x_{4}=1, x_{2}=-1$. For the induction step, assume that $S_{i} \\geq 0$ for all $i \\leq 4 k$. Using the relations (1)-(3), we obtain\n\n$$\nS_{4 k+4}=2 S_{k+1} \\geq 0, \\quad S_{4 k+2}=S_{4 k} \\geq 0, \\quad S_{4 k+3}=S_{4 k+2}+x_{4 k+3}=\\frac{S_{4 k+2}+S_{4 k+4}}{2} \\geq 0 .\n$$\n\nSo, we are left to prove that $S_{4 k+1} \\geq 0$. If $k$ is odd, then $S_{4 k}=2 S_{k} \\geq 0$; since $k$ is odd, $S_{k}$ is odd as well, so we have $S_{4 k} \\geq 2$ and hence $S_{4 k+1}=S_{4 k}+x_{4 k+1} \\geq 1$.\n\nConversely, if $k$ is even, then we have $x_{4 k+1}=x_{2 k+1}=x_{k+1}$, hence $S_{4 k+1}=S_{4 k}+x_{4 k+1}=$ $2 S_{k}+x_{k+1}=S_{k}+S_{k+1} \\geq 0$. The step is proved.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_algebra_p5",
    "formal_statement": "theorem fimo_2010_algebra_p5\n  (f : ℚ → ℚ)\n  (h₀ : ∀ x y : ℚ, 0 < x ∧ 0 < y → f (f x^2 * y) = x^3 * f (x * y))\n  (h₁ : ∀ x : ℚ, 0 < x → 0 < f x) :\n  ∀ x : ℚ, 0 < x → f x = 1 / x := by sorry",
    "informal_statement": "Denote by $\\mathbb{Q}^{+}$the set of all positive rational numbers. Determine all functions $f: \\mathbb{Q}^{+} \\rightarrow \\mathbb{Q}^{+}$ which satisfy the following equation for all $x, y \\in \\mathbb{Q}^{+}$:\n\n$$\nf\\left(f(x)^{2} y\\right)=x^{3} f(x y) .\n$$\n\nThe final answer is $f(x)=\\frac{1}{x}$.",
    "informal_proof": "By substituting $y=1$, we get\n\n$$\nf\\left(f(x)^{2}\\right)=x^{3} f(x) .\n$$\n\nThen, whenever $f(x)=f(y)$, we have\n\n$$\nx^{3}=\\frac{f\\left(f(x)^{2}\\right)}{f(x)}=\\frac{f\\left(f(y)^{2}\\right)}{f(y)}=y^{3}\n$$\n\nwhich implies $x=y$, so the function $f$ is injective.\n\nNow replace $x$ by $x y$ in $(2)$, and apply (1) twice, second time to $\\left(y, f(x)^{2}\\right)$ instead of $(x, y)$ :\n\n$$\nf\\left(f(x y)^{2}\\right)=(x y)^{3} f(x y)=y^{3} f\\left(f(x)^{2} y\\right)=f\\left(f(x)^{2} f(y)^{2}\\right) .\n$$\n\nSince $f$ is injective, we get\n\n$$\n\\begin{aligned}\nf(x y)^{2} & =f(x)^{2} f(y)^{2} \\\\\nf(x y) & =f(x) f(y) .\n\\end{aligned}\n$$\n\nTherefore, $f$ is multiplicative. This also implies $f(1)=1$ and $f\\left(x^{n}\\right)=f(x)^{n}$ for all integers $n$.\n\nThen the function equation (1) can be re-written as\n\n$$\n\\begin{aligned}\nf(f(x))^{2} f(y) & =x^{3} f(x) f(y), \\\\\nf(f(x)) & =\\sqrt{x^{3} f(x)}\n\\end{aligned}\n$$\n\nLet $g(x)=x f(x)$. Then, by $(3)$, we have\n\n$$\n\\begin{aligned}\ng(g(x)) & =g(x f(x))=x f(x) \\cdot f(x f(x))=x f(x)^{2} f(f(x))= \\\\\n& =x f(x)^{2} \\sqrt{x^{3} f(x)}=(x f(x))^{5 / 2}=(g(x))^{5 / 2}\n\\end{aligned}\n$$\n\nand, by induction,\n\n$$\n\\underbrace{g(g(\\ldots g}_{n+1}(x) \\ldots))=(g(x))^{(5 / 2)^{n}}\n$$\n\nfor every positive integer $n$.\n\nConsider (4) for a fixed $x$. The left-hand side is always rational, so $(g(x))^{(5 / 2)^{n}}$ must be rational for every $n$. We show that this is possible only if $g(x)=1$. Suppose that $g(x) \\neq 1$, and let the prime factorization of $g(x)$ be $g(x)=p_{1}^{\\alpha_{1}} \\ldots p_{k}^{\\alpha_{k}}$ where $p_{1}, \\ldots, p_{k}$ are distinct primes and $\\alpha_{1}, \\ldots, \\alpha_{k}$ are nonzero integers. Then the unique prime factorization of (4) is\n\n$$\n\\underbrace{g(g(\\ldots g}_{n+1}(x) \\ldots))=(g(x))^{(5 / 2)^{n}}=p_{1}^{(5 / 2)^{n} \\alpha_{1}} \\cdots p_{k}^{(5 / 2)^{n} \\alpha_{k}}\n$$\n\nwhere the exponents should be integers. But this is not true for large values of $n$, for example $\\left(\\frac{5}{2}\\right)^{n} \\alpha_{1}$ cannot be a integer number when $2^{n} \\backslash \\alpha_{1}$. Therefore, $g(x) \\neq 1$ is impossible.\n\nHence, $g(x)=1$ and thus $f(x)=\\frac{1}{x}$ for all $x$.\n\nThe function $f(x)=\\frac{1}{x}$ satisfies the equation $(1)$ :\n\n$$\nf\\left(f(x)^{2} y\\right)=\\frac{1}{f(x)^{2} y}=\\frac{1}{\\left(\\frac{1}{x}\\right)^{2} y}=\\frac{x^{3}}{x y}=x^{3} f(x y) .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_algebra_p6",
    "formal_statement": "theorem fimo_2010_algebra_p6\n  (f g : ℕ+ → ℕ+)\n  (h₁ : ∀ n, f (g n) = f n + 1)\n  (h₂ : ∀ n, g (f n) = g n + 1) :\n  ∀ n, f n = g n := by sorry",
    "informal_statement": "Suppose that $f$ and $g$ are two functions defined on the set of positive integers and taking positive integer values. Suppose also that the equations $f(g(n))=f(n)+1$ and $g(f(n))=$ $g(n)+1$ hold for all positive integers. Prove that $f(n)=g(n)$ for all positive integer $n$.",
    "informal_proof": "Throughout the solution, by $\\mathbb{N}$ we denote the set of all positive integers. For any function $h: \\mathbb{N} \\rightarrow \\mathbb{N}$ and for any positive integer $k$, define $h^{k}(x)=\\underbrace{h(h(\\ldots h}_{k}(x) \\ldots))($ in particular, $\\left.h^{0}(x)=x\\right)$\n\nObserve that $f\\left(g^{k}(x)\\right)=f\\left(g^{k-1}(x)\\right)+1=\\cdots=f(x)+k$ for any positive integer $k$, and similarly $g\\left(f^{k}(x)\\right)=g(x)+k$. Now let $a$ and $b$ are the minimal values attained by $f$ and $g$, respectively; say $f\\left(n_{f}\\right)=a, g\\left(n_{g}\\right)=b$. Then we have $f\\left(g^{k}\\left(n_{f}\\right)\\right)=a+k, g\\left(f^{k}\\left(n_{g}\\right)\\right)=b+k$, so the function $f$ attains all values from the set $N_{f}=\\{a, a+1, \\ldots\\}$, while $g$ attains all the values from the set $N_{g}=\\{b, b+1, \\ldots\\}$.\n\nNext, note that $f(x)=f(y)$ implies $g(x)=g(f(x))-1=g(f(y))-1=g(y)$; surely, the converse implication also holds. Now, we say that $x$ and $y$ are similar (and write $x \\sim y$ ) if $f(x)=f(y)$ (equivalently, $g(x)=g(y)$ ). For every $x \\in \\mathbb{N}$, we define $[x]=\\{y \\in \\mathbb{N}: x \\sim y\\}$; surely, $y_{1} \\sim y_{2}$ for all $y_{1}, y_{2} \\in[x]$, so $[x]=[y]$ whenever $y \\in[x]$.\n\nNow we investigate the structure of the sets $[x]$.\n\nClaim 1. Suppose that $f(x) \\sim f(y)$; then $x \\sim y$, that is, $f(x)=f(y)$. Consequently, each class $[x]$ contains at most one element from $N_{f}$, as well as at most one element from $N_{g}$.\n\nProof. If $f(x) \\sim f(y)$, then we have $g(x)=g(f(x))-1=g(f(y))-1=g(y)$, so $x \\sim y$. The second statement follows now from the sets of values of $f$ and $g$.\n\nNext, we clarify which classes do not contain large elements.\n\nClaim 2. For any $x \\in \\mathbb{N}$, we have $[x] \\subseteq\\{1,2, \\ldots, b-1\\}$ if and only if $f(x)=a$. Analogously, $[x] \\subseteq\\{1,2, \\ldots, a-1\\}$ if and only if $g(x)=b$.\n\nProof. We will prove that $[x] \\nsubseteq\\{1,2, \\ldots, b-1\\} \\Longleftrightarrow f(x)>a$; the proof of the second statement is similar.\n\nNote that $f(x)>a$ implies that there exists some $y$ satisfying $f(y)=f(x)-1$, so $f(g(y))=$ $f(y)+1=f(x)$, and hence $x \\sim g(y) \\geq b$. Conversely, if $b \\leq c \\sim x$ then $c=g(y)$ for some $y \\in \\mathbb{N}$, which in turn follows $f(x)=f(g(y))=f(y)+1 \\geq a+1$, and hence $f(x)>a$.\n\nClaim 2 implies that there exists exactly one class contained in $\\{1, \\ldots, a-1\\}$ (that is, the class $\\left[n_{g}\\right]$ ), as well as exactly one class contained in $\\{1, \\ldots, b-1\\}$ (the class $\\left.\\left[n_{f}\\right]\\right)$. Assume for a moment that $a \\leq b$; then $\\left[n_{g}\\right]$ is contained in $\\{1, \\ldots, b-1\\}$ as well, hence it coincides with $\\left[n_{g}\\right]$. So, we get that\n\n$$\nf(x)=a \\Longleftrightarrow g(x)=b \\Longleftrightarrow x \\sim n_{f} \\sim n_{g} .\n$$\n\nClaim 3. $a=b$.\n\nProof. By Claim 2, we have $[a] \\neq\\left[n_{f}\\right]$, so $[a]$ should contain some element $a^{\\prime} \\geq b$ by Claim 2 again. If $a \\neq a^{\\prime}$, then $[a]$ contains two elements $\\geq a$ which is impossible by Claim 1 . Therefore, $a=a^{\\prime} \\geq b$. Similarly, $b \\geq a$.\n\nNow we are ready to prove the problem statement. First, we establish the following Claim 4. For every integer $d \\geq 0, f^{d+1}\\left(n_{f}\\right)=g^{d+1}\\left(n_{f}\\right)=a+d$.\n\nProof. Induction on $d$. For $d=0$, the statement follows from (1) and Claim 3. Next, for $d>1$ from the induction hypothesis we have $f^{d+1}\\left(n_{f}\\right)=f\\left(f^{d}\\left(n_{f}\\right)\\right)=f\\left(g^{d}\\left(n_{f}\\right)\\right)=f\\left(n_{f}\\right)+d=a+d$. The equality $g^{d+1}\\left(n_{f}\\right)=a+d$ is analogous. Finally, for each $x \\in \\mathbb{N}$, we have $f(x)=a+d$ for some $d \\geq 0$, so $f(x)=f\\left(g^{d}\\left(n_{f}\\right)\\right)$ and hence $x \\sim g^{d}\\left(n_{f}\\right)$. It follows that $g(x)=g\\left(g^{d}\\left(n_{f}\\right)\\right)=g^{d+1}\\left(n_{f}\\right)=a+d=f(x)$ by Claim 4.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_algebra_p8",
    "formal_statement": "theorem fimo_2010_algebra_p8\n  (a b c d e f s t : ℝ)\n  (h₀ : 0 < a ∧ a < b ∧ b < c ∧ c < d ∧ d < e ∧ e < f)\n  (h₁ : s = a + c + e)\n  (h₂ : t = b + d + f) :\n  2 * s * t > Real.sqrt (3 * (s + t) * (s * (b * d + b * f + d * f) + t * (a * c + a * e + c * e))) := by sorry",
    "informal_statement": "Given six positive numbers $a, b, c, d, e, f$ such that $a<b<c<d<e<f$. Let $a+c+e=S$ and $b+d+f=T$. Prove that\n\n$$\n2 S T>\\sqrt{3(S+T)(S(b d+b f+d f)+T(a c+a e+c e))} .\n$$",
    "informal_proof": "We define also $\\sigma=a c+c e+a e, \\tau=b d+b f+d f$. The idea of the solution is to interpret (1) as a natural inequality on the roots of an appropriate polynomial.\n\nActually, consider the polynomial\n\n$$\n\\begin{aligned}\nP(x)=(b+d+f)(x & -a)(x-c)(x-e)+(a+c+e)(x-b)(x-d)(x-f) \\\\\n& =T\\left(x^{3}-S x^{2}+\\sigma x-a c e\\right)+S\\left(x^{3}-T x^{2}+\\tau x-b d f\\right) .\n\\end{aligned}\n$$\n\nSurely, $P$ is cubic with leading coefficient $S+T>0$. Moreover, we have\n\n$$\n\\begin{array}{ll}\nP(a)=S(a-b)(a-d)(a-f)<0, & P(c)=S(c-b)(c-d)(c-f)>0 \\\\\nP(e)=S(e-b)(e-d)(e-f)<0, & P(f)=T(f-a)(f-c)(f-e)>0\n\\end{array}\n$$\n\nHence, each of the intervals $(a, c),(c, e),(e, f)$ contains at least one root of $P(x)$. Since there are at most three roots at all, we obtain that there is exactly one root in each interval (denote them by $\\alpha \\in(a, c), \\beta \\in(c, e), \\gamma \\in(e, f))$. Moreover, the polynomial $P$ can be factorized as\n\n$$\nP(x)=(T+S)(x-\\alpha)(x-\\beta)(x-\\gamma) .\n$$\n\nEquating the coefficients in the two representations (2) and (3) of $P(x)$ provides\n\n$$\n\\alpha+\\beta+\\gamma=\\frac{2 T S}{T+S}, \\quad \\alpha \\beta+\\alpha \\gamma+\\beta \\gamma=\\frac{S \\tau+T \\sigma}{T+S}\n$$\n\nNow, since the numbers $\\alpha, \\beta, \\gamma$ are distinct, we have\n\n$$\n0<(\\alpha-\\beta)^{2}+(\\alpha-\\gamma)^{2}+(\\beta-\\gamma)^{2}=2(\\alpha+\\beta+\\gamma)^{2}-6(\\alpha \\beta+\\alpha \\gamma+\\beta \\gamma)\n$$\n\nwhich implies\n\nor\n\n$$\n\\frac{4 S^{2} T^{2}}{(T+S)^{2}}=(\\alpha+\\beta+\\gamma)^{2}>3(\\alpha \\beta+\\alpha \\gamma+\\beta \\gamma)=\\frac{3(S \\tau+T \\sigma)}{T+S}\n$$\n\n$$\n4 S^{2} T^{2}>3(T+S)(T \\sigma+S \\tau)\n$$\n\nwhich is exactly what we need.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_number_theory_p1_1",
    "formal_statement": "theorem fimo_2010_number_theory_p1_1\n  (n : ℕ)\n  (s : Finset ℕ)\n  (h₀ : n = Finset.card s)\n  (h₁ : s = Finset.filter (λ x ↦ 0 < x) s)\n  (h₂ : (∏ i in s, (1 - 1 / (i:ℝ))) = 51 / 2010) :\n  n ≥ 39 := by sorry",
    "informal_statement": "Find the least positive integer $n$ for which there exists a set $\\left\\{s_{1}, s_{2}, \\ldots, s_{n}\\right\\}$ consisting of $n$ distinct positive integers such that\n\n$$\n\\left(1-\\frac{1}{s_{1}}\\right)\\left(1-\\frac{1}{s_{2}}\\right) \\ldots\\left(1-\\frac{1}{s_{n}}\\right)=\\frac{51}{2010} .\n$$\n\nThe final answer is $n=39$.",
    "informal_proof": "Suppose that for some $n$ there exist the desired numbers; we may assume that $s_{1}<s_{2}<\\cdots<s_{n}$. Surely $s_{1}>1$ since otherwise $1-\\frac{1}{s_{1}}=0$. So we have $2 \\leq s_{1} \\leq s_{2}-1 \\leq \\cdots \\leq s_{n}-(n-1)$, hence $s_{i} \\geq i+1$ for each $i=1, \\ldots, n$. Therefore\n\n$$\n\\begin{aligned}\n\\frac{51}{2010} & =\\left(1-\\frac{1}{s_{1}}\\right)\\left(1-\\frac{1}{s_{2}}\\right) \\ldots\\left(1-\\frac{1}{s_{n}}\\right) \\\\\n& \\geq\\left(1-\\frac{1}{2}\\right)\\left(1-\\frac{1}{3}\\right) \\cdots\\left(1-\\frac{1}{n+1}\\right)=\\frac{1}{2} \\cdot \\frac{2}{3} \\cdots \\frac{n}{n+1}=\\frac{1}{n+1},\n\\end{aligned}\n$$\n\nwhich implies\n\n$$\nn+1 \\geq \\frac{2010}{51}=\\frac{670}{17}>39,\n$$\n\nso $n \\geq 39$.\n\nNow we are left to show that $n=39$ fits. Consider the set $\\{2,3, \\ldots, 33,35,36, \\ldots, 40,67\\}$ which contains exactly 39 numbers. We have\n\n$$\n\\frac{1}{2} \\cdot \\frac{2}{3} \\cdots \\frac{32}{33} \\cdot \\frac{34}{35} \\cdots \\frac{39}{40} \\cdot \\frac{66}{67}=\\frac{1}{33} \\cdot \\frac{34}{40} \\cdot \\frac{66}{67}=\\frac{17}{670}=\\frac{51}{2010},\n$$\n\nhence for $n=39$ there exists a desired example.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_number_theory_p1_2",
    "formal_statement": "theorem fimo_2010_number_theory_p1_2\n  (n : ℕ)\n  (s : Finset ℕ)\n  (h₀ : n = Finset.card s)\n  (h₁ : s = Finset.filter (λ x ↦ 0 < x) s)\n  (h₂ : (∏ i in s, (1 - 1 / (i:ℝ))) = 42 / 2010) :\n  n ≥ 48 := by sorry",
    "informal_statement": "Find the least positive integer $n$ for which there exists a set $\\left\\{s_{1}, s_{2}, \\ldots, s_{n}\\right\\}$ consisting of $n$ distinct positive integers such that\n\n$$\n\\left(1-\\frac{1}{s_{1}}\\right)\\left(1-\\frac{1}{s_{2}}\\right) \\ldots\\left(1-\\frac{1}{s_{n}}\\right)=\\frac{42}{2010} .\n$$\n\nThe final answer is $n=48$.",
    "informal_proof": "Suppose that for some $n$ there exist the desired numbers. In the same way we obtain that $s_{i} \\geq i+1$. Moreover, since the denominator of the fraction $\\frac{42}{2010}=\\frac{7}{335}$ is divisible by 67 , some of $s_{i}$ 's should be divisible by 67 , so $s_{n} \\geq s_{i} \\geq 67$. This means that\n\n$$\n\\frac{42}{2010} \\geq \\frac{1}{2} \\cdot \\frac{2}{3} \\cdots \\frac{n-1}{n} \\cdot\\left(1-\\frac{1}{67}\\right)=\\frac{66}{67 n},\n$$\n\nwhich implies\n\n$$\nn \\geq \\frac{2010 \\cdot 66}{42 \\cdot 67}=\\frac{330}{7}>47\n$$\n\nso $n \\geq 48$.\n\nNow we are left to show that $n=48$ fits. Consider the set $\\{2,3, \\ldots, 33,36,37, \\ldots, 50,67\\}$ which contains exactly 48 numbers. We have\n\n$$\n\\frac{1}{2} \\cdot \\frac{2}{3} \\cdots \\frac{32}{33} \\cdot \\frac{35}{36} \\cdots \\frac{49}{50} \\cdot \\frac{66}{67}=\\frac{1}{33} \\cdot \\frac{35}{50} \\cdot \\frac{66}{67}=\\frac{7}{335}=\\frac{42}{2010},\n$$\n\nhence for $n=48$ there exists a desired example.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_number_theory_p2",
    "formal_statement": "theorem fimo_2010_number_theory_p2\n  (m n : ℕ)\n  (h₀ : m^2 + 2 * 3^n = m * (2^(n+1) - 1)) :\n  (m, n) = (6, 3) ∨ (m, n) = (9, 3) ∨ (m, n) = (9, 5) ∨ (m, n) = (54, 5) := by sorry",
    "informal_statement": "Find all pairs $(m, n)$ of nonnegative integers for which\n\n$$\nm^{2}+2 \\cdot 3^{n}=m\\left(2^{n+1}-1\\right) .\n$$\n\nThe final answers are $(6,3),(9,3),(9,5),(54,5)$.",
    "informal_proof": "For fixed values of $n$, the equation (1) is a simple quadratic equation in $m$. For $n \\leq 5$ the solutions are listed in the following table.\n\n\\begin{center}\n\\begin{tabular}{|l|l|l|l|}\n\\hline\ncase & equation & discriminant & integer roots \\\\\n\\hline\n$n=0$ & $m^{2}-m+2=0$ & $-7$ & none \\\\\n$n=1$ & $m^{2}-3 m+6=0$ & $-15$ & none \\\\\n$n=2$ & $m^{2}-7 m+18=0$ & $-23$ & none \\\\\n$n=3$ & $m^{2}-15 m+54=0$ & 9 & $m=6$ and $m=9$ \\\\\n$n=4$ & $m^{2}-31 m+162=0$ & 313 & none \\\\\n$n=5$ & $m^{2}-63 m+486=0$ & $2025=45^{2}$ & $m=9$ and $m=54$ \\\\\n\\hline\n\\end{tabular}\n\\end{center}\n\nWe prove that there is no solution for $n \\geq 6$.\n\nSuppose that $(m, n)$ satisfies (1) and $n \\geq 6$. Since $m \\mid 2 \\cdot 3^{n}=m\\left(2^{n+1}-1\\right)-m^{2}$, we have $m=3^{p}$ with some $0 \\leq p \\leq n$ or $m=2 \\cdot 3^{q}$ with some $0 \\leq q \\leq n$.\n\nIn the first case, let $q=n-p$; then\n\n$$\n2^{n+1}-1=m+\\frac{2 \\cdot 3^{n}}{m}=3^{p}+2 \\cdot 3^{q}\n$$\n\nIn the second case let $p=n-q$. Then\n\n$$\n2^{n+1}-1=m+\\frac{2 \\cdot 3^{n}}{m}=2 \\cdot 3^{q}+3^{p}\n$$\n\nHence, in both cases we need to find the nonnegative integer solutions of\n\n$$\n3^{p}+2 \\cdot 3^{q}=2^{n+1}-1, \\quad p+q=n .\n$$\n\nNext, we prove bounds for $p, q$. From (2) we get\n\n$$\n3^{p}<2^{n+1}=8^{\\frac{n+1}{3}}<9^{\\frac{n+1}{3}}=3^{\\frac{2(n+1)}{3}}\n$$\n\nand\n\n$$\n2 \\cdot 3^{q}<2^{n+1}=2 \\cdot 8^{\\frac{n}{3}}<2 \\cdot 9^{\\frac{n}{3}}=2 \\cdot 3^{\\frac{2 n}{3}}<2 \\cdot 3^{\\frac{2(n+1)}{3}},\n$$\n\nso $p, q<\\frac{2(n+1)}{3}$. Combining these inequalities with $p+q=n$, we obtain\n\n$$\n\\frac{n-2}{3}<p, q<\\frac{2(n+1)}{3} .\n$$\n\nNow let $h=\\min (p, q)$. By (3) we have $h>\\frac{n-2}{3}$; in particular, we have $h>1$. On the left-hand side of $(2)$, both terms are divisible by $3^{h}$, therefore $9\\left|3^{h}\\right| 2^{n+1}-1$. It is easy check that $\\operatorname{ord}_{9}(2)=6$, so $9 \\mid 2^{n+1}-1$ if and only if $6 \\mid n+1$. Therefore, $n+1=6 r$ for some positive integer $r$, and we can write\n\n$$\n2^{n+1}-1=4^{3 r}-1=\\left(4^{2 r}+4^{r}+1\\right)\\left(2^{r}-1\\right)\\left(2^{r}+1\\right) .\n$$\n\nNotice that the factor $4^{2 r}+4^{r}+1=\\left(4^{r}-1\\right)^{2}+3 \\cdot 4^{r}$ is divisible by 3 , but it is never divisible by 9 . The other two factors in (4), $2^{r}-1$ and $2^{r}+1$ are coprime: both are odd and their difference is 2 . Since the whole product is divisible by $3^{h}$, we have either $3^{h-1} \\mid 2^{r}-1$ or $3^{h-1} \\mid 2^{r}+1$. In any case, we have $3^{h-1} \\leq 2^{r}+1$. Then\n\n$$\n\\begin{gathered}\n3^{h-1} \\leq 2^{r}+1 \\leq 3^{r}=3^{\\frac{n+1}{6}} \\\\\n\\frac{n-2}{3}-1<h-1 \\leq \\frac{n+1}{6} \\\\\nn<11 .\n\\end{gathered}\n$$\n\nBut this is impossible since we assumed $n \\geq 6$, and we proved $6 \\mid n+1$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2010_number_theory_p5",
    "formal_statement": "theorem fimo_2010_number_theory_p5\n  (f : ℕ → ℕ)\n  (h₀ : ∀ m n : ℕ, 0 < m → 0 < n → IsSquare ((f m + n) * (m + f n))) :\n  ∃ c : ℕ, ∀ n : ℕ, f n = n + c := by sorry",
    "informal_statement": "Let $\\mathbb{N}$ be the set of all positive integers. Find all functions $f: \\mathbb{N} \\rightarrow \\mathbb{N}$ such that the number $(f(m)+n)(m+f(n))$ is a square for all $m, n \\in \\mathbb{N}$.\n\nThe final answers are all functions of the form $f(n)=n+c$, where $c \\in \\mathbb{N} \\cup\\{0\\}$.",
    "informal_proof": "First, it is clear that all functions of the form $f(n)=n+c$ with a constant nonnegative integer $c$ satisfy the problem conditions since $(f(m)+n)(f(n)+m)=(n+m+c)^{2}$ is a square.\n\nWe are left to prove that there are no other functions. We start with the following Lemma. Suppose that $p \\mid f(k)-f(\\ell)$ for some prime $p$ and positive integers $k, \\ell$. Then $p \\mid k-\\ell$. Proof. Suppose first that $p^{2} \\mid f(k)-f(\\ell)$, so $f(\\ell)=f(k)+p^{2} a$ for some integer $a$. Take some positive integer $D>\\max \\{f(k), f(\\ell)\\}$ which is not divisible by $p$ and set $n=p D-f(k)$. Then the positive numbers $n+f(k)=p D$ and $n+f(\\ell)=p D+(f(\\ell)-f(k))=p(D+p a)$ are both divisible by $p$ but not by $p^{2}$. Now, applying the problem conditions, we get that both the numbers $(f(k)+n)(f(n)+k)$ and $(f(\\ell)+n)(f(n)+\\ell)$ are squares divisible by $p$ (and thus by $\\left.p^{2}\\right)$; this means that the multipliers $f(n)+k$ and $f(n)+\\ell$ are also divisible by $p$, therefore $p \\mid(f(n)+k)-(f(n)+\\ell)=k-\\ell$ as well.\n\nOn the other hand, if $f(k)-f(\\ell)$ is divisible by $p$ but not by $p^{2}$, then choose the same number $D$ and set $n=p^{3} D-f(k)$. Then the positive numbers $f(k)+n=p^{3} D$ and $f(\\ell)+n=$ $p^{3} D+(f(\\ell)-f(k))$ are respectively divisible by $p^{3}$ (but not by $\\left.p^{4}\\right)$ and by $p$ (but not by $p^{2}$ ). Hence in analogous way we obtain that the numbers $f(n)+k$ and $f(n)+\\ell$ are divisible by $p$, therefore $p \\mid(f(n)+k)-(f(n)+\\ell)=k-\\ell$.\n\nWe turn to the problem. First, suppose that $f(k)=f(\\ell)$ for some $k, \\ell \\in \\mathbb{N}$. Then by Lemma we have that $k-\\ell$ is divisible by every prime number, so $k-\\ell=0$, or $k=\\ell$. Therefore, the function $f$ is injective.\n\nNext, consider the numbers $f(k)$ and $f(k+1)$. Since the number $(k+1)-k=1$ has no prime divisors, by Lemma the same holds for $f(k+1)-f(k)$; thus $|f(k+1)-f(k)|=1$.\n\nNow, let $f(2)-f(1)=q,|q|=1$. Then we prove by induction that $f(n)=f(1)+q(n-1)$. The base for $n=1,2$ holds by the definition of $q$. For the step, if $n>1$ we have $f(n+1)=$ $f(n) \\pm q=f(1)+q(n-1) \\pm q$. Since $f(n) \\neq f(n-2)=f(1)+q(n-2)$, we get $f(n)=f(1)+q n$, as desired.\n\nFinally, we have $f(n)=f(1)+q(n-1)$. Then $q$ cannot be $-1$ since otherwise for $n \\geq f(1)+1$ we have $f(n) \\leq 0$ which is impossible. Hence $q=1$ and $f(n)=(f(1)-1)+n$ for each $n \\in \\mathbb{N}$, and $f(1)-1 \\geq 0$, as desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2011_algebra_p2",
    "formal_statement": "theorem fimo_2011_algebra_p2\n  (x : ℕ → ℕ)\n  (a : ℕ)\n  (h₀ : ∀ n, ∃ a, ∑ i in Finset.range 2011, (i + 1) * x (i + 1)^n = a^(n + 1) + 1)\n  (h₁ : ∀ i, 1 ≤ i ∧ i ≤ 2011 → x i > 0) :\n  ∃ k, k = 2023065 ∧ ∀ i, 1 ≤ i ∧ i ≤ 2011 → x i = if i = 1 then 1 else k := by sorry",
    "informal_statement": "Determine all sequences $\\left(x_{1}, x_{2}, \\ldots, x_{2011}\\right)$ of positive integers such that for every positive integer $n$ there is an integer $a$ with\n\n$$\nx_{1}^{n}+2 x_{2}^{n}+\\cdots+2011 x_{2011}^{n}=a^{n+1}+1 .\n$$\n\nThe final answer is that the only sequence that satisfies the condition is\n\n$$\n\\left(x_{1}, \\ldots, x_{2011}\\right)=(1, k, \\ldots, k) \\quad \\text { with } k=2+3+\\cdots+2011=2023065\n$$",
    "informal_proof": "Throughout this solution, the set of positive integers will be denoted by $\\mathbb{Z}_{+}$.\n\nPut $k=2+3+\\cdots+2011=2023065$. We have\n\n$$\n1^{n}+2 k^{n}+\\cdots 2011 k^{n}=1+k \\cdot k^{n}=k^{n+1}+1\n$$\n\nfor all $n$, so $(1, k, \\ldots, k)$ is a valid sequence. We shall prove that it is the only one.\n\nLet a valid sequence $\\left(x_{1}, \\ldots, x_{2011}\\right)$ be given. For each $n \\in \\mathbb{Z}_{+}$we have some $y_{n} \\in \\mathbb{Z}_{+}$with\n\n$$\nx_{1}^{n}+2 x_{2}^{n}+\\cdots+2011 x_{2011}^{n}=y_{n}^{n+1}+1 .\n$$\n\nNote that $x_{1}^{n}+2 x_{2}^{n}+\\cdots+2011 x_{2011}^{n}<\\left(x_{1}+2 x_{2}+\\cdots+2011 x_{2011}\\right)^{n+1}$, which implies that the sequence $\\left(y_{n}\\right)$ is bounded. In particular, there is some $y \\in \\mathbb{Z}_{+}$with $y_{n}=y$ for infinitely many $n$.\n\nLet $m$ be the maximum of all the $x_{i}$. Grouping terms with equal $x_{i}$ together, the sum $x_{1}^{n}+$ $2 x_{2}^{n}+\\cdots+2011 x_{2011}^{n}$ can be written as\n\n$$\nx_{1}^{n}+2 x_{2}^{n}+\\cdots+x_{2011}^{n}=a_{m} m^{n}+a_{m-1}(m-1)^{n}+\\cdots+a_{1}\n$$\n\nwith $a_{i} \\geq 0$ for all $i$ and $a_{1}+\\cdots+a_{m}=1+2+\\cdots+2011$. So there exist arbitrarily large values of $n$, for which\n\n$$\na_{m} m^{n}+\\cdots+a_{1}-1-y \\cdot y^{n}=0 .\n$$\n\nThe following lemma will help us to determine the $a_{i}$ and $y$ :\n\nLemma. Let integers $b_{1}, \\ldots, b_{N}$ be given and assume that there are arbitrarily large positive integers $n$ with $b_{1}+b_{2} 2^{n}+\\cdots+b_{N} N^{n}=0$. Then $b_{i}=0$ for all $i$.\n\nProof. Suppose that not all $b_{i}$ are zero. We may assume without loss of generality that $b_{N} \\neq 0$. Dividing through by $N^{n}$ gives\n\n$$\n\\left|b_{N}\\right|=\\left|b_{N-1}\\left(\\frac{N-1}{N}\\right)^{n}+\\cdots+b_{1}\\left(\\frac{1}{N}\\right)^{n}\\right| \\leq\\left(\\left|b_{N-1}\\right|+\\cdots+\\left|b_{1}\\right|\\right)\\left(\\frac{N-1}{N}\\right)^{n} .\n$$\n\nThe expression $\\left(\\frac{N-1}{N}\\right)^{n}$ can be made arbitrarily small for $n$ large enough, contradicting the assumption that $b_{N}$ be non-zero.\n\nWe obviously have $y>1$. Applying the lemma to (1) we see that $a_{m}=y=m, a_{1}=1$, and all the other $a_{i}$ are zero. This implies $\\left(x_{1}, \\ldots, x_{2011}\\right)=(1, m, \\ldots, m)$. But we also have $1+m=a_{1}+\\cdots+a_{m}=1+\\cdots+2011=1+k$ so $m=k$, which is what we wanted to show.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2011_algebra_p3",
    "formal_statement": "theorem fimo_2011_algebra_p3\n  (f g : ℝ → ℝ)\n  (h₀ : ∀ x y, g (f (x + y)) = f x + (2 * x + y) * g y) :\n  (∀ x, f x = 0 ∧ g x = 0) ∨ (∃ C : ℝ, (∀ x, f x = x^2 + C) ∧ (∀ x, g x = x)) := by sorry",
    "informal_statement": "Determine all pairs $(f, g)$ of functions from the set of real numbers to itself that satisfy\n\n$$\ng(f(x+y))=f(x)+(2 x+y) g(y)\n$$\n\nfor all real numbers $x$ and $y$.\n\nThe final answer is that either both $f$ and $g$ vanish identically, or there exists a real number $C$ such that $f(x)=x^{2}+C$ and $g(x)=x$ for all real numbers $x$.",
    "informal_proof": "Solution. Clearly all these pairs of functions satisfy the functional equation in question, so it suffices to verify that there cannot be any further ones. Substituting $-2 x$ for $y$ in the given functional equation we obtain\n\n$$\ng(f(-x))=f(x) .\n$$\n\nUsing this equation for $-x-y$ in place of $x$ we obtain\n\n$$\nf(-x-y)=g(f(x+y))=f(x)+(2 x+y) g(y)\n$$\n\nNow for any two real numbers $a$ and $b$, setting $x=-b$ and $y=a+b$ we get\n\n$$\nf(-a)=f(-b)+(a-b) g(a+b) .\n$$\n\nIf $c$ denotes another arbitrary real number we have similarly\n\n$$\nf(-b)=f(-c)+(b-c) g(b+c)\n$$\n\nas well as\n\n$$\nf(-c)=f(-a)+(c-a) g(c+a) .\n$$\n\nAdding all these equations up, we obtain\n\n$$\n((a+c)-(b+c)) g(a+b)+((a+b)-(a+c)) g(b+c)+((b+c)-(a+b)) g(a+c)=0 .\n$$\n\nNow given any three real numbers $x, y$, and $z$ one may determine three reals $a, b$, and $c$ such that $x=b+c, y=c+a$, and $z=a+b$, so that we get\n\n$$\n(y-x) g(z)+(z-y) g(x)+(x-z) g(y)=0 .\n$$\n\nThis implies that the three points $(x, g(x)),(y, g(y))$, and $(z, g(z))$ from the graph of $g$ are collinear. Hence that graph is a line, i.e., $g$ is either a constant or a linear function. Let us write $g(x)=A x+B$, where $A$ and $B$ are two real numbers. Substituting $(0,-y)$ for $(x, y)$ in (2) and denoting $C=f(0)$, we have $f(y)=A y^{2}-B y+C$. Now, comparing the coefficients of $x^{2}$ in (1) we see that $A^{2}=A$, so $A=0$ or $A=1$.\n\nIf $A=0$, then (1) becomes $B=-B x+C$ and thus $B=C=0$, which provides the first of the two solutions mentioned above.\n\nNow suppose $A=1$. Then (1) becomes $x^{2}-B x+C+B=x^{2}-B x+C$, so $B=0$. Thus, $g(x)=x$ and $f(x)=x^{2}+C$, which is the second solution from above.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2011_algebra_p6",
    "formal_statement": "theorem fimo_2011_algebra_p6\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, f (x + y) ≤ y * f x + f (f x)) :\n  ∀ x ≤ 0, f x = 0 := by sorry",
    "informal_statement": "Let $f$ be a function from the set of real numbers to itself that satisfies\n\n$$\nf(x+y) \\leq y f(x)+f(f(x))\n$$\n\nfor all real numbers $x$ and $y$. Prove that $f(x)=0$ for all $x \\leq 0$.",
    "informal_proof": "Substituting $y=t-x$, we rewrite (1) as\n\n$$\nf(t) \\leq t f(x)-x f(x)+f(f(x))\n$$\n\nConsider now some real numbers $a, b$ and use (2) with $t=f(a), x=b$ as well as with $t=f(b)$, $x=a$. We get\n\n$$\n\\begin{aligned}\n& f(f(a))-f(f(b)) \\leq f(a) f(b)-b f(b) \\\\\n& f(f(b))-f(f(a)) \\leq f(a) f(b)-a f(a)\n\\end{aligned}\n$$\n\nAdding these two inequalities yields\n\n$$\n2 f(a) f(b) \\geq a f(a)+b f(b) .\n$$\n\nNow, substitute $b=2 f(a)$ to obtain $2 f(a) f(b) \\geq a f(a)+2 f(a) f(b)$, or $a f(a) \\leq 0$. So, we get\n\n$$\nf(a) \\geq 0 \\quad \\text { for all } a<0 .\n$$\n\nNow suppose $f(x)>0$ for some real number $x$. From (2) we immediately get that for every $t<\\frac{x f(x)-f(f(x))}{f(x)}$ we have $f(t)<0$. This contradicts (3) ; therefore\n\n$$\nf(x) \\leq 0 \\quad \\text { for all real } x\n$$\n\nand by (3) again we get $f(x)=0$ for all $x<0$.\n\nWe are left to find $f(0)$. Setting $t=x<0$ in (2) we get\n\n$$\n0 \\leq 0-0+f(0)\n$$\n\nso $f(0) \\geq 0$. Combining this with (4) we obtain $f(0)=0$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2011_algebra_p7",
    "formal_statement": "theorem fimo_2011_algebra_p7\n  (a b c : ℝ)\n  (h₀ : a > 0 ∧ b > 0 ∧ c > 0)\n  (h₁ : min (a + b) (min (b + c) (c + a)) > Real.sqrt 2)\n  (h₂ : a^2 + b^2 + c^2 = 3) :\n  a / (b + c - a)^2 + b / (c + a - b)^2 + c / (a + b - c)^2 ≥ 3 / (a * b * c)^2 := by sorry",
    "informal_statement": "Let $a, b$, and $c$ be positive real numbers satisfying $\\min (a+b, b+c, c+a)>\\sqrt{2}$ and $a^{2}+b^{2}+c^{2}=3$. Prove that\n\n$$\n\\frac{a}{(b+c-a)^{2}}+\\frac{b}{(c+a-b)^{2}}+\\frac{c}{(a+b-c)^{2}} \\geq \\frac{3}{(a b c)^{2}}\n$$",
    "informal_proof": "Throughout the solution, we denote the sums of the form $f(a, b, c)+f(b, c, a)+f(c, a, b)$ by $\\sum f(a, b, c)$.\n\nThe condition $b+c>\\sqrt{2}$ implies $b^{2}+c^{2}>1$, so $a^{2}=3-\\left(b^{2}+c^{2}\\right)<2$, i.e. $a<\\sqrt{2}<b+c$. Hence we have $b+c-a>0$, and also $c+a-b>0$ and $a+b-c>0$ for similar reasons.\n\nWe will use the variant of HÖLDER's inequality\n\n$$\n\\frac{x_{1}^{p+1}}{y_{1}^{p}}+\\frac{x_{1}^{p+1}}{y_{1}^{p}}+\\ldots+\\frac{x_{n}^{p+1}}{y_{n}^{p}} \\geq \\frac{\\left(x_{1}+x_{2}+\\ldots+x_{n}\\right)^{p+1}}{\\left(y_{1}+y_{2}+\\ldots+y_{n}\\right)^{p}}\n$$\n\nwhich holds for all positive real numbers $p, x_{1}, x_{2}, \\ldots, x_{n}, y_{1}, y_{2}, \\ldots, y_{n}$. Applying it to the left-hand side of (1) with $p=2$ and $n=3$, we get\n\n$$\n\\sum \\frac{a}{(b+c-a)^{2}}=\\sum \\frac{\\left(a^{2}\\right)^{3}}{a^{5}(b+c-a)^{2}} \\geq \\frac{\\left(a^{2}+b^{2}+c^{2}\\right)^{3}}{\\left(\\sum a^{5 / 2}(b+c-a)\\right)^{2}}=\\frac{27}{\\left(\\sum a^{5 / 2}(b+c-a)\\right)^{2}}\n$$\n\nTo estimate the denominator of the right-hand part, we use an instance of ScHUR's inequality, namely\n\n$$\n\\sum a^{3 / 2}(a-b)(a-c) \\geq 0\n$$\n\nwhich can be rewritten as\n\n$$\n\\sum a^{5 / 2}(b+c-a) \\leq a b c(\\sqrt{a}+\\sqrt{b}+\\sqrt{c}) .\n$$\n\nMoreover, by the inequality between the arithmetic mean and the fourth power mean we also have\n\n$$\n\\left(\\frac{\\sqrt{a}+\\sqrt{b}+\\sqrt{c}}{3}\\right)^{4} \\leq \\frac{a^{2}+b^{2}+c^{2}}{3}=1\n$$\n\ni.e., $\\sqrt{a}+\\sqrt{b}+\\sqrt{c} \\leq 3$. Hence, (2) yields\n\n$$\n\\sum \\frac{a}{(b+c-a)^{2}} \\geq \\frac{27}{(a b c(\\sqrt{a}+\\sqrt{b}+\\sqrt{c}))^{2}} \\geq \\frac{3}{a^{2} b^{2} c^{2}}\n$$\n\nthus solving the problem.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2011_number_theory_p3",
    "formal_statement": "theorem fimo_2011_number_theory_p3\n  (n : ℕ)\n  (h₀ : n ≥ 1)\n  (h₁ : Odd n)\n  (f : ℤ → ℤ)\n  (h₂ : ∀ x y : ℤ, (f x - f y) ∣ (x^n - y^n)) :\n  ∃ (ε : ℤ) (d : ℕ) (c : ℤ), (ε = -1 ∨ ε = 1) ∧ 0 < d ∧ d ∣ n ∧ ∀ x : ℤ, f x = ε * x^d + c := by sorry",
    "informal_statement": "Let $n \\geq 1$ be an odd integer. Determine all functions $f$ from the set of integers to itself such that for all integers $x$ and $y$ the difference $f(x)-f(y)$ divides $x^{n}-y^{n}$.\n\nThe final answers are all functions $f$ of the form $f(x)=\\varepsilon x^{d}+c$, where $\\varepsilon$ is in $\\{1,-1\\}$, the integer $d$ is a positive divisor of $n$, and $c$ is an integer.",
    "informal_proof": "Obviously, all functions in the answer satisfy the condition of the problem. We will show that there are no other functions satisfying that condition.\n\nLet $f$ be a function satisfying the given condition. For each integer $n$, the function $g$ defined by $g(x)=f(x)+n$ also satisfies the same condition. Therefore, by subtracting $f(0)$ from $f(x)$ we may assume that $f(0)=0$.\n\nFor any prime $p$, the condition on $f$ with $(x, y)=(p, 0)$ states that $f(p)$ divides $p^{n}$. Since the set of primes is infinite, there exist integers $d$ and $\\varepsilon$ with $0 \\leq d \\leq n$ and $\\varepsilon \\in\\{1,-1\\}$ such that for infinitely many primes $p$ we have $f(p)=\\varepsilon p^{d}$. Denote the set of these primes by $P$. Since a function $g$ satisfies the given condition if and only if $-g$ satisfies the same condition, we may $\\operatorname{suppose} \\varepsilon=1$\n\nThe case $d=0$ is easily ruled out, because 0 does not divide any nonzero integer. Suppose $d \\geq 1$ and write $n$ as $m d+r$, where $m$ and $r$ are integers such that $m \\geq 1$ and $0 \\leq r \\leq d-1$. Let $x$ be an arbitrary integer. For each prime $p$ in $P$, the difference $f(p)-f(x)$ divides $p^{n}-x^{n}$. Using the equality $f(p)=p^{d}$, we get\n\n$$\np^{n}-x^{n}=p^{r}\\left(p^{d}\\right)^{m}-x^{n} \\equiv p^{r} f(x)^{m}-x^{n} \\equiv 0 \\quad\\left(\\bmod p^{d}-f(x)\\right)\n$$\n\nSince we have $r<d$, for large enough primes $p \\in P$ we obtain\n\n$$\n\\left|p^{r} f(x)^{m}-x^{n}\\right|<p^{d}-f(x) .\n$$\n\nHence $p^{r} f(x)^{m}-x^{n}$ has to be zero. This implies $r=0$ and $x^{n}=\\left(x^{d}\\right)^{m}=f(x)^{m}$. Since $m$ is odd, we obtain $f(x)=x^{d}$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2011_number_theory_p5",
    "formal_statement": "theorem fimo_2011_number_theory_p5\n  (f : ℤ → ℤ)\n  (h₀ : ∀ m n : ℤ, (f (m) - f (n)) % f (m - n) = 0)\n  (h₁ : ∀ x : ℤ, 0 < f (x)) :\n  ∀ m n : ℤ, f (m) ≤ f (n) → f (n) % f (m) = 0 := by sorry",
    "informal_statement": "Let $f$ be a function from the set of integers to the set of positive integers. Suppose that for any two integers $m$ and $n$, the difference $f(m)-f(n)$ is divisible by $f(m-n)$. Prove that for all integers $m, n$ with $f(m) \\leq f(n)$ the number $f(n)$ is divisible by $f(m)$.",
    "informal_proof": "Suppose that $x$ and $y$ are two integers with $f(x)<f(y)$. We will show that $f(x) \\mid f(y)$. By taking $m=x$ and $n=y$ we see that\n\n$$\nf(x-y)|| f(x)-f(y) \\mid=f(y)-f(x)>0,\n$$\n\nso $f(x-y) \\leq f(y)-f(x)<f(y)$. Hence the number $d=f(x)-f(x-y)$ satisfies\n\n$$\n-f(y)<-f(x-y)<d<f(x)<f(y) .\n$$\n\nTaking $m=x$ and $n=x-y$ we see that $f(y) \\mid d$, so we deduce $d=0$, or in other words $f(x)=f(x-y)$. Taking $m=x$ and $n=y$ we see that $f(x)=f(x-y) \\mid f(x)-f(y)$, which implies $f(x) \\mid f(y)$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2011_number_theory_p7",
    "formal_statement": "theorem fimo_2011_number_theory_p7\n  (p m n : ℕ)\n  (k : ℕ)\n  (h₀ : Nat.Prime p)\n  (h₁ : p % 2 = 1)\n  (h₂ : ∑ k in Finset.Icc 1 (p-1), ((3^k : ℕ) / k) + ((4^k : ℕ) / k) - 3 * ((2^k : ℕ) / k) = m / n) :\n  p ∣ m := by sorry",
    "informal_statement": "Let $p$ be an odd prime number. For every integer $a$, define the number\n\n$$\nS_{a}=\\frac{a}{1}+\\frac{a^{2}}{2}+\\cdots+\\frac{a^{p-1}}{p-1} .\n$$\n\nLet $m$ and $n$ be integers such that\n\n$$\nS_{3}+S_{4}-3 S_{2}=\\frac{m}{n} .\n$$\n\nProve that $p$ divides $m$.",
    "informal_proof": "For rational numbers $p_{1} / q_{1}$ and $p_{2} / q_{2}$ with the denominators $q_{1}, q_{2}$ not divisible by $p$, we write $p_{1} / q_{1} \\equiv p_{2} / q_{2}(\\bmod p)$ if the numerator $p_{1} q_{2}-p_{2} q_{1}$ of their difference is divisible by $p$.\n\nWe start with finding an explicit formula for the residue of $S_{a}$ modulo $p$. Note first that for every $k=1, \\ldots, p-1$ the number $\\left(\\begin{array}{l}p \\\\ k\\end{array}\\right)$ is divisible by $p$, and\n\n$$\n\\frac{1}{p}\\left(\\begin{array}{l}\np \\\\\nk\n\\end{array}\\right)=\\frac{(p-1)(p-2) \\cdots(p-k+1)}{k !} \\equiv \\frac{(-1) \\cdot(-2) \\cdots(-k+1)}{k !}=\\frac{(-1)^{k-1}}{k} \\quad(\\bmod p)\n$$\n\nTherefore, we have\n\n$$\nS_{a}=-\\sum_{k=1}^{p-1} \\frac{(-a)^{k}(-1)^{k-1}}{k} \\equiv-\\sum_{k=1}^{p-1}(-a)^{k} \\cdot \\frac{1}{p}\\left(\\begin{array}{l}\np \\\\\nk\n\\end{array}\\right) \\quad(\\bmod p) .\n$$\n\nThe number on the right-hand side is integer. Using the binomial formula we express it as\n\n$$\n-\\sum_{k=1}^{p-1}(-a)^{k} \\cdot \\frac{1}{p}\\left(\\begin{array}{l}\np \\\\\nk\n\\end{array}\\right)=-\\frac{1}{p}\\left(-1-(-a)^{p}+\\sum_{k=0}^{p}(-a)^{k}\\left(\\begin{array}{l}\np \\\\\nk\n\\end{array}\\right)\\right)=\\frac{(a-1)^{p}-a^{p}+1}{p}\n$$\n\nsince $p$ is odd. So, we have\n\n$$\nS_{a} \\equiv \\frac{(a-1)^{p}-a^{p}+1}{p} \\quad(\\bmod p) .\n$$\n\nFinally, using the obtained formula we get\n\n$$\n\\begin{aligned}\nS_{3}+S_{4}-3 S_{2} & \\equiv \\frac{\\left(2^{p}-3^{p}+1\\right)+\\left(3^{p}-4^{p}+1\\right)-3\\left(1^{p}-2^{p}+1\\right)}{p} \\\\\n& =\\frac{4 \\cdot 2^{p}-4^{p}-4}{p}=-\\frac{\\left(2^{p}-2\\right)^{2}}{p} \\quad(\\bmod p) .\n\\end{aligned}\n$$\n\nBy FERMAT's theorem, $p \\mid 2^{p}-2$, so $p^{2} \\mid\\left(2^{p}-2\\right)^{2}$ and hence $S_{3}+S_{4}-3 S_{2} \\equiv 0(\\bmod p)$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_algebra_p1",
    "formal_statement": "theorem fimo_2012_algebra_p1\n  (f : ℤ → ℤ)\n  (h₀ : ∀ a b c, a + b + c = 0 → f a ^ 2 + f b ^ 2 + f c ^ 2 = 2 * f a * f b + 2 * f b * f c + 2 * f c * f a) :\n  (∃ k : ℤ, k ≠ 0 ∧\n    (∀ x, f x = 0) ∨\n    (∀ x, f x = k * x^2) ∨\n    (∀ x, Even x → f x = 0) ∧ (∀ x, Odd x → f x = k) ∨\n    (∀ x, x % 4 = 0 → f x = 0) ∧ (∀ x, x % 4 = 1 → f x = k) ∧ (∀ x, x % 4 = 2 → f x = 4 * k)) := by sorry",
    "informal_statement": "Find all the functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ such that\n\n$$\nf(a)^{2}+f(b)^{2}+f(c)^{2}=2 f(a) f(b)+2 f(b) f(c)+2 f(c) f(a)\n$$\n\nfor all integers $a, b, c$ satisfying $a+b+c=0$.\n\nThe final answer is that the only possible solutions of the functional equation are the constant function $f_{1}(x)=0$ and the following functions:\n\n$$\nf_{2}(x)=k x^{2} \\quad f_{3}(x)=\\left\\{\\begin{array}{ccc}\n0 & x \\text { even } \\\\\nk & x \\text { odd }\n\\end{array} \\quad f_{4}(x)=\\left\\{\\begin{array}{ccc}\n0 & x \\equiv 0 & (\\bmod 4) \\\\\nk & x \\equiv 1 & (\\bmod 2) \\\\\n4 k & x \\equiv 2 & (\\bmod 4)\n\\end{array}\\right.\\right.\n$$\n\nfor any non-zero integer $k$.",
    "informal_proof": "The substitution $a=b=c=0$ gives $3 f(0)^{2}=6 f(0)^{2}$, hence\n\n$$\nf(0)=0 \\text {. }\n$$\n\nThe substitution $b=-a$ and $c=0$ gives $\\left((f(a)-f(-a))^{2}=0\\right.$. Hence $f$ is an even function:\n\n$$\nf(a)=f(-a) \\quad \\text { for all } a \\in \\mathbb{Z} \\text {. }\n$$\n\nNow set $b=a$ and $c=-2 a$ to obtain $2 f(a)^{2}+f(2 a)^{2}=2 f(a)^{2}+4 f(a) f(2 a)$. Hence\n\n$$\nf(2 a)=0 \\text { or } f(2 a)=4 f(a) \\text { for all } a \\in \\mathbb{Z} .\n$$\n\nIf $f(r)=0$ for some $r \\geq 1$ then the substitution $b=r$ and $c=-a-r$ gives $(f(a+r)-f(a))^{2}=0$. So $f$ is periodic with period $r$, i. e.\n\n$$\nf(a+r)=f(a) \\quad \\text { for all } a \\in \\mathbb{Z} .\n$$\n\nIn particular, if $f(1)=0$ then $f$ is constant, thus $f(a)=0$ for all $a \\in \\mathbb{Z}$. This function clearly satisfies the functional equation. For the rest of the analysis, we assume $f(1)=k \\neq 0$.\n\nBy (3) we have $f(2)=0$ or $f(2)=4 k$. If $f(2)=0$ then $f$ is periodic of period 2 , thus $f($ even $)=0$ and $f($ odd $)=k$. This function is a solution for every $k$. We postpone the verification; for the sequel assume $f(2)=4 k \\neq 0$.\n\nBy (3) again, we have $f(4)=0$ or $f(4)=16 k$. In the first case $f$ is periodic of period 4 , and $f(3)=f(-1)=f(1)=k$, so we have $f(4 n)=0, f(4 n+1)=f(4 n+3)=k$, and $f(4 n+2)=4 k$ for all $n \\in \\mathbb{Z}$. This function is a solution too, which we justify later. For the rest of the analysis, we assume $f(4)=16 k \\neq 0$.\n\nWe show now that $f(3)=9 k$. In order to do so, we need two substitutions:\n\n$$\n\\begin{gathered}\na=1, b=2, c=-3 \\Longrightarrow f(3)^{2}-10 k f(3)+9 k^{2}=0 \\Longrightarrow f(3) \\in\\{k, 9 k\\} \\\\\na=1, b=3, c=-4 \\Longrightarrow f(3)^{2}-34 k f(3)+225 k^{2}=0 \\Longrightarrow f(3) \\in\\{9 k, 25 k\\}\n\\end{gathered}\n$$\n\nTherefore $f(3)=9 k$, as claimed. Now we prove inductively that the only remaining function is $f(x)=k x^{2}, x \\in \\mathbb{Z}$. We proved this for $x=0,1,2,3,4$. Assume that $n \\geq 4$ and that $f(x)=k x^{2}$ holds for all integers $x \\in[0, n]$. Then the substitutions $a=n, b=1, c=-n-1$ and $a=n-1$, $b=2, c=-n-1$ lead respectively to\n\n$$\nf(n+1) \\in\\left\\{k(n+1)^{2}, k(n-1)^{2}\\right\\} \\quad \\text { and } \\quad f(n+1) \\in\\left\\{k(n+1)^{2}, k(n-3)^{2}\\right\\} .\n$$\n\nSince $k(n-1)^{2} \\neq k(n-3)^{2}$ for $n \\neq 2$, the only possibility is $f(n+1)=k(n+1)^{2}$. This completes the induction, so $f(x)=k x^{2}$ for all $x \\geq 0$. The same expression is valid for negative values of $x$ since $f$ is even. To verify that $f(x)=k x^{2}$ is actually a solution, we need to check the identity $a^{4}+b^{4}+(a+b)^{4}=2 a^{2} b^{2}+2 a^{2}(a+b)^{2}+2 b^{2}(a+b)^{2}$, which follows directly by expanding both sides. Therefore the only possible solutions of the functional equation are the constant function $f_{1}(x)=0$ and the following functions:\n\n$$\nf_{2}(x)=k x^{2} \\quad f_{3}(x)=\\left\\{\\begin{array}{ccc}\n0 & x \\text { even } \\\\\nk & x \\text { odd }\n\\end{array} \\quad f_{4}(x)=\\left\\{\\begin{array}{ccc}\n0 & x \\equiv 0 & (\\bmod 4) \\\\\nk & x \\equiv 1 & (\\bmod 2) \\\\\n4 k & x \\equiv 2 & (\\bmod 4)\n\\end{array}\\right.\\right.\n$$\n\nfor any non-zero integer $k$. The verification that they are indeed solutions was done for the first two. For $f_{3}$ note that if $a+b+c=0$ then either $a, b, c$ are all even, in which case $f(a)=f(b)=f(c)=0$, or one of them is even and the other two are odd, so both sides of the equation equal $2 k^{2}$. For $f_{4}$ we use similar parity considerations and the symmetry of the equation, which reduces the verification to the triples $(0, k, k),(4 k, k, k),(0,0,0),(0,4 k, 4 k)$. They all satisfy the equation.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_algebra_p3",
    "formal_statement": "theorem fimo_2012_algebra_p3\n  (n : ℕ)\n  (a : Fin (n - 1) → ℝ)\n  (h₀ : n ≥ 3)\n  (h₁ : ∏ i, a i = 1)\n  (h₂ : ∀ i, 0 < a i) :\n  (∏ i, (1 + a i)^(i.val + 2 : ℕ)) > n^n := by sorry",
    "informal_statement": "Let $a_{2}, \\ldots, a_{n}$ be $n-1$ positive real numbers, where $n \\geq 3$, such that $a_{2} a_{3} \\cdots a_{n}=1$. Prove that\n\n$$\n\\left(1+a_{2}\\right)^{2}\\left(1+a_{3}\\right)^{3} \\cdots\\left(1+a_{n}\\right)^{n}>n^{n} .\n$$",
    "informal_proof": "The substitution $a_{2}=\\frac{x_{2}}{x_{1}}, a_{3}=\\frac{x_{3}}{x_{2}}, \\ldots, a_{n}=\\frac{x_{1}}{x_{n-1}}$ transforms the original problem into the inequality\n\n$$\n\\left(x_{1}+x_{2}\\right)^{2}\\left(x_{2}+x_{3}\\right)^{3} \\cdots\\left(x_{n-1}+x_{1}\\right)^{n}>n^{n} x_{1}^{2} x_{2}^{3} \\cdots x_{n-1}^{n}\n$$\n\nfor all $x_{1}, \\ldots, x_{n-1}>0$. To prove this, we use the AM-GM inequality for each factor of the left-hand side as follows:\n\n$$\n\\begin{aligned}\n& \\left(x_{1}+x_{2}\\right)^{2} \\quad \\geq 2^{2} x_{1} x_{2} \\\\\n& \\left(x_{2}+x_{3}\\right)^{3}=\\left(2\\left(\\frac{x_{2}}{2}\\right)+x_{3}\\right)^{3} \\geq 3^{3}\\left(\\frac{x_{2}}{2}\\right)^{2} x_{3} \\\\\n& \\left(x_{3}+x_{4}\\right)^{4}=\\left(3\\left(\\frac{x_{3}}{3}\\right)+x_{4}\\right)^{4} \\geq 4^{4}\\left(\\frac{x_{3}}{3}\\right)^{3} x_{4} \\\\\n& \\left(x_{n-1}+x_{1}\\right)^{n}=\\left((n-1)\\left(\\frac{x_{n-1}}{n-1}\\right)+x_{1}\\right)^{n} \\geq n^{n}\\left(\\frac{x_{n-1}}{n-1}\\right)^{n-1} x_{1} .\n\\end{aligned}\n$$\n\nMultiplying these inequalities together gives $\\left(^{*}\\right)$, with inequality $\\operatorname{sign} \\geq$ instead of $>$. However for the equality to occur it is necessary that $x_{1}=x_{2}, x_{2}=2 x_{3}, \\ldots, x_{n-1}=(n-1) x_{1}$, implying $x_{1}=(n-1) ! x_{1}$. This is impossible since $x_{1}>0$ and $n \\geq 3$. Therefore the inequality is strict.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_algebra_p5",
    "formal_statement": "theorem fimo_2012_algebra_p5\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, f (1 + x * y) - f (x + y) = f x * f y)\n  (h₁ : f (-1) ≠ 0) :\n  ∀ x, f x = x - 1 := by sorry",
    "informal_statement": "Find all functions $f: \\mathbb{R} \\rightarrow \\mathbb{R}$ that satisfy the conditions\n\n$$\nf(1+x y)-f(x+y)=f(x) f(y) \\text { for all } x, y \\in \\mathbb{R}\n$$\n\nand $f(-1) \\neq 0$\n\nThe final answer is the function $f(x)=x-1, x \\in \\mathbb{R}$.",
    "informal_proof": "The only solution is the function $f(x)=x-1, x \\in \\mathbb{R}$.\n\nWe set $g(x)=f(x)+1$ and show that $g(x)=x$ for all real $x$. The conditions take the form\n\n$$\ng(1+x y)-g(x+y)=(g(x)-1)(g(y)-1) \\quad \\text { for all } x, y \\in \\mathbb{R} \\text { and } g(-1) \\neq 1 .\n$$\n\nDenote $C=g(-1)-1 \\neq 0$. Setting $y=-1$ in (1) gives\n\n$$\ng(1-x)-g(x-1)=C(g(x)-1) .\n$$\n\nSet $x=1$ in (2) to obtain $C(g(1)-1)=0$. Hence $g(1)=1$ as $C \\neq 0$. Now plugging in $x=0$ and $x=2$ yields $g(0)=0$ and $g(2)=2$ respectively.\n\nWe pass on to the key observations\n\n$$\n\\begin{array}{ll}\ng(x)+g(2-x)=2 & \\text { for all } x \\in \\mathbb{R}, \\\\\ng(x+2)-g(x)=2 & \\text { for all } x \\in \\mathbb{R} .\n\\end{array}\n$$\n\nReplace $x$ by $1-x$ in (2), then change $x$ to $-x$ in the resulting equation. We obtain the relations $g(x)-g(-x)=C(g(1-x)-1), g(-x)-g(x)=C(g(1+x)-1)$. Then adding them up leads to $C(g(1-x)+g(1+x)-2)=0$. Thus $C \\neq 0$ implies (3).\n\nLet $u, v$ be such that $u+v=1$. Apply (1) to the pairs $(u, v)$ and $(2-u, 2-v)$ :\n\n$$\ng(1+u v)-g(1)=(g(u)-1)(g(v)-1), \\quad g(3+u v)-g(3)=(g(2-u)-1)(g(2-v)-1) .\n$$\n\nObserve that the last two equations have equal right-hand sides by (3). Hence $u+v=1$ implies\n\n$$\ng(u v+3)-g(u v+1)=g(3)-g(1) .\n$$\n\nEach $x \\leq 5 / 4$ is expressible in the form $x=u v+1$ with $u+v=1$ (the quadratic function $t^{2}-t+(x-1)$ has real roots for $\\left.x \\leq 5 / 4\\right)$. Hence $g(x+2)-g(x)=g(3)-g(1)$ whenever $x \\leq 5 / 4$. Because $g(x)=x$ holds for $x=0,1,2$, setting $x=0$ yields $g(3)=3$. This proves (4) for $x \\leq 5 / 4$. If $x>5 / 4$ then $-x<5 / 4$ and so $g(2-x)-g(-x)=2$ by the above. On the other hand (3) gives $g(x)=2-g(2-x), g(x+2)=2-g(-x)$, so that $g(x+2)-g(x)=g(2-x)-g(-x)=2$. Thus (4) is true for all $x \\in \\mathbb{R}$.\n\nNow replace $x$ by $-x$ in (3) to obtain $g(-x)+g(2+x)=2$. In view of (4) this leads to $g(x)+g(-x)=0$, i. e. $g(-x)=-g(x)$ for all $x$. Taking this into account, we apply (1) to the pairs $(-x, y)$ and $(x,-y)$ :\n\n$g(1-x y)-g(-x+y)=(g(x)+1)(1-g(y)), \\quad g(1-x y)-g(x-y)=(1-g(x))(g(y)+1)$.\n\nAdding up yields $g(1-x y)=1-g(x) g(y)$. Then $g(1+x y)=1+g(x) g(y)$ by (3). Now the original equation (1) takes the form $g(x+y)=g(x)+g(y)$. Hence $g$ is additive.\n\nBy additvity $g(1+x y)=g(1)+g(x y)=1+g(x y)$; since $g(1+x y)=1+g(x) g(y)$ was shown above, we also have $g(x y)=g(x) g(y)(g$ is multiplicative $)$. In particular $y=x$ gives $g\\left(x^{2}\\right)=g(x)^{2} \\geq 0$ for all $x$, meaning that $g(x) \\geq 0$ for $x \\geq 0$. Since $g$ is additive and bounded from below on $[0,+\\infty)$, it is linear; more exactly $g(x)=g(1) x=x$ for all $x \\in \\mathbb{R}$.\n\nIn summary $f(x)=x-1, x \\in \\mathbb{R}$. It is straightforward that this function satisfies the requirements.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_algebra_p6",
    "formal_statement": "theorem fimo_2012_algebra_p6\n  (f : ℕ → ℕ)\n  (h₀ : ∀ n, ∃ k, (f^[2 * k]) n = n + k)\n  (k_n : ℕ → ℕ)\n  (h₁ : ∀ n, k_n n = Nat.find (h₀ n)) :\n  ¬∃ M, ∀ n, k_n n ≤ M := by sorry",
    "informal_statement": "Let $f: \\mathbb{N} \\rightarrow \\mathbb{N}$ be a function, and let $f^{m}$ be $f$ applied $m$ times. Suppose that for every $n \\in \\mathbb{N}$ there exists a $k \\in \\mathbb{N}$ such that $f^{2 k}(n)=n+k$, and let $k_{n}$ be the smallest such $k$. Prove that the sequence $k_{1}, k_{2}, \\ldots$ is unbounded.",
    "informal_proof": "We restrict attention to the set\n\n$$\nS=\\left\\{1, f(1), f^{2}(1), \\ldots\\right\\} .\n$$\n\nObserve that $S$ is unbounded because for every number $n$ in $S$ there exists a $k>0$ such that $f^{2 k}(n)=n+k$ is in $S$. Clearly $f$ maps $S$ into itself; moreover $f$ is injective on $S$. Indeed if $f^{i}(1)=f^{j}(1)$ with $i \\neq j$ then the values $f^{m}(1)$ start repeating periodically from some point on, and $S$ would be finite.\n\nDefine $g: S \\rightarrow S$ by $g(n)=f^{2 k_{n}}(n)=n+k_{n}$. We prove that $g$ is injective too. Suppose that $g(a)=g(b)$ with $a<b$. Then $a+k_{a}=f^{2 k_{a}}(a)=f^{2 k_{b}}(b)=b+k_{b}$ implies $k_{a}>k_{b}$. So, since $f$ is injective on $S$, we obtain\n\n$$\nf^{2\\left(k_{a}-k_{b}\\right)}(a)=b=a+\\left(k_{a}-k_{b}\\right)\n$$\n\nHowever this contradicts the minimality of $k_{a}$ as $0<k_{a}-k_{b}<k_{a}$.\n\nLet $T$ be the set of elements of $S$ that are not of the form $g(n)$ with $n \\in S$. Note that $1 \\in T$ by $g(n)>n$ for $n \\in S$, so $T$ is non-empty. For each $t \\in T \\operatorname{denote} C_{t}=\\left\\{t, g(t), g^{2}(t), \\ldots\\right\\}$; call $C_{t}$ the chain starting at $t$. Observe that distinct chains are disjoint because $g$ is injective. Each $n \\in S \\backslash T$ has the form $n=g\\left(n^{\\prime}\\right)$ with $n^{\\prime}<n, n^{\\prime} \\in S$. Repeated applications of the same observation show that $n \\in C_{t}$ for some $t \\in T$, i. e. $S$ is the disjoint union of the chains $C_{t}$.\n\nIf $f^{n}(1)$ is in the chain $C_{t}$ starting at $t=f^{n_{t}}(1)$ then $n=n_{t}+2 a_{1}+\\cdots+2 a_{j}$ with\n\n$$\nf^{n}(1)=g^{j}\\left(f^{n_{t}}(1)\\right)=f^{2 a_{j}}\\left(f^{2 a_{j-1}}\\left(\\cdots f^{2 a_{1}}\\left(f^{n_{t}}(1)\\right)\\right)\\right)=f^{n_{t}}(1)+a_{1}+\\cdots+a_{j} .\n$$\n\nHence\n\n$$\nf^{n}(1)=f^{n_{t}}(1)+\\frac{n-n_{t}}{2}=t+\\frac{n-n_{t}}{2} .\n$$\n\nNow we show that $T$ is infinite. We argue by contradiction. Suppose that there are only finitely many chains $C_{t_{1}}, \\ldots, C_{t_{r}}$, starting at $t_{1}<\\cdots<t_{r}$. Fix $N$. If $f^{n}(1)$ with $1 \\leq n \\leq N$ is in $C_{t}$ then $f^{n}(1)=t+\\frac{n-n_{t}}{2} \\leq t_{r}+\\frac{N}{2}$ by (1). But then the $N+1$ distinct natural numbers $1, f(1), \\ldots, f^{N}(1)$ are all less than $t_{r}+\\frac{N}{2}$ and hence $N+1 \\leq t_{r}+\\frac{N}{2}$. This is a contradiction if $N$ is sufficiently large, and hence $T$ is infinite.\n\nTo complete the argument, choose any $k$ in $\\mathbb{N}$ and consider the $k+1$ chains starting at the first $k+1$ numbers in $T$. Let $t$ be the greatest one among these numbers. Then each of the chains in question contains a number not exceeding $t$, and at least one of them does not contain any number among $t+1, \\ldots, t+k$. So there is a number $n$ in this chain such that $g(n)-n>k$, i. e. $k_{n}>k$. In conclusion $k_{1}, k_{2}, \\ldots$ is unbounded.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p1",
    "formal_statement": "theorem fimo_2012_number_theory_p1\n  (m n : ℤ)\n  (h₀ : m ≠ 0 ∧ n ≠ 0)\n  (h₁ : ∀ (A : Set ℤ), (m ∈ A ∧ n ∈ A ∧ ∀ (x y : ℤ), x ∈ A → y ∈ A → ∀ (k : ℤ), x^2 + k * x * y + y^2 ∈ A) → A = Set.univ) :\n  gcd m n = 1 := by sorry",
    "informal_statement": "Call admissible a set $A$ of integers that has the following property:\n\n$$\n\\text { If } x, y \\in A \\text { (possibly } x=y \\text { ) then } x^{2}+k x y+y^{2} \\in A \\text { for every integer } k \\text {. }\n$$\n\nDetermine all pairs $m, n$ of nonzero integers such that the only admissible set containing both $m$ and $n$ is the set of all integers.\n\nThe final answer is that a pair of integers $m, n$ fulfills the condition if and only if $\\operatorname{gcd}(m, n)=1$.",
    "informal_proof": "A pair of integers $m, n$ fulfills the condition if and only if $\\operatorname{gcd}(m, n)=1$. Suppose that $\\operatorname{gcd}(m, n)=d>1$. The set\n\n$$\nA=\\{\\ldots,-2 d,-d, 0, d, 2 d, \\ldots\\}\n$$\n\nis admissible, because if $d$ divides $x$ and $y$ then it divides $x^{2}+k x y+y^{2}$ for every integer $k$. Also $m, n \\in A$ and $A \\neq \\mathbb{Z}$.\n\nNow let $\\operatorname{gcd}(m, n)=1$, and let $A$ be an admissible set containing $m$ and $n$. We use the following observations to prove that $A=\\mathbb{Z}$ :\n\n(i) $k x^{2} \\in A$ for every $x \\in A$ and every integer $k$.\n\n(ii) $(x+y)^{2} \\in A$ for all $x, y \\in A$.\n\nTo justify (i) let $y=x$ in the definition of an admissible set; to justify (ii) let $k=2$.\n\nSince $\\operatorname{gcd}(m, n)=1$, we also have $\\operatorname{gcd}\\left(m^{2}, n^{2}\\right)=1$. Hence one can find integers $a, b$ such that $a m^{2}+b n^{2}=1$. It follows from (i) that $a m^{2} \\in A$ and $b n^{2} \\in A$. Now we deduce from (ii) that $1=\\left(a m^{2}+b n^{2}\\right)^{2} \\in A$. But if $1 \\in A$ then (i) implies $k \\in A$ for every integer $k$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p2",
    "formal_statement": "theorem fimo_2012_number_theory_p2\n  (x y z : ℕ)\n  (h₀ : 0 < x ∧ 0 < y ∧ 0 < z)\n  (h₁ : x ≤ y ∧ y ≤ z)\n  (h₂ : x^3 * (y^3 + z^3) = 2012 * (x * y * z + 2)) :\n  (x, y, z) = (2, 251, 252) := by sorry",
    "informal_statement": "Find all triples $(x, y, z)$ of positive integers such that $x \\leq y \\leq z$ and\n\n$$\nx^{3}\\left(y^{3}+z^{3}\\right)=2012(x y z+2) .\n$$\n\nThe final answer is the triple $(2,251,252)$.",
    "informal_proof": "First note that $x$ divides $2012 \\cdot 2=2^{3} \\cdot 503$. If $503 \\mid x$ then the right-hand side of the equation is divisible by $503^{3}$, and it follows that $503^{2} \\mid x y z+2$. This is false as $503 \\mid x$. Hence $x=2^{m}$ with $m \\in\\{0,1,2,3\\}$. If $m \\geq 2$ then $2^{6} \\mid 2012(x y z+2)$. However the highest powers of 2 dividing 2012 and $x y z+2=2^{m} y z+2$ are $2^{2}$ and $2^{1}$ respectively. So $x=1$ or $x=2$, yielding the two equations\n\n$$\ny^{3}+z^{3}=2012(y z+2), \\quad \\text { and } \\quad y^{3}+z^{3}=503(y z+1) .\n$$\n\nIn both cases the prime $503=3 \\cdot 167+2$ divides $y^{3}+z^{3}$. We claim that $503 \\mid y+z$. This is clear if $503 \\mid y$, so let $503 \\nmid y$ and $503 \\nmid z$. Then $y^{502} \\equiv z^{502}(\\bmod 503)$ by FERMAT's little theorem. On the other hand $y^{3} \\equiv-z^{3}(\\bmod 503)$ implies $y^{3 \\cdot 167} \\equiv-z^{3 \\cdot 167}(\\bmod 503)$, i. e. $y^{501} \\equiv-z^{501}(\\bmod 503)$. It follows that $y \\equiv-z(\\bmod 503)$ as claimed.\n\nTherefore $y+z=503 k$ with $k \\geq 1$. In view of $y^{3}+z^{3}=(y+z)\\left((y-z)^{2}+y z\\right)$ the two equations take the form\n\n$$\n\\begin{aligned}\n& k(y-z)^{2}+(k-4) y z=8 \\\\\n& k(y-z)^{2}+(k-1) y z=1\n\\end{aligned}\n$$\n\nIn (1) we have $(k-4) y z \\leq 8$, which implies $k \\leq 4$. Indeed if $k>4$ then $1 \\leq(k-4) y z \\leq 8$, so that $y \\leq 8$ and $z \\leq 8$. This is impossible as $y+z=503 k \\geq 503$. Note next that $y^{3}+z^{3}$ is even in the first equation. Hence $y+z=503 k$ is even too, meaning that $k$ is even. Thus $k=2$ or $k=4$. Clearly (1) has no integer solutions for $k=4$. If $k=2$ then (1) takes the form $(y+z)^{2}-5 y z=4$. Since $y+z=503 k=503 \\cdot 2$, this leads to $5 y z=503^{2} \\cdot 2^{2}-4$. However $503^{2} \\cdot 2^{2}-4$ is not a multiple of 5 . Therefore (1) has no integer solutions.\n\nEquation (2) implies $0 \\leq(k-1) y z \\leq 1$, so that $k=1$ or $k=2$. Also $0 \\leq k(y-z)^{2} \\leq 1$, hence $k=2$ only if $y=z$. However then $y=z=1$, which is false in view of $y+z \\geq 503$. Therefore $k=1$ and (2) takes the form $(y-z)^{2}=1$, yielding $z-y=|y-z|=1$. Combined with $k=1$ and $y+z=503 k$, this leads to $y=251, z=252$.\n\nIn summary the triple $(2,251,252)$ is the only solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p3",
    "formal_statement": "theorem fimo_2012_number_theory_p3\n  (m : ℕ)\n  (h₀ : 2 ≤ m)\n  (h₁ : ∀ n, m / 3 ≤ n → n ≤ m / 2 → n ∣ Nat.choose n (m - 2 * n)) :\n  Nat.Prime m := by sorry",
    "informal_statement": "Determine all integers $m \\geq 2$ such that every $n$ with $\\frac{m}{3} \\leq n \\leq \\frac{m}{2}$ divides the binomial coefficient $\\left(\\begin{array}{c}n \\\\ m-2 n\\end{array}\\right)$.\n\nThe final answers are all prime numbers.",
    "informal_proof": "The integers in question are all prime numbers.\n\nFirst we check that all primes satisfy the condition, and even a stronger one. Namely, if $p$ is a prime then every $n$ with $1 \\leq n \\leq \\frac{p}{2}$ divides $\\left(\\begin{array}{c}n \\\\ p-2 n\\end{array}\\right)$. This is true for $p=2$ where $n=1$ is the only possibility. For an odd prime $p$ take $n \\in\\left[1, \\frac{p}{2}\\right]$ and consider the following identity of binomial coefficients:\n\n$$\n(p-2 n) \\cdot\\left(\\begin{array}{c}\nn \\\\\np-2 n\n\\end{array}\\right)=n \\cdot\\left(\\begin{array}{c}\nn-1 \\\\\np-2 n-1\n\\end{array}\\right) .\n$$\n\nSince $p \\geq 2 n$ and $p$ is odd, all factors are non-zero. If $d=\\operatorname{gcd}(p-2 n, n)$ then $d$ divides $p$, but $d \\leq n<p$ and hence $d=1$. It follows that $p-2 n$ and $n$ are relatively prime, and so the factor $n$ in the right-hand side divides the binomial coefficient $\\left(\\begin{array}{c}n \\\\ p-2 n\\end{array}\\right)$.\n\nNext we show that no composite number $m$ has the stated property. Consider two cases.\n\n\\begin{itemize}\n  \\item If $m=2 k$ with $k>1$, pick $n=k$. Then $\\frac{m}{3} \\leq n \\leq \\frac{m}{2}$ but $\\left(\\begin{array}{c}n \\\\ m-2 n\\end{array}\\right)=\\left(\\begin{array}{l}k \\\\ 0\\end{array}\\right)=1$ is not divisible by $k>1$.\n\n  \\item If $m$ is odd then there exist an odd prime $p$ and an integer $k \\geq 1$ with $m=p(2 k+1)$. Pick $n=p k$, then $\\frac{m}{3} \\leq n \\leq \\frac{m}{2}$ by $k \\geq 1$. However\n\n\\end{itemize}\n\n$$\n\\frac{1}{n}\\left(\\begin{array}{c}\nn \\\\\nm-2 n\n\\end{array}\\right)=\\frac{1}{p k}\\left(\\begin{array}{c}\np k \\\\\np\n\\end{array}\\right)=\\frac{(p k-1)(p k-2) \\cdots(p k-(p-1))}{p !}\n$$\n\nis not an integer, because $p$ divides the denominator but not the numerator.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p4_1",
    "formal_statement": "theorem fimo_2012_number_theory_p4_1\n  (IsFriendly : ℕ → Prop)\n  (IsFriendly_def : ∀ (a : ℕ) , IsFriendly a ↔\n    ∃ m n : ℕ, 0 < m ∧ 0 < n ∧ (m^2 + n) * (n^2 + m) = a * (m - n)^3) :\n    {a ∈ (Finset.Icc 1 2012) | IsFriendly a}.Finite ∧ {a ∈ (Finset.Icc 1 2012) | IsFriendly a}.ncard ≥ 500 := by sorry",
    "informal_statement": "An integer $a$ is called friendly if the equation $\\left(m^{2}+n\\right)\\left(n^{2}+m\\right)=a(m-n)^{3}$ has a solution over the positive integers.\n\nProve that there are at least 500 friendly integers in the set $\\{1,2, \\ldots, 2012\\}$.",
    "informal_proof": "Every $a$ of the form $a=4 k-3$ with $k \\geq 2$ is friendly. Indeed the numbers $m=2 k-1>0$ and $n=k-1>0$ satisfy the given equation with $a=4 k-3$ :\n\n$$\n\\left(m^{2}+n\\right)\\left(n^{2}+m\\right)=\\left((2 k-1)^{2}+(k-1)\\right)\\left((k-1)^{2}+(2 k-1)\\right)=(4 k-3) k^{3}=a(m-n)^{3} .\n$$\n\nHence $5,9, \\ldots, 2009$ are friendly and so $\\{1,2, \\ldots, 2012\\}$ contains at least 502 friendly numbers.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p4_2",
    "formal_statement": "theorem fimo_2012_number_theory_p4_2 :\n  ¬(∃ (m n : ℕ), 0 < m ∧ 0 < n ∧ (m^2 + n) * (n^2 + m) = 2 * (m - n)^3) := by sorry",
    "informal_statement": "An integer $a$ is called friendly if the equation $\\left(m^{2}+n\\right)\\left(n^{2}+m\\right)=a(m-n)^{3}$ has a solution over the positive integers.\n\nDecide whether $a=2$ is friendly.\n\nThe final answer is that $a=2$ is not friendly.",
    "informal_proof": "We show that $a=2$ is not friendly. Consider the equation with $a=2$ and rewrite its left-hand side as a difference of squares:\n\n$$\n\\frac{1}{4}\\left(\\left(m^{2}+n+n^{2}+m\\right)^{2}-\\left(m^{2}+n-n^{2}-m\\right)^{2}\\right)=2(m-n)^{3} .\n$$\n\nSince $m^{2}+n-n^{2}-m=(m-n)(m+n-1)$, we can further reformulate the equation as\n\n$$\n\\left(m^{2}+n+n^{2}+m\\right)^{2}=(m-n)^{2}\\left(8(m-n)+(m+n-1)^{2}\\right) .\n$$\n\nIt follows that $8(m-n)+(m+n-1)^{2}$ is a perfect square. Clearly $m>n$, hence there is an integer $s \\geq 1$ such that\n\n$$\n(m+n-1+2 s)^{2}=8(m-n)+(m+n-1)^{2} .\n$$\n\nSubtracting the squares gives $s(m+n-1+s)=2(m-n)$. Since $m+n-1+s>m-n$, we conclude that $s<2$. Therefore the only possibility is $s=1$ and $m=3 n$. However then the left-hand side of the given equation (with $a=2$ ) is greater than $m^{3}=27 n^{3}$, whereas its right-hand side equals $16 n^{3}$. The contradiction proves that $a=2$ is not friendly.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p6",
    "formal_statement": "theorem fimo_2012_number_theory_p6\n  (x y : ℕ)\n  (n : ℕ)\n  (h₀ : 0 < x)\n  (h₁ : 0 < y)\n  (h₂ : ∀ (n : ℕ), (x^(2^n) - 1) % (2^n * y + 1) = 0) :\n  x = 1 := by sorry",
    "informal_statement": "Let $x$ and $y$ be positive integers. If $x^{2^{n}}-1$ is divisible by $2^{n} y+1$ for every positive integer $n$, prove that $x=1$.",
    "informal_proof": "First we prove the following fact: For every positive integer $y$ there exist infinitely many primes $p \\equiv 3(\\bmod 4)$ such that $p$ divides some number of the form $2^{n} y+1$.\n\nClearly it is enough to consider the case $y$ odd. Let\n\n$$\n2 y+1=p_{1}^{e_{1}} \\cdots p_{r}^{e_{r}}\n$$\n\nbe the prime factorization of $2 y+1$. Suppose on the contrary that there are finitely many primes $p_{r+1}, \\ldots, p_{r+s} \\equiv 3(\\bmod 4)$ that divide some number of the form $2^{n} y+1$ but do not divide $2 y+1$.\n\nWe want to find an $n$ such that $p_{i}^{e_{i}} \\| 2^{n} y+1$ for $1 \\leq i \\leq r$ and $p_{i} \\nmid 2^{n} y+1$ for $r+1 \\leq i \\leq r+s$. For this it suffices to take\n\n$$\nn=1+\\varphi\\left(p_{1}^{e_{1}+1} \\cdots p_{r}^{e_{r}+1} p_{r+1}^{1} \\cdots p_{r+s}^{1}\\right),\n$$\n\nbecause then\n\n$$\n2^{n} y+1 \\equiv 2 y+1 \\quad\\left(\\bmod p_{1}^{e_{1}+1} \\cdots p_{r}^{e_{r}+1} p_{r+1}^{1} \\cdots p_{r+s}^{1}\\right)\n$$\n\nThe last congruence means that $p_{1}^{e_{1}}, \\ldots, p_{r}^{e_{r}}$ divide exactly $2^{n} y+1$ and no prime $p_{r+1}, \\ldots, p_{r+s}$ divides $2^{n} y+1$. It follows that the prime factorization of $2^{n} y+1$ consists of the prime powers $p_{1}^{e_{1}}, \\ldots, p_{r}^{e_{r}}$ and powers of primes $\\equiv 1(\\bmod 4)$. Because $y$ is odd, we obtain\n\n$$\n2^{n} y+1 \\equiv p_{1}^{e_{1}} \\cdots p_{r}^{e_{r}} \\equiv 2 y+1 \\equiv 3 \\quad(\\bmod 4)\n$$\n\nThis is a contradiction since $n>1$, and so $2^{n} y+1 \\equiv 1(\\bmod 4)$.\n\nNow we proceed to the problem. If $p$ is a prime divisor of $2^{n} y+1$ the problem statement implies that $x^{d} \\equiv 1(\\bmod p)$ for $d=2^{n}$. By FERMAT's little theorem the same congruence holds for $d=p-1$, so it must also hold for $d=\\left(2^{n}, p-1\\right)$. For $p \\equiv 3(\\bmod 4)$ we have $\\left(2^{n}, p-1\\right)=2$, therefore in this case $x^{2} \\equiv 1(\\bmod p)$.\n\nIn summary, we proved that every prime $p \\equiv 3(\\bmod 4)$ that divides some number of the form $2^{n} y+1$ also divides $x^{2}-1$. This is possible only if $x=1$, otherwise by the above $x^{2}-1$ would be a positive integer with infinitely many prime factors.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p7",
    "formal_statement": "theorem fimo_2012_number_theory_p7\n  (n : ℕ)\n  (a : Finset ℕ)\n  (h₀ : Finset.card a = n)\n  (h₁ : ∑ i in a, (1 / 2^i) = 1)\n  (h₂ : ∑ i in a, ((i+1) / 3^i) = 1) :\n  n = 1 ∨ n = 2 := by sorry",
    "informal_statement": "Find all $n \\in \\mathbb{N}$ for which there exist nonnegative integers $a_{1}, a_{2}, \\ldots, a_{n}$ such that\n\n$$\n\\frac{1}{2^{a_{1}}}+\\frac{1}{2^{a_{2}}}+\\cdots+\\frac{1}{2^{a_{n}}}=\\frac{1}{3^{a_{1}}}+\\frac{2}{3^{a_{2}}}+\\cdots+\\frac{n}{3^{a_{n}}}=1 .\n$$",
    "informal_proof": "Such numbers $a_{1}, a_{2}, \\ldots, a_{n}$ exist if and only if $n \\equiv 1(\\bmod 4)$ or $n \\equiv 2(\\bmod 4)$.\n\nLet $\\sum_{k=1}^{n} \\frac{k}{3^{a_{k}}}=1$ with $a_{1}, a_{2}, \\ldots, a_{n}$ nonnegative integers. Then $1 \\cdot x_{1}+2 \\cdot x_{2}+\\cdots+n \\cdot x_{n}=3^{a}$ with $x_{1}, \\ldots, x_{n}$ powers of 3 and $a \\geq 0$. The right-hand side is odd, and the left-hand side has the same parity as $1+2+\\cdots+n$. Hence the latter sum is odd, which implies $n \\equiv 1,2(\\bmod 4)$. Now we prove the converse.\n\nCall feasible a sequence $b_{1}, b_{2}, \\ldots, b_{n}$ if there are nonnegative integers $a_{1}, a_{2}, \\ldots, a_{n}$ such that\n\n$$\n\\frac{1}{2^{a_{1}}}+\\frac{1}{2^{a_{2}}}+\\cdots+\\frac{1}{2^{a_{n}}}=\\frac{b_{1}}{3^{a_{1}}}+\\frac{b_{2}}{3^{a_{2}}}+\\cdots+\\frac{b_{n}}{3^{a_{n}}}=1 .\n$$\n\nLet $b_{k}$ be a term of a feasible sequence $b_{1}, b_{2}, \\ldots, b_{n}$ with exponents $a_{1}, a_{2}, \\ldots, a_{n}$ like above, and let $u, v$ be nonnegative integers with sum $3 b_{k}$. Observe that\n\n$$\n\\frac{1}{2^{a_{k}+1}}+\\frac{1}{2^{a_{k}+1}}=\\frac{1}{2^{a_{k}}} \\quad \\text { and } \\quad \\frac{u}{3^{a_{k}+1}}+\\frac{v}{3^{a_{k}+1}}=\\frac{b_{k}}{3^{a_{k}}} \\text {. }\n$$\n\nIt follows that the sequence $b_{1}, \\ldots, b_{k-1}, u, v, b_{k+1}, \\ldots, b_{n}$ is feasible. The exponents $a_{i}$ are the same for the unchanged terms $b_{i}, i \\neq k$; the new terms $u, v$ have exponents $a_{k}+1$.\n\nWe state the conclusion in reverse. If two terms $u, v$ of a sequence are replaced by one term $\\frac{u+v}{3}$ and the obtained sequence is feasible, then the original sequence is feasible too. Denote by $\\alpha_{n}$ the sequence $1,2, \\ldots, n$. To show that $\\alpha_{n}$ is feasible for $n \\equiv 1,2(\\bmod 4)$, we transform it by $n-1$ replacements $\\{u, v\\} \\mapsto \\frac{u+v}{3}$ to the one-term sequence $\\alpha_{1}$. The latter is feasible, with $a_{1}=0$. Note that if $m$ and $2 m$ are terms of a sequence then $\\{m, 2 m\\} \\mapsto m$, so $2 m$ can be ignored if necessary.\n\nLet $n \\geq 16$. We prove that $\\alpha_{n}$ can be reduced to $\\alpha_{n-12}$ by 12 operations. Write $n=12 k+r$ where $k \\geq 1$ and $0 \\leq r \\leq 11$. If $0 \\leq r \\leq 5$ then the last 12 terms of $\\alpha_{n}$ can be partitioned into 2 singletons $\\{12 k-6\\},\\{12 k\\}$ and the following 5 pairs:\n\n$$\n\\{12 k-6-i, 12 k-6+i\\}, i=1, \\ldots, 5-r ; \\quad\\{12 k-j, 12 k+j\\}, j=1, \\ldots, r .\n$$\n\n(There is only one kind of pairs if $r \\in\\{0,5\\}$.) One can ignore $12 k-6$ and $12 k$ since $\\alpha_{n}$ contains $6 k-3$ and $6 k$. Furthermore the 5 operations $\\{12 k-6-i, 12 k-6+i\\} \\mapsto 8 k-4$ and $\\{12 k-j, 12 k+j\\} \\mapsto 8 k$ remove the 10 terms in the pairs and bring in 5 new terms equal to $8 k-4$ or $8 k$. All of these can be ignored too as $4 k-2$ and $4 k$ are still present in the sequence. Indeed $4 k \\leq n-12$ is equivalent to $8 k \\geq 12-r$, which is true for $r \\in\\{4,5\\}$. And if $r \\in\\{0,1,2,3\\}$ then $n \\geq 16$ implies $k \\geq 2$, so $8 k \\geq 12-r$ also holds. Thus $\\alpha_{n}$ reduces to $\\alpha_{n-12}$.\n\nThe case $6 \\leq r \\leq 11$ is analogous. Consider the singletons $\\{12 k\\},\\{12 k+6\\}$ and the 5 pairs\n\n$$\n\\{12 k-i, 12 k+i\\}, i=1, \\ldots, 11-r ; \\quad\\{12 k+6-j, 12 k+6+j\\}, j=1, \\ldots, r-6 .\n$$\n\nIgnore the singletons like before, then remove the pairs via operations $\\{12 k-i, 12 k+i\\} \\mapsto 8 k$ and $\\{12 k+6-j, 12 k+6+j\\} \\mapsto 8 k+4$. The 5 newly-appeared terms $8 k$ and $8 k+4$ can be ignored too since $4 k+2 \\leq n-12$ (this follows from $k \\geq 1$ and $r \\geq 6$ ). We obtain $\\alpha_{n-12}$ again.\n\nThe problem reduces to $2 \\leq n \\leq 15$. In fact $n \\in\\{2,5,6,9,10,13,14\\}$ by $n \\equiv 1,2(\\bmod 4)$. The cases $n=2,6,10,14$ reduce to $n=1,5,9,13$ respectively because the last even term of $\\alpha_{n}$ can be ignored. For $n=5$ apply $\\{4,5\\} \\mapsto 3$, then $\\{3,3\\} \\mapsto 2$, then ignore the 2 occurrences of 2 . For $n=9$ ignore 6 first, then apply $\\{5,7\\} \\mapsto 4,\\{4,8\\} \\mapsto 4,\\{3,9\\} \\mapsto 4$. Now ignore the 3 occurrences of 4 , then ignore 2. Finally $n=13$ reduces to $n=10$ by $\\{11,13\\} \\mapsto 8$ and ignoring 8 and 12 . The proof is complete.\n",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2012_number_theory_p8",
    "formal_statement": "theorem fimo_2012_number_theory_p8\n  (p:ℕ) (r a b : ℤ)\n  (h₀ : Nat.Prime p)\n  (h₁ : p > 100) :\n  ∃ a b, (p:ℤ)  ∣ (a^2 + b ^5 - r) := by sorry",
    "informal_statement": "Prove that for every prime $p>100$ and every integer $r$ there exist two integers $a$ and $b$ such that $p$ divides $a^{2}+b^{5}-r$.",
    "informal_proof": "Throughout the solution, all congruence relations are meant modulo $p$.\n\nFix $p$, and let $\\mathcal{P}=\\{0,1, \\ldots, p-1\\}$ be the set of residue classes modulo $p$. For every $r \\in \\mathcal{P}$, let $S_{r}=\\left\\{(a, b) \\in \\mathcal{P} \\times \\mathcal{P}: a^{2}+b^{5} \\equiv r\\right\\}$, and let $s_{r}=\\left|S_{r}\\right|$. Our aim is to prove $s_{r}>0$ for all $r \\in \\mathcal{P}$.\n\nWe will use the well-known fact that for every residue class $r \\in \\mathcal{P}$ and every positive integer $k$, there are at most $k$ values $x \\in \\mathcal{P}$ such that $x^{k} \\equiv r$.\n\nLemma. Let $N$ be the number of quadruples $(a, b, c, d) \\in \\mathcal{P}^{4}$ for which $a^{2}+b^{5} \\equiv c^{2}+d^{5}$. Then\n\n$$\nN=\\sum_{r \\in \\mathcal{P}} s_{r}^{2}\n$$\n\nand\n\n$$\nN \\leq p\\left(p^{2}+4 p-4\\right)\n$$\n\nProof. (a) For each residue class $r$ there exist exactly $s_{r}$ pairs $(a, b)$ with $a^{2}+b^{5} \\equiv r$ and $s_{r}$ pairs $(c, d)$ with $c^{2}+d^{5} \\equiv r$. So there are $s_{r}^{2}$ quadruples with $a^{2}+b^{5} \\equiv c^{2}+d^{5} \\equiv r$. Taking the sum over all $r \\in \\mathcal{P}$, the statement follows.\n\n(b) Choose an arbitrary pair $(b, d) \\in \\mathcal{P}$ and look for the possible values of $a, c$.\n\n\\begin{enumerate}\n  \\item Suppose that $b^{5} \\equiv d^{5}$, and let $k$ be the number of such pairs $(b, d)$. The value $b$ can be chosen in $p$ different ways. For $b \\equiv 0$ only $d=0$ has this property; for the nonzero values of $b$ there are at most 5 possible values for $d$. So we have $k \\leq 1+5(p-1)=5 p-4$.\n\\end{enumerate}\n\nThe values $a$ and $c$ must satisfy $a^{2} \\equiv c^{2}$, so $a \\equiv \\pm c$, and there are exactly $2 p-1$ such pairs $(a, c)$.\n\n\\begin{enumerate}\n  \\setcounter{enumi}{1}\n  \\item Now suppose $b^{5} \\not \\equiv d^{5}$. In this case $a$ and $c$ must be distinct. By $(a-c)(a+c)=d^{5}-b^{5}$, the value of $a-c$ uniquely determines $a+c$ and thus $a$ and $c$ as well. Hence, there are $p-1$ suitable pairs $(a, c)$.\n\\end{enumerate}\n\nThus, for each of the $k$ pairs $(b, d)$ with $b^{5} \\equiv d^{5}$ there are $2 p-1$ pairs $(a, c)$, and for each of the other $p^{2}-k$ pairs $(b, d)$ there are $p-1$ pairs $(a, c)$. Hence,\n\n$$\nN=k(2 p-1)+\\left(p^{2}-k\\right)(p-1)=p^{2}(p-1)+k p \\leq p^{2}(p-1)+(5 p-4) p=p\\left(p^{2}+4 p-4\\right) .\n$$\n\nTo prove the statement of the problem, suppose that $S_{r}=\\emptyset$ for some $r \\in \\mathcal{P}$; obviously $r \\not \\equiv 0$. Let $T=\\left\\{x^{10}: x \\in \\mathcal{P} \\backslash\\{0\\}\\right\\}$ be the set of nonzero 10th powers modulo $p$. Since each residue class is the 10 th power of at most 10 elements in $\\mathcal{P}$, we have $|T| \\geq \\frac{p-1}{10} \\geq 4$ by $p>100$.\n\nFor every $t \\in T$, we have $S_{t r}=\\emptyset$. Indeed, if $(x, y) \\in S_{t r}$ and $t \\equiv z^{10}$ then\n\n$$\n\\left(z^{-5} x\\right)^{2}+\\left(z^{-2} y\\right)^{5} \\equiv t^{-1}\\left(x^{2}+y^{5}\\right) \\equiv r\n$$\n\nso $\\left(z^{-5} x, z^{-2} y\\right) \\in S_{r}$. So, there are at least $\\frac{p-1}{10} \\geq 4$ empty sets among $S_{1}, \\ldots, S_{p-1}$, and there are at most $p-4$ nonzero values among $s_{0}, s_{2}, \\ldots, s_{p-1}$. Then by the AM-QM inequality we obtain\n\n$$\nN=\\sum_{r \\in \\mathcal{P} \\backslash r T} s_{r}^{2} \\geq \\frac{1}{p-4}\\left(\\sum_{r \\in \\mathcal{P} \\backslash r T} s_{r}\\right)^{2}=\\frac{|\\mathcal{P} \\times \\mathcal{P}|^{2}}{p-4}=\\frac{p^{4}}{p-4}>p\\left(p^{2}+4 p-4\\right)\n$$\n\nwhich is impossible by the lemma.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_algebra_p1",
    "formal_statement": "theorem fimo_2013_algebra_p1\n  (n : ℕ)\n  (a : ℕ → ℝ)\n  (u v : ℕ → ℝ)\n  (h₀ : u 0 = 1 ∧ u 1 = 1 ∧ v 0 = 1 ∧ v 1 = 1)\n  (h₁ : ∀ k : ℕ, k < n - 1 → u (k + 2) = u (k + 1) + a k * u k)\n  (h₂ : ∀ k : ℕ, k < n - 1 → v (k + 2) = v (k + 1) + a (n - 2 - k) * v k) :\n  u n = v n := by sorry",
    "informal_statement": "Let $n$ be a positive integer and let $a_{1}, \\ldots, a_{n-1}$ be arbitrary real numbers. Define the sequences $u_{0}, \\ldots, u_{n}$ and $v_{0}, \\ldots, v_{n}$ inductively by $u_{0}=u_{1}=v_{0}=v_{1}=1$, and\n\n$$\nu_{k+1}=u_{k}+a_{k} u_{k-1}, \\quad v_{k+1}=v_{k}+a_{n-k} v_{k-1} \\quad \\text { for } k=1, \\ldots, n-1 \\text {. }\n$$\n\nProve that $u_{n}=v_{n}$",
    "informal_proof": "We prove by induction on $k$ that\n\n$$\nu_{k}=\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k, i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}} .\n$$\n\nNote that we have one trivial summand equal to 1 (which corresponds to $t=0$ and the empty sequence, whose product is 1 ).\n\nFor $k=0,1$ the sum on the right-hand side only contains the empty product, so (1) holds due to $u_{0}=u_{1}=1$. For $k \\geqslant 1$, assuming the result is true for $0,1, \\ldots, k$, we have\n\n$$\n\\begin{aligned}\n& u_{k+1}=\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k, i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}}+\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k-1, i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}} \\cdot a_{k} \\\\\n& =\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k+1, i_{j+1}-i_{j} \\geqslant 2, k \\notin\\left\\{i_{1}, \\ldots, i_{t}\\right\\}}} a_{i_{1}} \\ldots a_{i_{t}}+\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k+1 \\\\ i_{j+1}-i_{j} \\geqslant 2, k \\in\\left\\{i_{1}, \\ldots, i_{t}\\right\\}}} a_{i_{1}} \\ldots a_{i_{t}} \\\\\n& =\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k+1, i_{j+1}-i_{j} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}},\n\\end{aligned}\n$$\n\nas required.\n\nApplying (1) to the sequence $b_{1}, \\ldots, b_{n}$ given by $b_{k}=a_{n-k}$ for $1 \\leqslant k \\leqslant n$, we get\n\n$$\nv_{k}=\\sum_{\\substack{0<i_{1}<\\ldots<i_{t}<k, i_{j+1}-i_{j} \\geqslant 2}} b_{i_{1}} \\ldots b_{i_{t}}=\\sum_{\\substack{n>i_{1}>\\ldots>i_{t}>n-k \\\\ i_{j}-i_{j+1} \\geqslant 2}} a_{i_{1}} \\ldots a_{i_{t}} .\n$$\n\nFor $k=n$ the expressions (1) and (2) coincide, so indeed $u_{n}=v_{n}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_algebra_p2",
    "formal_statement": "theorem fimo_2013_algebra_p2\n  (s : Finset ℝ)\n  (h₀ : s.card = 2000) :\n  ∃ a b c d : s, a ≠ c ∨ b ≠ d ∧ a > b ∧ c > d ∧ abs (((a - b) / (c - d) - 1) : ℝ) < 1 / 100000 := by sorry",
    "informal_statement": "Prove that in any set of 2000 distinct real numbers there exist two pairs $a>b$ and $c>d$ with $a \\neq c$ or $b \\neq d$, such that\n\n$$\n\\left|\\frac{a-b}{c-d}-1\\right|<\\frac{1}{100000} \\text {. }\n$$",
    "informal_proof": "For any set $S$ of $n=2000$ distinct real numbers, let $D_{1} \\leqslant D_{2} \\leqslant \\cdots \\leqslant D_{m}$ be the distances between them, displayed with their multiplicities. Here $m=n(n-1) / 2$. By rescaling the numbers, we may assume that the smallest distance $D_{1}$ between two elements of $S$ is $D_{1}=1$. Let $D_{1}=1=y-x$ for $x, y \\in S$. Evidently $D_{m}=v-u$ is the difference between the largest element $v$ and the smallest element $u$ of $S$.\n\nIf $D_{i+1} / D_{i}<1+10^{-5}$ for some $i=1,2, \\ldots, m-1$ then the required inequality holds, because $0 \\leqslant D_{i+1} / D_{i}-1<10^{-5}$. Otherwise, the reverse inequality\n\n$$\n\\frac{D_{i+1}}{D_{i}} \\geqslant 1+\\frac{1}{10^{5}}\n$$\n\nholds for each $i=1,2, \\ldots, m-1$, and therefore\n\n$$\nv-u=D_{m}=\\frac{D_{m}}{D_{1}}=\\frac{D_{m}}{D_{m-1}} \\cdots \\frac{D_{3}}{D_{2}} \\cdot \\frac{D_{2}}{D_{1}} \\geqslant\\left(1+\\frac{1}{10^{5}}\\right)^{m-1} .\n$$\n\nFrom $m-1=n(n-1) / 2-1=1000 \\cdot 1999-1>19 \\cdot 10^{5}$, together with the fact that for all $n \\geqslant 1$, $\\left(1+\\frac{1}{n}\\right)^{n} \\geqslant 1+\\left(\\begin{array}{l}n \\\\ 1\\end{array}\\right) \\cdot \\frac{1}{n}=2$, we get\n\n$$\n\\left(1+\\frac{1}{10^{5}}\\right)^{19 \\cdot 10^{5}}=\\left(\\left(1+\\frac{1}{10^{5}}\\right)^{10^{5}}\\right)^{19} \\geqslant 2^{19}=2^{9} \\cdot 2^{10}>500 \\cdot 1000>2 \\cdot 10^{5} \\text {, }\n$$\n\nand so $v-u=D_{m}>2 \\cdot 10^{5}$.\n\nSince the distance of $x$ to at least one of the numbers $u, v$ is at least $(u-v) / 2>10^{5}$, we have\n\n$$\n|x-z|>10^{5} .\n$$\n\nfor some $z \\in\\{u, v\\}$. Since $y-x=1$, we have either $z>y>x$ (if $z=v$ ) or $y>x>z$ (if $z=u$ ). If $z>y>x$, selecting $a=z, b=y, c=z$ and $d=x$ (so that $b \\neq d$ ), we obtain\n\n$$\n\\left|\\frac{a-b}{c-d}-1\\right|=\\left|\\frac{z-y}{z-x}-1\\right|=\\left|\\frac{x-y}{z-x}\\right|=\\frac{1}{z-x}<10^{-5} .\n$$\n\nOtherwise, if $y>x>z$, we may choose $a=y, b=z, c=x$ and $d=z$ (so that $a \\neq c$ ), and obtain\n\n$$\n\\left|\\frac{a-b}{c-d}-1\\right|=\\left|\\frac{y-z}{x-z}-1\\right|=\\left|\\frac{y-x}{x-z}\\right|=\\frac{1}{x-z}<10^{-5} .\n$$\n\nThe desired result follows.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_algebra_p3",
    "formal_statement": "theorem fimo_2013_algebra_p3\n  (f : ℚ → ℝ)\n  (a : ℚ)\n  (h₀ : a > 1)\n  (h₁ : f a = a)\n  (h₂ : ∀ x y : ℚ, 0 < x → 0 < y → f x * f y ≥ f (x * y))\n  (h₃ : ∀ x y : ℚ, 0 < x → 0 < y → f (x + y) ≥ f x + f y) :\n  ∀ x : ℚ, 0 < x → f x = x := by sorry",
    "informal_statement": "Let $\\mathbb{Q}_{>0}$ be the set of positive rational numbers. Let $f: \\mathbb{Q}_{>0} \\rightarrow \\mathbb{R}$ be a function satisfying the conditions\n\n$$\n\\begin{aligned}\n& f(x) f(y) \\geqslant f(x y), \\\\\n& f(x+y) \\geqslant f(x)+f(y)\n\\end{aligned}\n$$\n\nfor all $x, y \\in \\mathbb{Q}_{>0}$. Given that $f(a)=a$ for some rational $a>1$, prove that $f(x)=x$ for all $x \\in \\mathbb{Q}_{>0}$.",
    "informal_proof": "Denote by $\\mathbb{Z}_{>0}$ the set of positive integers.\n\nPlugging $x=1, y=a$ into (1) we get $f(1) \\geqslant 1$. Next, by an easy induction on $n$ we get from (2) that\n\n$$\nf(n x) \\geqslant n f(x) \\quad \\text { for all } n \\in \\mathbb{Z}_{>0} \\text { and } x \\in \\mathbb{Q}_{>0} \\text {. }\n$$\n\nIn particular, we have\n\n$$\nf(n) \\geqslant n f(1) \\geqslant n \\text { for all } n \\in \\mathbb{Z}_{>0} \\text {. }\n$$\n\nFrom (1) again we have $f(m / n) f(n) \\geqslant f(m)$, so $f(q)>0$ for all $q \\in \\mathbb{Q}>0$.\n\nNow, (2) implies that $f$ is strictly increasing; this fact together with (4) yields\n\n$$\nf(x) \\geqslant f(\\lfloor x\\rfloor) \\geqslant\\lfloor x\\rfloor>x-1 \\quad \\text { for all } x \\geqslant 1 .\n$$\n\nBy an easy induction we get from (1) that $f(x)^{n} \\geqslant f\\left(x^{n}\\right)$, so\n\n$$\nf(x)^{n} \\geqslant f\\left(x^{n}\\right)>x^{n}-1 \\Longrightarrow f(x) \\geqslant \\sqrt[n]{x^{n}-1} \\text { for all } x>1 \\text { and } n \\in \\mathbb{Z}_{>0} .\n$$\n\nThis yields\n\n$$\nf(x) \\geqslant x \\text { for every } x>1 .\n$$\n\n(Indeed, if $x>y>1$ then $x^{n}-y^{n}=(x-y)\\left(x^{n-1}+x^{n-2} y+\\cdots+y^{n}\\right)>n(x-y)$, so for a large $n$ we have $x^{n}-1>y^{n}$ and thus $f(x)>y$.)\n\nNow, (1) and (5) give $a^{n}=f(a)^{n} \\geqslant f\\left(a^{n}\\right) \\geqslant a^{n}$, so $f\\left(a^{n}\\right)=a^{n}$. Now, for $x>1$ let us choose $n \\in \\mathbb{Z}_{>0}$ such that $a^{n}-x>1$. Then by (2) and (5) we get\n\n$$\na^{n}=f\\left(a^{n}\\right) \\geqslant f(x)+f\\left(a^{n}-x\\right) \\geqslant x+\\left(a^{n}-x\\right)=a^{n}\n$$\n\nand therefore $f(x)=x$ for $x>1$. Finally, for every $x \\in \\mathbb{Q}>0$ and every $n \\in \\mathbb{Z}_{>0}$, from (1) and (3) we get\n\n$$\nn f(x)=f(n) f(x) \\geqslant f(n x) \\geqslant n f(x),\n$$\n\nwhich gives $f(n x)=n f(x)$. Therefore $f(m / n)=f(m) / n=m / n$ for all $m, n \\in \\mathbb{Z}_{>0}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_algebra_p4",
    "formal_statement": "theorem fimo_2013_algebra_p4\n  (n : ℕ)\n  (a : ℕ → ℕ)\n  (h₀ : n > 0)\n  (h₁ : ∀ i, 1 ≤ i ∧ i ≤ n → a i > 0)\n  (h₁' : ∀ i, i ≥ 1 → a (n + i) = a i)\n  (h₂ : ∀ i, 1 ≤ i ∧ i < n → a i ≤ a (i + 1))\n  (h₃ : a n ≤ a 1 + n)\n  (h₄ : ∀ i, 1 ≤ i ∧ i ≤ n → a (a i) ≤ n + i - 1) :\n  ∑ i in Finset.range n, a (i + 1) ≤ n^2 := by sorry",
    "informal_statement": "Let $n$ be a positive integer, and consider a sequence $a_{1}, a_{2}, \\ldots, a_{n}$ of positive integers. Extend it periodically to an infinite sequence $a_{1}, a_{2}, \\ldots$ by defining $a_{n+i}=a_{i}$ for all $i \\geqslant 1$. If\n\n$$\na_{1} \\leqslant a_{2} \\leqslant \\cdots \\leqslant a_{n} \\leqslant a_{1}+n\n$$\n\nand\n\n$$\na_{a_{i}} \\leqslant n+i-1 \\quad \\text { for } i=1,2, \\ldots, n,\n$$\n\nprove that\n\n$$\na_{1}+\\cdots+a_{n} \\leqslant n^{2} .\n$$",
    "informal_proof": "First, we claim that\n\n$$\na_{i} \\leqslant n+i-1 \\quad \\text { for } i=1,2, \\ldots, n \\text {. }\n$$\n\nAssume contrariwise that $i$ is the smallest counterexample. From $a_{n} \\geqslant a_{n-1} \\geqslant \\cdots \\geqslant a_{i} \\geqslant n+i$ and $a_{a_{i}} \\leqslant n+i-1$, taking into account the periodicity of our sequence, it follows that\n\n$$\na_{i} \\text { cannot be congruent to } i, i+1, \\ldots, n-1, \\text { or } n \\quad(\\bmod n) .\n$$\n\nThus our assumption that $a_{i} \\geqslant n+i$ implies the stronger statement that $a_{i} \\geqslant 2 n+1$, which by $a_{1}+n \\geqslant a_{n} \\geqslant a_{i}$ gives $a_{1} \\geqslant n+1$. The minimality of $i$ then yields $i=1$, and (4) becomes contradictory. This establishes our first claim.\n\nIn particular we now know that $a_{1} \\leqslant n$. If $a_{n} \\leqslant n$, then $a_{1} \\leqslant \\cdots \\leqslant \\cdots a_{n} \\leqslant n$ and the desired inequality holds trivially. Otherwise, consider the number $t$ with $1 \\leqslant t \\leqslant n-1$ such that\n\n$$\na_{1} \\leqslant a_{2} \\leqslant \\ldots \\leqslant a_{t} \\leqslant n<a_{t+1} \\leqslant \\ldots \\leqslant a_{n} .\n$$\n\nSince $1 \\leqslant a_{1} \\leqslant n$ and $a_{a_{1}} \\leqslant n$ by (2), we have $a_{1} \\leqslant t$ and hence $a_{n} \\leqslant n+t$. Therefore if for each positive integer $i$ we let $b_{i}$ be the number of indices $j \\in\\{t+1, \\ldots, n\\}$ satisfying $a_{j} \\geqslant n+i$, we have\n\n$$\nb_{1} \\geqslant b_{2} \\geqslant \\ldots \\geqslant b_{t} \\geqslant b_{t+1}=0 .\n$$\n\nNext we claim that $a_{i}+b_{i} \\leqslant n$ for $1 \\leqslant i \\leqslant t$. Indeed, by $n+i-1 \\geqslant a_{a_{i}}$ and $a_{i} \\leqslant n$, each $j$ with $a_{j} \\geqslant n+i$ (thus $a_{j}>a_{a_{i}}$ ) belongs to $\\left\\{a_{i}+1, \\ldots, n\\right\\}$, and for this reason $b_{i} \\leqslant n-a_{i}$.\n\nIt follows from the definition of the $b_{i} \\mathrm{~s}$ and (5) that\n\n$$\na_{t+1}+\\ldots+a_{n} \\leqslant n(n-t)+b_{1}+\\ldots+b_{t} .\n$$\n\nAdding $a_{1}+\\ldots+a_{t}$ to both sides and using that $a_{i}+b_{i} \\leqslant n$ for $1 \\leqslant i \\leqslant t$, we get\n\n$$\na_{1}+a_{2}+\\cdots+a_{n} \\leqslant n(n-t)+n t=n^{2}\n$$\n\nas we wished to prove.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_algebra_p5",
    "formal_statement": "theorem fimo_2013_algebra_p5\n  (f : ℕ → ℕ)\n  (h₀ : ∀ n, f (f (f n)) = f (n + 1) + 1) :\n  (∀ n, f n = n + 1) ∨\n  (∀ n, (n % 4 = 0 ∨ n % 4 = 2) → f n = n + 1) ∧\n  (∀ n, n % 4 = 1 → f n = n + 5) ∧\n  (∀ n, n % 4 = 3 → f n = n - 3) := by sorry",
    "informal_statement": "Let $\\mathbb{Z}_{\\geqslant 0}$ be the set of all nonnegative integers. Find all the functions $f: \\mathbb{Z}_{\\geqslant 0} \\rightarrow \\mathbb{Z}_{\\geqslant 0}$ satisfying the relation\n\n$$\nf(f(f(n)))=f(n+1)+1\n$$\n\nfor all $n \\in \\mathbb{Z}_{\\geqslant 0}$.\n\nThe final answer is that there are two such functions: $f(n)=n+1$ for all $n \\in \\mathbb{Z}_{\\geqslant 0}$, and\n\n$$\nf(n)=\\left\\{\\begin{array}{ll}\nn+1, & n \\equiv 0(\\bmod 4) \\text { or } n \\equiv 2(\\bmod 4), \\\\\nn+5, & n \\equiv 1(\\bmod 4), \\\\\nn-3, & n \\equiv 3(\\bmod 4)\n\\end{array} \\quad \\text { for all } n \\in \\mathbb{Z}_{\\geqslant 0} .\\right.\n$$",
    "informal_proof": "Throughout the solution, we write $h^{k}(x)$ to abbreviate the $k$ th iteration of function $h$, so $h^{0}$ is the identity function, and $h^{k}(x)=\\underbrace{h(\\ldots h}_{k \\text { times }}(x) \\ldots))$ for $k \\geqslant 1$.\n\nTo start, we get from $(*)$ that\n\n$$\nf^{4}(n)=f\\left(f^{3}(n)\\right)=f(f(n+1)+1) \\text { and } f^{4}(n+1)=f^{3}(f(n+1))=f(f(n+1)+1)+1,\n$$\n\nthus\n\n$$\nf^{4}(n)+1=f^{4}(n+1) .\n$$\n\nI. Let us denote by $R_{i}$ the range of $f^{i}$; note that $R_{0}=\\mathbb{Z}_{\\geqslant 0}$ since $f^{0}$ is the identity function. Obviously, $R_{0} \\supseteq R_{1} \\supseteq \\ldots$. Next, from (2) we get that if $a \\in R_{4}$ then also $a+1 \\in R_{4}$. This implies that $\\mathbb{Z}_{\\geqslant 0} \\backslash R_{4}$ - and hence $\\mathbb{Z}_{\\geqslant 0} \\backslash R_{1}$ - is finite. In particular, $R_{1}$ is unbounded.\n\nAssume that $f(m)=f(n)$ for some distinct $m$ and $n$. Then from $(*)$ we obtain $f(m+1)=$ $f(n+1)$; by an easy induction we then get that $f(m+c)=f(n+c)$ for every $c \\geqslant 0$. So the function $f(k)$ is periodic with period $|m-n|$ for $k \\geqslant m$, and thus $R_{1}$ should be bounded, which is false. So, $f$ is injective.\n\nII. Denote now $S_{i}=R_{i-1} \\backslash R_{i}$; all these sets are finite for $i \\leqslant 4$. On the other hand, by the injectivity we have $n \\in S_{i} \\Longleftrightarrow f(n) \\in S_{i+1}$. By the injectivity again, $f$ implements a bijection between $S_{i}$ and $S_{i+1}$, thus $\\left|S_{1}\\right|=\\left|S_{2}\\right|=\\ldots$; denote this common cardinality by $k$. If $0 \\in R_{3}$ then $0=f(f(f(n)))$ for some $n$, thus from $(*)$ we get $f(n+1)=-1$ which is impossible. Therefore $0 \\in R_{0} \\backslash R_{3}=S_{1} \\cup S_{2} \\cup S_{3}$, thus $k \\geqslant 1$.\n\nNext, let us describe the elements $b$ of $R_{0} \\backslash R_{3}=S_{1} \\cup S_{2} \\cup S_{3}$. We claim that each such element satisfies at least one of three conditions $(i) b=0,(i i) b=f(0)+1$, and (iii) $b-1 \\in S_{1}$. Otherwise $b-1 \\in \\mathbb{Z}_{\\geqslant 0}$, and there exists some $n>0$ such that $f(n)=b-1$; but then $f^{3}(n-1)=f(n)+1=b$, so $b \\in R_{3}$.\n\nThis yields\n\n$$\n3 k=\\left|S_{1} \\cup S_{2} \\cup S_{3}\\right| \\leqslant 1+1+\\left|S_{1}\\right|=k+2,\n$$\n\nor $k \\leqslant 1$. Therefore $k=1$, and the inequality above comes to equality. So we have $S_{1}=\\{a\\}$, $S_{2}=\\{f(a)\\}$, and $S_{3}=\\left\\{f^{2}(a)\\right\\}$ for some $a \\in \\mathbb{Z}_{\\geqslant 0}$, and each one of the three options $(i)$, $(i i)$, and (iii) should be realized exactly once, which means that\n\n$$\n\\left\\{a, f(a), f^{2}(a)\\right\\}=\\{0, a+1, f(0)+1\\} .\n$$\n\nIII. From (3), we get $a+1 \\in\\left\\{f(a), f^{2}(a)\\right\\}$ (the case $a+1=a$ is impossible). If $a+1=f^{2}(a)$ then we have $f(a+1)=f^{3}(a)=f(a+1)+1$ which is absurd. Therefore\n\n$$\nf(a)=a+1 .\n$$\n\nNext, again from (3) we have $0 \\in\\left\\{a, f^{2}(a)\\right\\}$. Let us consider these two cases separately. Case 1. Assume that $a=0$, then $f(0)=f(a)=a+1=1$. Also from $(3)$ we get $f(1)=f^{2}(a)=$ $f(0)+1=2$. Now, let us show that $f(n)=n+1$ by induction on $n$; the base cases $n \\leqslant 1$ are established. Next, if $n \\geqslant 2$ then the induction hypothesis implies\n\n$$\nn+1=f(n-1)+1=f^{3}(n-2)=f^{2}(n-1)=f(n),\n$$\n\nestablishing the step. In this case we have obtained the first of two answers; checking that is satisfies $(*)$ is straightforward.\n\nCase 2. Assume now that $f^{2}(a)=0$; then by (3) we get $a=f(0)+1$. By (4) we get $f(a+1)=$ $f^{2}(a)=0$, then $f(0)=f^{3}(a)=f(a+1)+1=1$, hence $a=f(0)+1=2$ and $f(2)=3$ by (4). To summarize,\n\n$$\nf(0)=1, \\quad f(2)=3, \\quad f(3)=0 .\n$$\n\nNow let us prove by induction on $m$ that (1) holds for all $n=4 k, 4 k+2,4 k+3$ with $k \\leqslant m$ and for all $n=4 k+1$ with $k<m$. The base case $m=0$ is established above. For the step, assume that $m \\geqslant 1$. From $(*)$ we get $f^{3}(4 m-3)=f(4 m-2)+1=4 m$. Next, by (2) we have\n\n$$\nf(4 m)=f^{4}(4 m-3)=f^{4}(4 m-4)+1=f^{3}(4 m-3)+1=4 m+1 .\n$$\n\nThen by the induction hypothesis together with $(*)$ we successively obtain\n\n$$\n\\begin{aligned}\n& f(4 m-3)=f^{3}(4 m-1)=f(4 m)+1=4 m+2 \\\\\n& f(4 m+2)=f^{3}(4 m-4)=f(4 m-3)+1=4 m+3 \\\\\n& f(4 m+3)=f^{3}(4 m-3)=f(4 m-2)+1=4 m\n\\end{aligned}\n$$\n\nthus finishing the induction step.\n\nFinally, it is straightforward to check that the constructed function works:\n\n$$\n\\begin{array}{rlr}\nf^{3}(4 k) & =4 k+7=f(4 k+1)+1, & f^{3}(4 k+1)=4 k+4=f(4 k+2)+1 \\\\\nf^{3}(4 k+2) & =4 k+1=f(4 k+3)+1, & f^{3}(4 k+3)=4 k+6=f(4 k+4)+1\n\\end{array}\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_algebra_p6",
    "formal_statement": "theorem fimo_2013_algebra_p6\n  (m : ℤ)\n  (h₀ : m ≠ 0)\n  (P : Polynomial ℝ)\n  (h₁ : ∀ x : ℝ, (x^3 - m * x^2 + 1) * (P.eval (x + 1)) + (x^3 + m * x^2 + 1) * (P.eval (x - 1)) = 2 * (x^3 - m * x + 1) * (P.eval x)) :\n  ∃ t : ℝ, ∀ x : ℝ, P.eval x = t * x := by sorry",
    "informal_statement": "Let $m \\neq 0$ be an integer. Find all polynomials $P(x)$ with real coefficients such that\n\n$$\n\\left(x^{3}-m x^{2}+1\\right) P(x+1)+\\left(x^{3}+m x^{2}+1\\right) P(x-1)=2\\left(x^{3}-m x+1\\right) P(x)\n$$\n\nfor all real numbers $x$.\n\nThe final answer is $P(x)=t x$ for any real number $t$.",
    "informal_proof": "Let $P(x)=a_{n} x^{n}+\\cdots+a_{0} x^{0}$ with $a_{n} \\neq 0$. Comparing the coefficients of $x^{n+1}$ on both sides gives $a_{n}(n-2 m)(n-1)=0$, so $n=1$ or $n=2 m$.\n\nIf $n=1$, one easily verifies that $P(x)=x$ is a solution, while $P(x)=1$ is not. Since the given condition is linear in $P$, this means that the linear solutions are precisely $P(x)=t x$ for $t \\in \\mathbb{R}$.\n\nNow assume that $n=2 m$. The polynomial $x P(x+1)-(x+1) P(x)=(n-1) a_{n} x^{n}+\\cdots$ has degree $n$, and therefore it has at least one (possibly complex) root $r$. If $r \\notin\\{0,-1\\}$, define $k=P(r) / r=P(r+1) /(r+1)$. If $r=0$, let $k=P(1)$. If $r=-1$, let $k=-P(-1)$. We now consider the polynomial $S(x)=P(x)-k x$. It also satisfies (1) because $P(x)$ and $k x$ satisfy it. Additionally, it has the useful property that $r$ and $r+1$ are roots.\n\nLet $A(x)=x^{3}-m x^{2}+1$ and $B(x)=x^{3}+m x^{2}+1$. Plugging in $x=s$ into (1) implies that:\n\nIf $s-1$ and $s$ are roots of $S$ and $s$ is not a root of $A$, then $s+1$ is a root of $S$.\n\nIf $s$ and $s+1$ are roots of $S$ and $s$ is not a root of $B$, then $s-1$ is a root of $S$.\n\nLet $a \\geqslant 0$ and $b \\geqslant 1$ be such that $r-a, r-a+1, \\ldots, r, r+1, \\ldots, r+b-1, r+b$ are roots of $S$, while $r-a-1$ and $r+b+1$ are not. The two statements above imply that $r-a$ is a root of $B$ and $r+b$ is a root of $A$.\n\nSince $r-a$ is a root of $B(x)$ and of $A(x+a+b)$, it is also a root of their greatest common divisor $C(x)$ as integer polynomials. If $C(x)$ was a non-trivial divisor of $B(x)$, then $B$ would have a rational root $\\alpha$. Since the first and last coefficients of $B$ are $1, \\alpha$ can only be 1 or $-1$; but $B(-1)=m>0$ and $B(1)=m+2>0$ since $n=2 m$.\n\nTherefore $B(x)=A(x+a+b)$. Writing $c=a+b \\geqslant 1$ we compute\n\n$$\n0=A(x+c)-B(x)=(3 c-2 m) x^{2}+c(3 c-2 m) x+c^{2}(c-m) .\n$$\n\nThen we must have $3 c-2 m=c-m=0$, which gives $m=0$, a contradiction. We conclude that $f(x)=t x$ is the only solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_number_theory_p1",
    "formal_statement": "theorem fimo_2013_number_theory_p1\n  (f : ℕ+ → ℕ+)\n  (h₀ : ∀ (m n : ℕ+), (m^2 + f n) ∣ (m * f m + n)) :\n  f = (λ n ↦ n) := by sorry",
    "informal_statement": "Let $\\mathbb{Z}_{>0}$ be the set of positive integers. Find all functions $f: \\mathbb{Z}_{>0} \\rightarrow \\mathbb{Z}_{>0}$ such that\n\n$$\nm^{2}+f(n) \\mid m f(m)+n\n$$\n\nfor all positive integers $m$ and $n$.\n\nThe final answer is $f(n)=n$.",
    "informal_proof": "Setting $m=n=2$ tells us that $4+f(2) \\mid 2 f(2)+2$. Since $2 f(2)+2<2(4+f(2))$, we must have $2 f(2)+2=4+f(2)$, so $f(2)=2$. Plugging in $m=2$ then tells us that $4+f(n) \\mid 4+n$, which implies that $f(n) \\leqslant n$ for all $n$.\n\nSetting $m=n$ gives $n^{2}+f(n) \\mid n f(n)+n$, so $n f(n)+n \\geqslant n^{2}+f(n)$ which we rewrite as $(n-1)(f(n)-n) \\geqslant 0$. Therefore $f(n) \\geqslant n$ for all $n \\geqslant 2$. This is trivially true for $n=1$ also.\n\nIt follows that $f(n)=n$ for all $n$. This function obviously satisfies the desired property.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_number_theory_p2",
    "formal_statement": "theorem fimo_2013_number_theory_p2\n  (k n : ℕ+):\n  ∃ (m : ℕ → ℕ+), (∏ i in Finset.range k.val, (1 + 1 / (m i:ℝ))) = 1 + (2^k.val - 1) / n := by sorry",
    "informal_statement": "Prove that for any pair of positive integers $k$ and $n$ there exist $k$ positive integers $m_{1}, m_{2}, \\ldots, m_{k}$ such that\n\n$$\n1+\\frac{2^{k}-1}{n}=\\left(1+\\frac{1}{m_{1}}\\right)\\left(1+\\frac{1}{m_{2}}\\right) \\cdots\\left(1+\\frac{1}{m_{k}}\\right) .\n$$",
    "informal_proof": "We proceed by induction on $k$. For $k=1$ the statement is trivial. Assuming we have proved it for $k=j-1$, we now prove it for $k=j$.\n\nCase 1. $n=2 t-1$ for some positive integer $t$.\n\nObserve that\n\n$$\n1+\\frac{2^{j}-1}{2 t-1}=\\frac{2\\left(t+2^{j-1}-1\\right)}{2 t} \\cdot \\frac{2 t}{2 t-1}=\\left(1+\\frac{2^{j-1}-1}{t}\\right)\\left(1+\\frac{1}{2 t-1}\\right) .\n$$\n\nBy the induction hypothesis we can find $m_{1}, \\ldots, m_{j-1}$ such that\n\n$$\n1+\\frac{2^{j-1}-1}{t}=\\left(1+\\frac{1}{m_{1}}\\right)\\left(1+\\frac{1}{m_{2}}\\right) \\cdots\\left(1+\\frac{1}{m_{j-1}}\\right),\n$$\n\nso setting $m_{j}=2 t-1$ gives the desired expression.\n\nCase 2. $n=2 t$ for some positive integer $t$.\n\nNow we have\n\n$$\n1+\\frac{2^{j}-1}{2 t}=\\frac{2 t+2^{j}-1}{2 t+2^{j}-2} \\cdot \\frac{2 t+2^{j}-2}{2 t}=\\left(1+\\frac{1}{2 t+2^{j}-2}\\right)\\left(1+\\frac{2^{j-1}-1}{t}\\right),\n$$\n\nnoting that $2 t+2^{j}-2>0$. Again, we use that\n\n$$\n1+\\frac{2^{j-1}-1}{t}=\\left(1+\\frac{1}{m_{1}}\\right)\\left(1+\\frac{1}{m_{2}}\\right) \\cdots\\left(1+\\frac{1}{m_{j-1}}\\right) .\n$$\n\nSetting $m_{j}=2 t+2^{j}-2$ then gives the desired expression.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2013_number_theory_p6",
    "formal_statement": "theorem fimo_2013_number_theory_p6\n  (f : ℚ → ℤ)\n  (h₀ : ∀ (x : ℚ) (a : ℤ) (b : ℕ), 0 < b → f ((f x + a) / b) = f ((x + a) / b)) :\n  (∃ c : ℤ, ∀ x : ℚ, f x = c) ∨\n  (∀ x : ℚ, f x = ⌊x⌋) ∨\n  (∀ x : ℚ, f x = ⌈x⌉) := by sorry",
    "informal_statement": "Determine all functions $f: \\mathbb{Q} \\longrightarrow \\mathbb{Z}$ satisfying\n\n$$\nf\\left(\\frac{f(x)+a}{b}\\right)=f\\left(\\frac{x+a}{b}\\right)\n$$\n\nfor all $x \\in \\mathbb{Q}, a \\in \\mathbb{Z}$, and $b \\in \\mathbb{Z}_{>0}$. (Here, $\\mathbb{Z}_{>0}$ denotes the set of positive integers.)\n\nThe final answer is that there are three kinds of such functions, which are: all constant functions, the floor function, and the ceiling function.",
    "informal_proof": "I. We start by verifying that these functions do indeed satisfy (1). This is clear for all constant functions. Now consider any triple $(x, a, b) \\in \\mathbb{Q} \\times \\mathbb{Z} \\times \\mathbb{Z}_{>0}$ and set\n\n$$\nq=\\left\\lfloor\\frac{x+a}{b}\\right\\rfloor .\n$$\n\nThis means that $q$ is an integer and $b q \\leqslant x+a<b(q+1)$. It follows that $b q \\leqslant\\lfloor x\\rfloor+a<b(q+1)$ holds as well, and thus we have\n\n$$\n\\left\\lfloor\\left\\lfloor\\frac{\\lfloor x\\rfloor+a}{b}\\right\\rfloor=\\left\\lfloor\\frac{x+a}{b}\\right\\rfloor,\\right.\n$$\n\nmeaning that the floor function does indeed satisfy (1). One can check similarly that the ceiling function has the same property.\n\nII. Let us now suppose conversely that the function $f: \\mathbb{Q} \\longrightarrow \\mathbb{Z}$ satisfies (1) for all $(x, a, b) \\in$ $\\mathbb{Q} \\times \\mathbb{Z} \\times \\mathbb{Z}_{>0}$. According to the behaviour of the restriction of $f$ to the integers we distinguish two cases.\n\nCase 1: There is some $m \\in \\mathbb{Z}$ such that $f(m) \\neq m$.\n\nWrite $f(m)=C$ and let $\\eta \\in\\{-1,+1\\}$ and $b$ denote the sign and absolute value of $f(m)-m$, respectively. Given any integer $r$, we may plug the triple $(m, r b-C, b)$ into (1), thus getting $f(r)=f(r-\\eta)$. Starting with $m$ and using induction in both directions, we deduce from this that the equation $f(r)=C$ holds for all integers $r$. Now any rational number $y$ can be written in the form $y=\\frac{p}{q}$ with $(p, q) \\in \\mathbb{Z} \\times \\mathbb{Z}_{>0}$, and substituting $(C-p, p-C, q)$ into (1) we get $f(y)=f(0)=C$. Thus $f$ is the constant function whose value is always $C$.\n\nCase 2: One has $f(m)=m$ for all integers $m$.\n\nNote that now the special case $b=1$ of (1) takes a particularly simple form, namely\n\n$$\nf(x)+a=f(x+a) \\quad \\text { for all }(x, a) \\in \\mathbb{Q} \\times \\mathbb{Z} .\n$$\n\nDefining $f\\left(\\frac{1}{2}\\right)=\\omega$ we proceed in three steps.\n\nStep $A$. We show that $\\omega \\in\\{0,1\\}$.\n\nIf $\\omega \\leqslant 0$, we may plug $\\left(\\frac{1}{2},-\\omega, 1-2 \\omega\\right)$ into (1), obtaining $0=f(0)=f\\left(\\frac{1}{2}\\right)=\\omega$. In the contrary case $\\omega \\geqslant 1$ we argue similarly using the triple $\\left(\\frac{1}{2}, \\omega-1,2 \\omega-1\\right)$.\n\nStep B. We show that $f(x)=\\omega$ for all rational numbers $x$ with $0<x<1$.\n\nAssume that this fails and pick some rational number $\\frac{a}{b} \\in(0,1)$ with minimal $b$ such that $f\\left(\\frac{a}{b}\\right) \\neq \\omega$. Obviously, $\\operatorname{gcd}(a, b)=1$ and $b \\geqslant 2$. If $b$ is even, then $a$ has to be odd and we can substitute $\\left(\\frac{1}{2}, \\frac{a-1}{2}, \\frac{b}{2}\\right)$ into (1), which yields\n\n$$\nf\\left(\\frac{\\omega+(a-1) / 2}{b / 2}\\right)=f\\left(\\frac{a}{b}\\right) \\neq \\omega .\n$$\n\nRecall that $0 \\leqslant(a-1) / 2<b / 2$. Thus, in both cases $\\omega=0$ and $\\omega=1$, the left-hand part of (3) equals $\\omega$ either by the minimality of $b$, or by $f(\\omega)=\\omega$. A contradiction.\n\nThus $b$ has to be odd, so $b=2 k+1$ for some $k \\geqslant 1$. Applying $(1)$ to $\\left(\\frac{1}{2}, k, b\\right)$ we get\n\n$$\nf\\left(\\frac{\\omega+k}{b}\\right)=f\\left(\\frac{1}{2}\\right)=\\omega .\n$$\n\nSince $a$ and $b$ are coprime, there exist integers $r \\in\\{1,2, \\ldots, b\\}$ and $m$ such that $r a-m b=k+\\omega$. Note that we actually have $1 \\leqslant r<b$, since the right hand side is not a multiple of $b$. If $m$ is negative, then we have $r a-m b>b \\geqslant k+\\omega$, which is absurd. Similarly, $m \\geqslant r$ leads to $r a-m b<b r-b r=0$, which is likewise impossible; so we must have $0 \\leqslant m \\leqslant r-1$.\n\nWe finally substitute $\\left(\\frac{k+\\omega}{b}, m, r\\right)$ into $(1)$ and use (4) to learn\n\n$$\nf\\left(\\frac{\\omega+m}{r}\\right)=f\\left(\\frac{a}{b}\\right) \\neq \\omega .\n$$\n\nBut as above one may see that the left hand side has to equal $\\omega$ due to the minimality of $b$. This contradiction concludes our step B.\n\nStep $C$. Now notice that if $\\omega=0$, then $f(x)=\\lfloor x\\rfloor$ holds for all rational $x$ with $0 \\leqslant x<1$ and hence by (2) this even holds for all rational numbers $x$. Similarly, if $\\omega=1$, then $f(x)=\\lceil x\\rceil$ holds for all $x \\in \\mathbb{Q}$. Thereby the problem is solved.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_algebra_p1",
    "formal_statement": "theorem fimo_2014_algebra_p1\n  (z : ℕ → ℕ)\n  (h₀ : ∀ n, z n < z (n + 1))\n  (h₁ : ∀ n, 0 < z n) :\n  ∃! n, n ≥ 1 ∧ z n < (Finset.sum (Finset.range (n + 1)) z) / n ∧ (Finset.sum (Finset.range (n + 1)) z) / n ≤ z (n + 1) := by sorry",
    "informal_statement": "Let $z_{0}<z_{1}<z_{2}<\\cdots$ be an infinite sequence of positive integers. Prove that there exists a unique integer $n \\geqslant 1$ such that\n\n$$\nz_{n}<\\frac{z_{0}+z_{1}+\\cdots+z_{n}}{n} \\leqslant z_{n+1} .\n$$",
    "informal_proof": "For $n=1,2, \\ldots$ define\n\n$$\nd_{n}=\\left(z_{0}+z_{1}+\\cdots+z_{n}\\right)-n z_{n} .\n$$\n\nThe sign of $d_{n}$ indicates whether the first inequality in (1) holds; i.e., it is satisfied if and only if $d_{n}>0$.\n\nNotice that\n\n$$\nn z_{n+1}-\\left(z_{0}+z_{1}+\\cdots+z_{n}\\right)=(n+1) z_{n+1}-\\left(z_{0}+z_{1}+\\cdots+z_{n}+z_{n+1}\\right)=-d_{n+1},\n$$\n\nso the second inequality in (1) is equivalent to $d_{n+1} \\leqslant 0$. Therefore, we have to prove that there is a unique index $n \\geqslant 1$ that satisfies $d_{n}>0 \\geqslant d_{n+1}$.\n\nBy its definition the sequence $d_{1}, d_{2}, \\ldots$ consists of integers and we have\n\n$$\nd_{1}=\\left(z_{0}+z_{1}\\right)-1 \\cdot z_{1}=z_{0}>0 .\n$$\n\nFrom\n\n$d_{n+1}-d_{n}=\\left(\\left(z_{0}+\\cdots+z_{n}+z_{n+1}\\right)-(n+1) z_{n+1}\\right)-\\left(\\left(z_{0}+\\cdots+z_{n}\\right)-n z_{n}\\right)=n\\left(z_{n}-z_{n+1}\\right)<0$ we can see that $d_{n+1}<d_{n}$ and thus the sequence strictly decreases.\n\nHence, we have a decreasing sequence $d_{1}>d_{2}>\\ldots$ of integers such that its first element $d_{1}$ is positive. The sequence must drop below 0 at some point, and thus there is a unique index $n$, that is the index of the last positive term, satisfying $d_{n}>0 \\geqslant d_{n+1}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_algebra_p2",
    "formal_statement": "theorem fimo_2014_algebra_p2\n  (f : ℝ → ℝ)\n  (a b : ℝ)\n  (a_n b_n : ℕ → ℝ)\n  (h₀ : 0 < a ∧ a < b ∧ b < 1)\n  (h₁ : ∀ x < 1 / 2, f x = x + 1 / 2)\n  (h₂ : ∀ x ≥ 1 / 2, f x = x^2)\n  (h₃ : a_n 0 = a)\n  (h₄ : b_n 0 = b)\n  (h₅ : ∀ n > 0, a_n n = f (a_n (n - 1)))\n  (h₆ : ∀ n > 0, b_n n = f (b_n (n - 1))) :\n  ∃ n : ℕ, (a_n n - a_n (n - 1)) * (b_n n - b_n (n - 1)) < 0 := by sorry",
    "informal_statement": "Define the function $f:(0,1) \\rightarrow(0,1)$ by\n\n$$\nf(x)= \\begin{cases}x+\\frac{1}{2} & \\text { if } x<\\frac{1}{2} \\\\ x^{2} & \\text { if } x \\geqslant \\frac{1}{2} .\\end{cases}\n$$\n\nLet $a$ and $b$ be two real numbers such that $0<a<b<1$. We define the sequences $a_{n}$ and $b_{n}$ by $a_{0}=a, b_{0}=b$, and $a_{n}=f\\left(a_{n-1}\\right), b_{n}=f\\left(b_{n-1}\\right)$ for $n>0$. Show that there exists a positive integer $n$ such that\n\n$$\n\\left(a_{n}-a_{n-1}\\right)\\left(b_{n}-b_{n-1}\\right)<0 .\n$$",
    "informal_proof": "Note that\n\nif $x<\\frac{1}{2}$ and\n\n$$\n\\begin{gathered}\nf(x)-x=\\frac{1}{2}>0 \\\\\nf(x)-x=x^{2}-x<0\n\\end{gathered}\n$$\n\nif $x \\geqslant \\frac{1}{2}$. So if we consider $(0,1)$ as being divided into the two subintervals $I_{1}=\\left(0, \\frac{1}{2}\\right)$ and $I_{2}=\\left[\\frac{1}{2}, 1\\right)$, the inequality\n\n$$\n\\left(a_{n}-a_{n-1}\\right)\\left(b_{n}-b_{n-1}\\right)=\\left(f\\left(a_{n-1}\\right)-a_{n-1}\\right)\\left(f\\left(b_{n-1}\\right)-b_{n-1}\\right)<0\n$$\n\nholds if and only if $a_{n-1}$ and $b_{n-1}$ lie in distinct subintervals.\n\nLet us now assume, to the contrary, that $a_{k}$ and $b_{k}$ always lie in the same subinterval. Consider the distance $d_{k}=\\left|a_{k}-b_{k}\\right|$. If both $a_{k}$ and $b_{k}$ lie in $I_{1}$, then\n\n$$\nd_{k+1}=\\left|a_{k+1}-b_{k+1}\\right|=\\left|a_{k}+\\frac{1}{2}-b_{k}-\\frac{1}{2}\\right|=d_{k} .\n$$\n\nIf, on the other hand, $a_{k}$ and $b_{k}$ both lie in $I_{2}$, then $\\min \\left(a_{k}, b_{k}\\right) \\geqslant \\frac{1}{2}$ and $\\max \\left(a_{k}, b_{k}\\right)=$ $\\min \\left(a_{k}, b_{k}\\right)+d_{k} \\geqslant \\frac{1}{2}+d_{k}$, which implies\n\n$d_{k+1}=\\left|a_{k+1}-b_{k+1}\\right|=\\left|a_{k}^{2}-b_{k}^{2}\\right|=\\left|\\left(a_{k}-b_{k}\\right)\\left(a_{k}+b_{k}\\right)\\right| \\geqslant\\left|a_{k}-b_{k}\\right|\\left(\\frac{1}{2}+\\frac{1}{2}+d_{k}\\right)=d_{k}\\left(1+d_{k}\\right) \\geqslant d_{k}$.\n\nThis means that the difference $d_{k}$ is non-decreasing, and in particular $d_{k} \\geqslant d_{0}>0$ for all $k$.\n\nWe can even say more. If $a_{k}$ and $b_{k}$ lie in $I_{2}$, then\n\n$$\nd_{k+2} \\geqslant d_{k+1} \\geqslant d_{k}\\left(1+d_{k}\\right) \\geqslant d_{k}\\left(1+d_{0}\\right) .\n$$\n\nIf $a_{k}$ and $b_{k}$ both lie in $I_{1}$, then $a_{k+1}$ and $b_{k+1}$ both lie in $I_{2}$, and so we have\n\n$$\nd_{k+2} \\geqslant d_{k+1}\\left(1+d_{k+1}\\right) \\geqslant d_{k+1}\\left(1+d_{0}\\right)=d_{k}\\left(1+d_{0}\\right) .\n$$\n\nIn either case, $d_{k+2} \\geqslant d_{k}\\left(1+d_{0}\\right)$, and inductively we get\n\n$$\nd_{2 m} \\geqslant d_{0}\\left(1+d_{0}\\right)^{m}\n$$\n\nFor sufficiently large $m$, the right-hand side is greater than 1 , but since $a_{2 m}, b_{2 m}$ both lie in $(0,1)$, we must have $d_{2 m}<1$, a contradiction.\n\nThus there must be a positive integer $n$ such that $a_{n-1}$ and $b_{n-1}$ do not lie in the same subinterval, which proves the desired statement.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_algebra_p4",
    "formal_statement": "theorem fimo_2014_algebra_p4\n  (f : ℤ → ℤ)\n  (h₀ : ∀ m n, f (f m + n) + f m = f n + f (3 * m) + 2014) :\n  f = (λ n ↦ 2 * n + 1007) := by sorry",
    "informal_statement": "Determine all functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ satisfying\n\n$$\nf(f(m)+n)+f(m)=f(n)+f(3 m)+2014\n$$\n\nfor all integers $m$ and $n$.\n\nThe final answer is that there is only one such function, namely $n \\longmapsto 2 n+1007$.",
    "informal_proof": "Let $f$ be a function satisfying (1). Set $C=1007$ and define the function $g: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ by $g(m)=f(3 m)-f(m)+2 C$ for all $m \\in \\mathbb{Z}$; in particular, $g(0)=2 C$. Now (1) rewrites as\n\n$$\nf(f(m)+n)=g(m)+f(n)\n$$\n\nfor all $m, n \\in \\mathbb{Z}$. By induction in both directions it follows that\n\n$$\nf(t f(m)+n)=\\operatorname{tg}(m)+f(n)\n$$\n\nholds for all $m, n, t \\in \\mathbb{Z}$. Applying this, for any $r \\in \\mathbb{Z}$, to the triples $(r, 0, f(0))$ and $(0,0, f(r))$ in place of $(m, n, t)$ we obtain\n\n$$\nf(0) g(r)=f(f(r) f(0))-f(0)=f(r) g(0) .\n$$\n\nNow if $f(0)$ vanished, then $g(0)=2 C>0$ would entail that $f$ vanishes identically, contrary to (1). Thus $f(0) \\neq 0$ and the previous equation yields $g(r)=\\alpha f(r)$, where $\\alpha=\\frac{g(0)}{f(0)}$ is some nonzero constant.\n\nSo the definition of $g$ reveals $f(3 m)=(1+\\alpha) f(m)-2 C$, i.e.,\n\n$$\nf(3 m)-\\beta=(1+\\alpha)(f(m)-\\beta)\n$$\n\nfor all $m \\in \\mathbb{Z}$, where $\\beta=\\frac{2 C}{\\alpha}$. By induction on $k$ this implies\n\n$$\nf\\left(3^{k} m\\right)-\\beta=(1+\\alpha)^{k}(f(m)-\\beta)\n$$\n\nfor all integers $k \\geqslant 0$ and $m$.\n\nSince $3 \\nmid 2014$, there exists by (1) some value $d=f(a)$ attained by $f$ that is not divisible by 3 . Now by $(2)$ we have $f(n+t d)=f(n)+t g(a)=f(n)+\\alpha \\cdot t f(a)$, i.e.,\n\n$$\nf(n+t d)=f(n)+\\alpha \\cdot t d\n$$\n\nfor all $n, t \\in \\mathbb{Z}$.\n\nLet us fix any positive integer $k$ with $d \\mid\\left(3^{k}-1\\right)$, which is possible, since $\\operatorname{gcd}(3, d)=1$. E.g., by the EuleR-Fermat theorem, we may take $k=\\varphi(|d|)$. Now for each $m \\in \\mathbb{Z}$ we get\n\n$$\nf\\left(3^{k} m\\right)=f(m)+\\alpha\\left(3^{k}-1\\right) m\n$$\n\nfrom (5), which in view of (4) yields $\\left((1+\\alpha)^{k}-1\\right)(f(m)-\\beta)=\\alpha\\left(3^{k}-1\\right) m$. Since $\\alpha \\neq 0$, the right hand side does not vanish for $m \\neq 0$, wherefore the first factor on the left hand side cannot vanish either. It follows that\n\n$$\nf(m)=\\frac{\\alpha\\left(3^{k}-1\\right)}{(1+\\alpha)^{k}-1} \\cdot m+\\beta .\n$$\n\nSo $f$ is a linear function, say $f(m)=A m+\\beta$ for all $m \\in \\mathbb{Z}$ with some constant $A \\in \\mathbb{Q}$. Plugging this into $(1)$ one obtains $\\left(A^{2}-2 A\\right) m+(A \\beta-2 C)=0$ for all $m$, which is equivalent to the conjunction of\n\n$$\nA^{2}=2 A \\quad \\text { and } \\quad A \\beta=2 C .\n$$\n\nThe first equation is equivalent to $A \\in\\{0,2\\}$, and as $C \\neq 0$ the second one gives\n\n$$\nA=2 \\quad \\text { and } \\quad \\beta=C .\n$$\n\nThis shows that $f$ is indeed the function mentioned in the answer and as the numbers found in (7) do indeed satisfy the equations (6) this function is indeed as desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_algebra_p5",
    "formal_statement": "theorem fimo_2014_algebra_p5\n  (P : Polynomial ℝ)\n  (h₀ : ∀ x y, (abs (y^2 - (P.eval x)) ≤ 2 * abs x) ↔ (abs (x^2 - (P.eval y)) ≤ 2 * abs y)) :\n  P.eval 0 ∈ Set.Iio (0:ℝ) ∪ {1} := by sorry",
    "informal_statement": "Consider all polynomials $P(x)$ with real coefficients that have the following property: for any two real numbers $x$ and $y$ one has\n\n$$\n\\left|y^{2}-P(x)\\right| \\leqslant 2|x| \\quad \\text { if and only if } \\quad\\left|x^{2}-P(y)\\right| \\leqslant 2|y| \\text {. }\n$$\n\nDetermine all possible values of $P(0)$.\n\nThe final answer is that the set of possible values of $P(0)$ is $(-\\infty, 0) \\cup\\{1\\}$.",
    "informal_proof": "Part I. We begin by verifying that these numbers are indeed possible values of $P(0)$. To see that each negative real number $-C$ can be $P(0)$, it suffices to check that for every $C>0$ the polynomial $P(x)=-\\left(\\frac{2 x^{2}}{C}+C\\right)$ has the property described in the statement of the problem. Due to symmetry it is enough for this purpose to prove $\\left|y^{2}-P(x)\\right|>2|x|$ for any two real numbers $x$ and $y$. In fact we have\n\n$$\n\\left|y^{2}-P(x)\\right|=y^{2}+\\frac{x^{2}}{C}+\\frac{(|x|-C)^{2}}{C}+2|x| \\geqslant \\frac{x^{2}}{C}+2|x| \\geqslant 2|x|,\n$$\n\nwhere in the first estimate equality can only hold if $|x|=C$, whilst in the second one it can only hold if $x=0$. As these two conditions cannot be met at the same time, we have indeed $\\left|y^{2}-P(x)\\right|>2|x|$\n\nTo show that $P(0)=1$ is possible as well, we verify that the polynomial $P(x)=x^{2}+1$ satisfies (1). Notice that for all real numbers $x$ and $y$ we have\n\n$$\n\\begin{aligned}\n\\left|y^{2}-P(x)\\right| \\leqslant 2|x| & \\Longleftrightarrow\\left(y^{2}-x^{2}-1\\right)^{2} \\leqslant 4 x^{2} \\\\\n& \\Longleftrightarrow 0 \\leqslant\\left(\\left(y^{2}-(x-1)^{2}\\right)\\left((x+1)^{2}-y^{2}\\right)\\right. \\\\\n& \\Longleftrightarrow 0 \\leqslant(y-x+1)(y+x-1)(x+1-y)(x+1+y) \\\\\n& \\Longleftrightarrow 0 \\leqslant\\left((x+y)^{2}-1\\right)\\left(1-(x-y)^{2}\\right) .\n\\end{aligned}\n$$\n\nSince this inequality is symmetric in $x$ and $y$, we are done.\n\nPart II. Now we show that no values other than those mentioned in the answer are possible for $P(0)$. To reach this we let $P$ denote any polynomial satisfying $(1)$ and $P(0) \\geqslant 0$; as we shall see, this implies $P(x)=x^{2}+1$ for all real $x$, which is actually more than what we want.\n\nFirst step: We prove that $P$ is even.\n\nBy (1) we have\n\n$$\n\\left|y^{2}-P(x)\\right| \\leqslant 2|x| \\Longleftrightarrow\\left|x^{2}-P(y)\\right| \\leqslant 2|y| \\Longleftrightarrow\\left|y^{2}-P(-x)\\right| \\leqslant 2|x|\n$$\n\nfor all real numbers $x$ and $y$. Considering just the equivalence of the first and third statement and taking into account that $y^{2}$ may vary through $\\mathbb{R}_{\\geqslant 0}$ we infer that\n\n$$\n[P(x)-2|x|, P(x)+2|x|] \\cap \\mathbb{R}_{\\geqslant 0}=[P(-x)-2|x|, P(-x)+2|x|] \\cap \\mathbb{R}_{\\geqslant 0}\n$$\n\nholds for all $x \\in \\mathbb{R}$. We claim that there are infinitely many real numbers $x$ such that $P(x)+2|x| \\geqslant 0$. This holds in fact for any real polynomial with $P(0) \\geqslant 0$; in order to see this, we may assume that the coefficient of $P$ appearing in front of $x$ is nonnegative. In this case the desired inequality holds for all sufficiently small positive real numbers.\n\nFor such numbers $x$ satisfying $P(x)+2|x| \\geqslant 0$ we have $P(x)+2|x|=P(-x)+2|x|$ by the previous displayed formula, and hence also $P(x)=P(-x)$. Consequently the polynomial $P(x)-P(-x)$ has infinitely many zeros, wherefore it has to vanish identically. Thus $P$ is indeed even. Second step: We prove that $P(t)>0$ for all $t \\in \\mathbb{R}$.\n\nLet us assume for a moment that there exists a real number $t \\neq 0$ with $P(t)=0$. Then there is some open interval $I$ around $t$ such that $|P(y)| \\leqslant 2|y|$ holds for all $y \\in I$. Plugging $x=0$ into (1) we learn that $y^{2}=P(0)$ holds for all $y \\in I$, which is clearly absurd. We have thus shown $P(t) \\neq 0$ for all $t \\neq 0$.\n\nIn combination with $P(0) \\geqslant 0$ this informs us that our claim could only fail if $P(0)=0$. In this case there is by our first step a polynomial $Q(x)$ such that $P(x)=x^{2} Q(x)$. Applying (1) to $x=0$ and an arbitrary $y \\neq 0$ we get $|y Q(y)|>2$, which is surely false when $y$ is sufficiently small.\n\nThird step: We prove that $P$ is a quadratic polynomial.\n\nNotice that $P$ cannot be constant, for otherwise if $x=\\sqrt{P(0)}$ and $y$ is sufficiently large, the first part of (1) is false whilst the second part is true. So the degree $n$ of $P$ has to be at least 1 . By our first step $n$ has to be even as well, whence in particular $n \\geqslant 2$.\n\nNow assume that $n \\geqslant 4$. Plugging $y=\\sqrt{P(x)}$ into (1) we get $\\left|x^{2}-P(\\sqrt{P(x)})\\right| \\leqslant 2 \\sqrt{P(x)}$ and hence\n\n$$\nP(\\sqrt{P(x)}) \\leqslant x^{2}+2 \\sqrt{P(x)}\n$$\n\nfor all real $x$. Choose positive real numbers $x_{0}, a$, and $b$ such that if $x \\in\\left(x_{0}, \\infty\\right)$, then $a x^{n}<$ $P(x)<b x^{n}$; this is indeed possible, for if $d>0$ denotes the leading coefficient of $P$, then $\\lim _{x \\rightarrow \\infty} \\frac{P(x)}{x^{n}}=d$, whence for instance the numbers $a=\\frac{d}{2}$ and $b=2 d$ work provided that $x_{0}$ is chosen large enough.\n\nNow for all sufficiently large real numbers $x$ we have\n\n$$\na^{n / 2+1} x^{n^{2} / 2}<a P(x)^{n / 2}<P(\\sqrt{P(x)}) \\leqslant x^{2}+2 \\sqrt{P(x)}<x^{n / 2}+2 b^{1 / 2} x^{n / 2}\n$$\n\ni.e.\n\n$$\nx^{\\left(n^{2}-n\\right) / 2}<\\frac{1+2 b^{1 / 2}}{a^{n / 2+1}},\n$$\n\nwhich is surely absurd. Thus $P$ is indeed a quadratic polynomial.\n\nFourth step: We prove that $P(x)=x^{2}+1$.\n\nIn the light of our first three steps there are two real numbers $a>0$ and $b$ such that $P(x)=$ $a x^{2}+b$. Now if $x$ is large enough and $y=\\sqrt{a} x$, the left part of (1) holds and the right part reads $\\left|\\left(1-a^{2}\\right) x^{2}-b\\right| \\leqslant 2 \\sqrt{a} x$. In view of the fact that $a>0$ this is only possible if $a=1$. Finally, substituting $y=x+1$ with $x>0$ into (1) we get\n\n$$\n|2 x+1-b| \\leqslant 2 x \\Longleftrightarrow|2 x+1+b| \\leqslant 2 x+2,\n$$\n\ni.e.,\n\n$$\nb \\in[1,4 x+1] \\Longleftrightarrow b \\in[-4 x-3,1]\n$$\n\nfor all $x>0$. Choosing $x$ large enough, we can achieve that at least one of these two statements holds; then both hold, which is only possible if $b=1$, as desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_algebra_p6",
    "formal_statement": "theorem fimo_2014_algebra_p6\n  (f : ℤ → ℤ)\n  (h₀ : ∀ n, n^2 + 4 * f n = (f (f n))^2) :\n  (∀ n, f n = n + 1) ∨\n  (∃ a : ℤ, a ≥ 1 ∧ (∀ n, f n = if n > -a then n + 1 else -n + 1)) ∨\n  (∀ n, f n = if n > 0 then n + 1 else if n = 0 then 0 else -n + 1) := by sorry",
    "informal_statement": "Find all functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ such that\n\n$$\nn^{2}+4 f(n)=f(f(n))^{2}\n$$\n\nfor all $n \\in \\mathbb{Z}$.\n\nThe final answer is that the possibilities are:\n\n\\begin{itemize}\n  \\item $f(n)=n+1$ for all $n$\n\n  \\item or, for some $a \\geqslant 1, \\quad f(n)= \\begin{cases}n+1, & n>-a, \\\\ -n+1, & n \\leqslant-a ;\\end{cases}$\n\n  \\item or $f(n)= \\begin{cases}n+1, & n>0 \\\\ 0, & n=0 \\\\ -n+1, & n<0\\end{cases}$\n\n\\end{itemize}",
    "informal_proof": "Part I. Let us first check that each of the functions above really satisfies the given functional equation. If $f(n)=n+1$ for all $n$, then we have\n\n$$\nn^{2}+4 f(n)=n^{2}+4 n+4=(n+2)^{2}=f(n+1)^{2}=f(f(n))^{2} .\n$$\n\nIf $f(n)=n+1$ for $n>-a$ and $f(n)=-n+1$ otherwise, then we have the same identity for $n>-a$ and\n\n$$\nn^{2}+4 f(n)=n^{2}-4 n+4=(2-n)^{2}=f(1-n)^{2}=f(f(n))^{2}\n$$\n\notherwise. The same applies to the third solution (with $a=0$ ), where in addition one has\n\n$$\n0^{2}+4 f(0)=0=f(f(0))^{2} .\n$$\n\nPart II. It remains to prove that these are really the only functions that satisfy our functional equation. We do so in three steps:\n\nStep 1: We prove that $f(n)=n+1$ for $n>0$.\n\nConsider the sequence $\\left(a_{k}\\right)$ given by $a_{k}=f^{k}(1)$ for $k \\geqslant 0$. Setting $n=a_{k}$ in (1), we get\n\n$$\na_{k}^{2}+4 a_{k+1}=a_{k+2}^{2} .\n$$\n\nOf course, $a_{0}=1$ by definition. Since $a_{2}^{2}=1+4 a_{1}$ is odd, $a_{2}$ has to be odd as well, so we set $a_{2}=2 r+1$ for some $r \\in \\mathbb{Z}$. Then $a_{1}=r^{2}+r$ and consequently\n\n$$\na_{3}^{2}=a_{1}^{2}+4 a_{2}=\\left(r^{2}+r\\right)^{2}+8 r+4 .\n$$\n\nSince $8 r+4 \\neq 0, a_{3}^{2} \\neq\\left(r^{2}+r\\right)^{2}$, so the difference between $a_{3}^{2}$ and $\\left(r^{2}+r\\right)^{2}$ is at least the distance from $\\left(r^{2}+r\\right)^{2}$ to the nearest even square (since $8 r+4$ and $r^{2}+r$ are both even). This implies that\n\n$$\n|8 r+4|=\\left|a_{3}^{2}-\\left(r^{2}+r\\right)^{2}\\right| \\geqslant\\left(r^{2}+r\\right)^{2}-\\left(r^{2}+r-2\\right)^{2}=4\\left(r^{2}+r-1\\right),\n$$\n\n(for $r=0$ and $r=-1$, the estimate is trivial, but this does not matter). Therefore, we ave\n\n$$\n4 r^{2} \\leqslant|8 r+4|-4 r+4 .\n$$\n\nIf $|r| \\geqslant 4$, then\n\n$$\n4 r^{2} \\geqslant 16|r| \\geqslant 12|r|+16>8|r|+4+4|r|+4 \\geqslant|8 r+4|-4 r+4,\n$$\n\na contradiction. Thus $|r|<4$. Checking all possible remaining values of $r$, we find that $\\left(r^{2}+r\\right)^{2}+8 r+4$ is only a square in three cases: $r=-3, r=0$ and $r=1$. Let us now distinguish these three cases:\n\n\\begin{itemize}\n  \\item $r=-3$, thus $a_{1}=6$ and $a_{2}=-5$. For each $k \\geqslant 1$, we have\n\\end{itemize}\n\n$$\na_{k+2}=\\pm \\sqrt{a_{k}^{2}+4 a_{k+1}},\n$$\n\nand the sign needs to be chosen in such a way that $a_{k+1}^{2}+4 a_{k+2}$ is again a square. This yields $a_{3}=-4, a_{4}=-3, a_{5}=-2, a_{6}=-1, a_{7}=0, a_{8}=1, a_{9}=2$. At this point we have reached a contradiction, since $f(1)=f\\left(a_{0}\\right)=a_{1}=6$ and at the same time $f(1)=f\\left(a_{8}\\right)=a_{9}=2$.\n\n\\begin{itemize}\n  \\item $r=0$, thus $a_{1}=0$ and $a_{2}=1$. Then $a_{3}^{2}=a_{1}^{2}+4 a_{2}=4$, so $a_{3}=\\pm 2$. This, however, is a contradiction again, since it gives us $f(1)=f\\left(a_{0}\\right)=a_{1}=0$ and at the same time $f(1)=f\\left(a_{2}\\right)=a_{3}=\\pm 2$\n\n  \\item $r=1$, thus $a_{1}=2$ and $a_{2}=3$. We prove by induction that $a_{k}=k+1$ for all $k \\geqslant 0$ in this case, which we already know for $k \\leqslant 2$ now. For the induction step, assume that $a_{k-1}=k$ and $a_{k}=k+1$. Then\n\n\\end{itemize}\n\n$$\na_{k+1}^{2}=a_{k-1}^{2}+4 a_{k}=k^{2}+4 k+4=(k+2)^{2},\n$$\n\nso $a_{k+1}=\\pm(k+2)$. If $a_{k+1}=-(k+2)$, then\n\n$$\na_{k+2}^{2}=a_{k}^{2}+4 a_{k+1}=(k+1)^{2}-4 k-8=k^{2}-2 k-7=(k-1)^{2}-8 .\n$$\n\nThe latter can only be a square if $k=4$ (since 1 and 9 are the only two squares whose difference is 8). Then, however, $a_{4}=5, a_{5}=-6$ and $a_{6}=\\pm 1$, so\n\n$$\na_{7}^{2}=a_{5}^{2}+4 a_{6}=36 \\pm 4,\n$$\n\nbut neither 32 nor 40 is a perfect square. Thus $a_{k+1}=k+2$, which completes our induction. This also means that $f(n)=f\\left(a_{n-1}\\right)=a_{n}=n+1$ for all $n \\geqslant 1$.\n\nStep 2: We prove that either $f(0)=1$, or $f(0)=0$ and $f(n) \\neq 0$ for $n \\neq 0$.\n\nSet $n=0$ in (1) to get\n\n$$\n4 f(0)=f(f(0))^{2} .\n$$\n\nThis means that $f(0) \\geqslant 0$. If $f(0)=0$, then $f(n) \\neq 0$ for all $n \\neq 0$, since we would otherwise have\n\n$$\nn^{2}=n^{2}+4 f(n)=f(f(n))^{2}=f(0)^{2}=0 .\n$$\n\nIf $f(0)>0$, then we know that $f(f(0))=f(0)+1$ from the first step, so\n\n$$\n4 f(0)=(f(0)+1)^{2},\n$$\n\nwhich yields $f(0)=1$. Step 3: We discuss the values of $f(n)$ for $n<0$.\n\nLemma. For every $n \\geqslant 1$, we have $f(-n)=-n+1$ or $f(-n)=n+1$. Moreover, if $f(-n)=$ $-n+1$ for some $n \\geqslant 1$, then also $f(-n+1)=-n+2$.\n\nProof. We prove this statement by strong induction on $n$. For $n=1$, we get\n\n$$\n1+4 f(-1)=f(f(-1))^{2} .\n$$\n\nThus $f(-1)$ needs to be nonnegative. If $f(-1)=0$, then $f(f(-1))=f(0)=\\pm 1$, so $f(0)=1$ (by our second step). Otherwise, we know that $f(f(-1))=f(-1)+1$, so\n\n$$\n1+4 f(-1)=(f(-1)+1)^{2} \\text {, }\n$$\n\nwhich yields $f(-1)=2$ and thus establishes the base case. For the induction step, we consider two cases:\n\n\\begin{itemize}\n  \\item If $f(-n) \\leqslant-n$, then\n\\end{itemize}\n\n$$\nf(f(-n))^{2}=(-n)^{2}+4 f(-n) \\leqslant n^{2}-4 n<(n-2)^{2},\n$$\n\nso $|f(f(-n))| \\leqslant n-3$ (for $n=2$, this case cannot even occur). If $f(f(-n)) \\geqslant 0$, then we already know from the first two steps that $f(f(f(-n)))=f(f(-n))+1$, unless perhaps if $f(0)=0$ and $f(f(-n))=0$. However, the latter would imply $f(-n)=0$ (as shown in Step 2) and thus $n=0$, which is impossible. If $f(f(-n))<0$, we can apply the induction hypothesis to $f(f(-n))$. In either case, $f(f(f(-n)))=\\pm f(f(-n))+1$. Therefore,\n\n$$\nf(-n)^{2}+4 f(f(-n))=f(f(f(-n)))^{2}=(\\pm f(f(-n))+1)^{2}\n$$\n\nwhich gives us\n\n$$\n\\begin{aligned}\nn^{2} & \\leqslant f(-n)^{2}=(\\pm f(f(-n))+1)^{2}-4 f(f(-n)) \\leqslant f(f(-n))^{2}+6|f(f(-n))|+1 \\\\\n& \\leqslant(n-3)^{2}+6(n-3)+1=n^{2}-8\n\\end{aligned}\n$$\n\na contradiction.\n\n\\begin{itemize}\n  \\item Thus, we are left with the case that $f(-n)>-n$. Now we argue as in the previous case: if $f(-n) \\geqslant 0$, then $f(f(-n))=f(-n)+1$ by the first two steps, since $f(0)=0$ and $f(-n)=0$ would imply $n=0$ (as seen in Step 2) and is thus impossible. If $f(-n)<0$, we can apply the induction hypothesis, so in any case we can infer that $f(f(-n))=\\pm f(-n)+1$. We obtain\n\\end{itemize}\n\n$$\n(-n)^{2}+4 f(-n)=(\\pm f(-n)+1)^{2}\n$$\n\nso either\n\n$$\nn^{2}=f(-n)^{2}-2 f(-n)+1=(f(-n)-1)^{2},\n$$\n\nwhich gives us $f(-n)=\\pm n+1$, or\n\n$$\nn^{2}=f(-n)^{2}-6 f(-n)+1=(f(-n)-3)^{2}-8 .\n$$\n\nSince 1 and 9 are the only perfect squares whose difference is 8 , we must have $n=1$, which we have already considered.\n\nFinally, suppose that $f(-n)=-n+1$ for some $n \\geqslant 2$. Then\n\n$$\nf(-n+1)^{2}=f(f(-n))^{2}=(-n)^{2}+4 f(-n)=(n-2)^{2},\n$$\n\nso $f(-n+1)=\\pm(n-2)$. However, we already know that $f(-n+1)=-n+2$ or $f(-n+1)=n$, so $f(-n+1)=-n+2$. Combining everything we know, we find the solutions as stated in the answer:\n\n\\begin{itemize}\n  \\item One solution is given by $f(n)=n+1$ for all $n$.\n\n  \\item If $f(n)$ is not always equal to $n+1$, then there is a largest integer $m$ (which cannot be positive) for which this is not the case. In view of the lemma that we proved, we must then have $f(n)=-n+1$ for any integer $n<m$. If $m=-a<0$, we obtain $f(n)=-n+1$ for $n \\leqslant-a$ (and $f(n)=n+1$ otherwise). If $m=0$, we have the additional possibility that $f(0)=0, f(n)=-n+1$ for negative $n$ and $f(n)=n+1$ for positive $n$.\n\n\\end{itemize}",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_number_theory_p1",
    "formal_statement": "theorem fimo_2014_number_theory_p1\n  (n : ℕ)\n  (h₀ : n ≥ 2)\n  (A_n : Finset ℕ := Finset.image (λ k ↦ 2^n - 2^k) (Finset.range n))\n  (M : ℕ := (n - 2) * 2^n + 1) :\n  (∀ x < M, ∃ (s : Multiset ℕ), s ∈ Multiset.powerset (A_n.val) ∧ Multiset.sum s = x) ∧\n  (∀ (s : Multiset ℕ), s ∈ Multiset.powerset (A_n.val) → Multiset.sum s ≠ M) := by sorry",
    "informal_statement": "Let $n \\geqslant 2$ be an integer, and let $A_{n}$ be the set\n\n$$\nA_{n}=\\left\\{2^{n}-2^{k} \\mid k \\in \\mathbb{Z}, 0 \\leqslant k<n\\right\\} .\n$$\n\nDetermine the largest positive integer that cannot be written as the sum of one or more (not necessarily distinct) elements of $A_{n}$.\n\nThe final answer is $(n-2) 2^{n}+1$.",
    "informal_proof": "Part I. First we show that every integer greater than $(n-2) 2^{n}+1$ can be represented as such a sum. This is achieved by induction on $n$.\n\nFor $n=2$, the set $A_{n}$ consists of the two elements 2 and 3. Every positive integer $m$ except for 1 can be represented as the sum of elements of $A_{n}$ in this case: as $m=2+2+\\cdots+2$ if $m$ is even, and as $m=3+2+2+\\cdots+2$ if $m$ is odd.\n\nNow consider some $n>2$, and take an integer $m>(n-2) 2^{n}+1$. If $m$ is even, then consider\n\n$$\n\\frac{m}{2} \\geqslant \\frac{(n-2) 2^{n}+2}{2}=(n-2) 2^{n-1}+1>(n-3) 2^{n-1}+1\n$$\n\nBy the induction hypothesis, there is a representation of the form\n\n$$\n\\frac{m}{2}=\\left(2^{n-1}-2^{k_{1}}\\right)+\\left(2^{n-1}-2^{k_{2}}\\right)+\\cdots+\\left(2^{n-1}-2^{k_{r}}\\right)\n$$\n\nfor some $k_{i}$ with $0 \\leqslant k_{i}<n-1$. It follows that\n\n$$\nm=\\left(2^{n}-2^{k_{1}+1}\\right)+\\left(2^{n}-2^{k_{2}+1}\\right)+\\cdots+\\left(2^{n}-2^{k_{r}+1}\\right)\n$$\n\ngiving us the desired representation as a sum of elements of $A_{n}$. If $m$ is odd, we consider\n\n$$\n\\frac{m-\\left(2^{n}-1\\right)}{2}>\\frac{(n-2) 2^{n}+1-\\left(2^{n}-1\\right)}{2}=(n-3) 2^{n-1}+1 .\n$$\n\nBy the induction hypothesis, there is a representation of the form\n\n$$\n\\frac{m-\\left(2^{n}-1\\right)}{2}=\\left(2^{n-1}-2^{k_{1}}\\right)+\\left(2^{n-1}-2^{k_{2}}\\right)+\\cdots+\\left(2^{n-1}-2^{k_{r}}\\right)\n$$\n\nfor some $k_{i}$ with $0 \\leqslant k_{i}<n-1$. It follows that\n\n$$\nm=\\left(2^{n}-2^{k_{1}+1}\\right)+\\left(2^{n}-2^{k_{2}+1}\\right)+\\cdots+\\left(2^{n}-2^{k_{r}+1}\\right)+\\left(2^{n}-1\\right),\n$$\n\ngiving us the desired representation of $m$ once again.\n\nPart II. It remains to show that there is no representation for $(n-2) 2^{n}+1$. Let $N$ be the smallest positive integer that satisfies $N \\equiv 1\\left(\\bmod 2^{n}\\right)$, and which can be represented as a sum of elements of $A_{n}$. Consider a representation of $N$, i.e.,\n\n$$\nN=\\left(2^{n}-2^{k_{1}}\\right)+\\left(2^{n}-2^{k_{2}}\\right)+\\cdots+\\left(2^{n}-2^{k_{r}}\\right),\n$$\n\nwhere $0 \\leqslant k_{1}, k_{2}, \\ldots, k_{r}<n$. Suppose first that two of the terms in the sum are the same, i.e., $k_{i}=k_{j}$ for some $i \\neq j$. If $k_{i}=k_{j}=n-1$, then we can simply remove these two terms to get a representation for\n\n$$\nN-2\\left(2^{n}-2^{n-1}\\right)=N-2^{n}\n$$\n\nas a sum of elements of $A_{n}$, which contradicts our choice of $N$. If $k_{i}=k_{j}=k<n-1$, replace the two terms by $2^{n}-2^{k+1}$, which is also an element of $A_{n}$, to get a representation for\n\n$$\nN-2\\left(2^{n}-2^{k}\\right)+2^{n}-2^{k+1}=N-2^{n} .\n$$\n\nThis is a contradiction once again. Therefore, all $k_{i}$ have to be distinct, which means that\n\n$$\n2^{k_{1}}+2^{k_{2}}+\\cdots+2^{k_{r}} \\leqslant 2^{0}+2^{1}+2^{2}+\\cdots+2^{n-1}=2^{n}-1 .\n$$\n\nOn the other hand, taking (1) modulo $2^{n}$, we find\n\n$$\n2^{k_{1}}+2^{k_{2}}+\\cdots+2^{k_{r}} \\equiv-N \\equiv-1 \\quad\\left(\\bmod 2^{n}\\right) .\n$$\n\nThus we must have $2^{k_{1}}+2^{k_{2}}+\\cdots+2^{k_{r}}=2^{n}-1$, which is only possible if each element of $\\{0,1, \\ldots, n-1\\}$ occurs as one of the $k_{i}$. This gives us\n\n$$\nN=n 2^{n}-\\left(2^{0}+2^{1}+\\cdots+2^{n-1}\\right)=(n-1) 2^{n}+1 .\n$$\n\nIn particular, this means that $(n-2) 2^{n}+1$ cannot be represented as a sum of elements of $A_{n}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_number_theory_p5",
    "formal_statement": "theorem fimo_2014_number_theory_p5\n  (p x y : ℕ)\n  (h₀ : Nat.Prime p)\n  (h₁ : ∃ k : ℕ, x^(p-1) + y = p^k)\n  (h₂ : ∃ k : ℕ, x + y^(p-1) = p^k) :\n  (p = 3 ∧ x = 2 ∧ y = 5) ∨ (p = 3 ∧ x = 5 ∧ y = 2) ∨\n  (∃ n k : ℕ, p = 2 ∧ 0 < n ∧ n < 2^k ∧ x = n ∧ y = 2^k - n) := by sorry",
    "informal_statement": "Find all triples $(p, x, y)$ consisting of a prime number $p$ and two positive integers $x$ and $y$ such that $x^{p-1}+y$ and $x+y^{p-1}$ are both powers of $p$.\n\nThe final answer is $(p, x, y) \\in\\{(3,2,5),(3,5,2)\\} \\cup\\left\\{\\left(2, n, 2^{k}-n\\right) \\mid 0<n<2^{k}\\right\\}$.",
    "informal_proof": "For $p=2$, clearly all pairs of two positive integers $x$ and $y$ whose sum is a power of 2 satisfy the condition. Thus we assume in the following that $p>2$, and we let $a$ and $b$ be positive integers such that $x^{p-1}+y=p^{a}$ and $x+y^{p-1}=p^{b}$. Assume further, without loss of generality, that $x \\leqslant y$, so that $p^{a}=x^{p-1}+y \\leqslant x+y^{p-1}=p^{b}$, which means that $a \\leqslant b$ (and thus $\\left.p^{a} \\mid p^{b}\\right)$\n\nNow we have\n\n$$\np^{b}=y^{p-1}+x=\\left(p^{a}-x^{p-1}\\right)^{p-1}+x .\n$$\n\nWe take this equation modulo $p^{a}$ and take into account that $p-1$ is even, which gives us\n\n$$\n0 \\equiv x^{(p-1)^{2}}+x \\quad\\left(\\bmod p^{a}\\right) .\n$$\n\nIf $p \\mid x$, then $p^{a} \\mid x$, since $x^{(p-1)^{2}-1}+1$ is not divisible by $p$ in this case. However, this is impossible, since $x \\leqslant x^{p-1}<p^{a}$. Thus we know that $p \\nmid x$, which means that\n\n$$\np^{a} \\mid x^{(p-1)^{2}-1}+1=x^{p(p-2)}+1 .\n$$\n\nBy FERMAT's little theorem, $x^{(p-1)^{2}} \\equiv 1(\\bmod p)$, thus $p$ divides $x+1$. Let $p^{r}$ be the highest power of $p$ that divides $x+1$. By the binomial theorem, we have\n\n$$\nx^{p(p-2)}=\\sum_{k=0}^{p(p-2)}\\left(\\begin{array}{c}\np(p-2) \\\\\nk\n\\end{array}\\right)(-1)^{p(p-2)-k}(x+1)^{k} .\n$$\n\nExcept for the terms corresponding to $k=0, k=1$ and $k=2$, all terms in the sum are clearly divisible by $p^{3 r}$ and thus by $p^{r+2}$. The remaining terms are\n\n$$\n-\\frac{p(p-2)\\left(p^{2}-2 p-1\\right)}{2}(x+1)^{2},\n$$\n\nwhich is divisible by $p^{2 r+1}$ and thus also by $p^{r+2}$,\n\n$$\np(p-2)(x+1),\n$$\n\nwhich is divisible by $p^{r+1}$, but not $p^{r+2}$ by our choice of $r$, and the final term $-1$ corresponding to $k=0$. It follows that the highest power of $p$ that divides $x^{p(p-2)}+1$ is $p^{r+1}$.\n\nOn the other hand, we already know that $p^{a}$ divides $x^{p(p-2)}+1$, which means that $a \\leqslant r+1$. Moreover,\n\n$$\np^{r} \\leqslant x+1 \\leqslant x^{p-1}+y=p^{a} .\n$$\n\nHence we either have $a=r$ or $a=r+1$.\n\nIf $a=r$, then $x=y=1$ needs to hold in the inequality above, which is impossible for $p>2$. Thus $a=r+1$. Now since $p^{r} \\leqslant x+1$, we get\n\n$$\nx=\\frac{x^{2}+x}{x+1} \\leqslant \\frac{x^{p-1}+y}{x+1}=\\frac{p^{a}}{x+1} \\leqslant \\frac{p^{a}}{p^{r}}=p,\n$$\n\nso we must have $x=p-1$ for $p$ to divide $x+1$.\n\nIt follows that $r=1$ and $a=2$. If $p \\geqslant 5$, we obtain\n\n$$\np^{a}=x^{p-1}+y>(p-1)^{4}=\\left(p^{2}-2 p+1\\right)^{2}>(3 p)^{2}>p^{2}=p^{a},\n$$\n\na contradiction. So the only case that remains is $p=3$, and indeed $x=2$ and $y=p^{a}-x^{p-1}=5$ satisfy the conditions.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2014_number_theory_p7",
    "formal_statement": "theorem fimo_2014_number_theory_p7\n  (c n : ℕ)\n  (a : ℕ → ℕ)\n  (h₀ : c ≥ 1)\n  (h₁ : a 1 = c)\n  (h₂ : ∀ n, a (n + 1) = a n ^ 3 - 4 * c * a n ^ 2 + 5 * c ^ 2 * a n + c) :\n  ∃ p, Nat.Prime p ∧ p ∣ a n ∧ (∀ k < n, ¬(p ∣ a k)) := by sorry",
    "informal_statement": "Let $c \\geqslant 1$ be an integer. Define a sequence of positive integers by $a_{1}=c$ and\n\n$$\na_{n+1}=a_{n}^{3}-4 c \\cdot a_{n}^{2}+5 c^{2} \\cdot a_{n}+c\n$$\n\nfor all $n \\geqslant 1$. Prove that for each integer $n \\geqslant 2$ there exists a prime number $p$ dividing $a_{n}$ but none of the numbers $a_{1}, \\ldots, a_{n-1}$.",
    "informal_proof": "Let us define $x_{0}=0$ and $x_{n}=a_{n} / c$ for all integers $n \\geqslant 1$. It is easy to see that the sequence $\\left(x_{n}\\right)$ thus obtained obeys the recursive law\n\n$$\nx_{n+1}=c^{2}\\left(x_{n}^{3}-4 x_{n}^{2}+5 x_{n}\\right)+1\n$$\n\nfor all integers $n \\geqslant 0$. In particular, all of its terms are positive integers; notice that $x_{1}=1$ and $x_{2}=2 c^{2}+1$. Since\n\n$$\nx_{n+1}=c^{2} x_{n}\\left(x_{n}-2\\right)^{2}+c^{2} x_{n}+1>x_{n}\n$$\n\nholds for all integers $n \\geqslant 0$, it is also strictly increasing. Since $x_{n+1}$ is by (1) coprime to $c$ for any $n \\geqslant 0$, it suffices to prove that for each $n \\geqslant 2$ there exists a prime number $p$ dividing $x_{n}$ but none of the numbers $x_{1}, \\ldots, x_{n-1}$. Let us begin by establishing three preliminary claims.\n\nClaim 1. If $i \\equiv j(\\bmod m)$ holds for some integers $i, j \\geqslant 0$ and $m \\geqslant 1$, then $x_{i} \\equiv x_{j}\\left(\\bmod x_{m}\\right)$ holds as well.\n\nProof. Evidently, it suffices to show $x_{i+m} \\equiv x_{i}\\left(\\bmod x_{m}\\right)$ for all integers $i \\geqslant 0$ and $m \\geqslant 1$. For this purpose we may argue for fixed $m$ by induction on $i$ using $x_{0}=0$ in the base case $i=0$. Now, if we have $x_{i+m} \\equiv x_{i}\\left(\\bmod x_{m}\\right)$ for some integer $i$, then the recursive equation (1) yields\n\n$$\nx_{i+m+1} \\equiv c^{2}\\left(x_{i+m}^{3}-4 x_{i+m}^{2}+5 x_{i+m}\\right)+1 \\equiv c^{2}\\left(x_{i}^{3}-4 x_{i}^{2}+5 x_{i}\\right)+1 \\equiv x_{i+1} \\quad\\left(\\bmod x_{m}\\right),\n$$\n\nwhich completes the induction.\n\nClaim 2. If the integers $i, j \\geqslant 2$ and $m \\geqslant 1$ satisfy $i \\equiv j(\\bmod m)$, then $x_{i} \\equiv x_{j}\\left(\\bmod x_{m}^{2}\\right)$ holds as well.\n\nProof. Again it suffices to prove $x_{i+m} \\equiv x_{i}\\left(\\bmod x_{m}^{2}\\right)$ for all integers $i \\geqslant 2$ and $m \\geqslant 1$. As above, we proceed for fixed $m$ by induction on $i$. The induction step is again easy using (1), but this time the base case $i=2$ requires some calculation. Set $L=5 c^{2}$. By (1) we have $x_{m+1} \\equiv L x_{m}+1\\left(\\bmod x_{m}^{2}\\right)$, and hence\n\n$$\n\\begin{aligned}\nx_{m+1}^{3}-4 x_{m+1}^{2}+5 x_{m+1} & \\equiv\\left(L x_{m}+1\\right)^{3}-4\\left(L x_{m}+1\\right)^{2}+5\\left(L x_{m}+1\\right) \\\\\n& \\equiv\\left(3 L x_{m}+1\\right)-4\\left(2 L x_{m}+1\\right)+5\\left(L x_{m}+1\\right) \\equiv 2 \\quad\\left(\\bmod x_{m}^{2}\\right),\n\\end{aligned}\n$$\n\nwhich in turn gives indeed $x_{m+2} \\equiv 2 c^{2}+1 \\equiv x_{2}\\left(\\bmod x_{m}^{2}\\right)$\n\nClaim 3. For each integer $n \\geqslant 2$, we have $x_{n}>x_{1} \\cdot x_{2} \\cdots x_{n-2}$.\n\nProof. The cases $n=2$ and $n=3$ are clear. Arguing inductively, we assume now that the claim holds for some $n \\geqslant 3$. Recall that $x_{2} \\geqslant 3$, so by monotonicity and (2) we get $x_{n} \\geqslant x_{3} \\geqslant x_{2}\\left(x_{2}-2\\right)^{2}+x_{2}+1 \\geqslant 7$. It follows that\n\n$$\nx_{n+1}>x_{n}^{3}-4 x_{n}^{2}+5 x_{n}>7 x_{n}^{2}-4 x_{n}^{2}>x_{n}^{2}>x_{n} x_{n-1},\n$$\n\nwhich by the induction hypothesis yields $x_{n+1}>x_{1} \\cdot x_{2} \\cdots x_{n-1}$, as desired. Now we direct our attention to the problem itself: let any integer $n \\geqslant 2$ be given. By Claim 3 there exists a prime number $p$ appearing with a higher exponent in the prime factorisation of $x_{n}$ than in the prime factorisation of $x_{1} \\cdots x_{n-2}$. In particular, $p \\mid x_{n}$, and it suffices to prove that $p$ divides none of $x_{1}, \\ldots, x_{n-1}$.\n\nOtherwise let $k \\in\\{1, \\ldots, n-1\\}$ be minimal such that $p$ divides $x_{k}$. Since $x_{n-1}$ and $x_{n}$ are coprime by (1) and $x_{1}=1$, we actually have $2 \\leqslant k \\leqslant n-2$. Write $n=q k+r$ with some integers $q \\geqslant 0$ and $0 \\leqslant r<k$. By Claim 1 we have $x_{n} \\equiv x_{r}\\left(\\bmod x_{k}\\right)$, whence $p \\mid x_{r}$. Due to the minimality of $k$ this entails $r=0$, i.e. $k \\mid n$.\n\nThus from Claim 2 we infer\n\n$$\nx_{n} \\equiv x_{k} \\quad\\left(\\bmod x_{k}^{2}\\right) .\n$$\n\nNow let $\\alpha \\geqslant 1$ be maximal with the property $p^{\\alpha} \\mid x_{k}$. Then $x_{k}^{2}$ is divisible by $p^{\\alpha+1}$ and by our choice of $p$ so is $x_{n}$. So by the previous congruence $x_{k}$ is a multiple of $p^{\\alpha+1}$ as well, contrary to our choice of $\\alpha$. This is the final contradiction concluding the solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2015_algebra_p1",
    "formal_statement": "theorem fimo_2015_algebra_p1\n  (a : ℕ → ℝ)\n  (h₀ : ∀ k, 0 < a k)\n  (h₁ : ∀ k, a (k + 1) ≥ k * a k / (a k^2 + (k - 1)))\n  (n : ℕ)\n  (h₂ : n ≥ 2) :\n  ∑ i in Finset.Icc 1 n, a i ≥ n := by sorry",
    "informal_statement": "Suppose that a sequence $a_{1}, a_{2}, \\ldots$ of positive real numbers satisfies\n\n$$\na_{k+1} \\geqslant \\frac{k a_{k}}{a_{k}^{2}+(k-1)}\n$$\n\nfor every positive integer $k$. Prove that $a_{1}+a_{2}+\\cdots+a_{n} \\geqslant n$ for every $n \\geqslant 2$.",
    "informal_proof": "From the constraint (1), it can be seen that\n\n$$\n\\frac{k}{a_{k+1}} \\leqslant \\frac{a_{k}^{2}+(k-1)}{a_{k}}=a_{k}+\\frac{k-1}{a_{k}},\n$$\n\nand so\n\n$$\na_{k} \\geqslant \\frac{k}{a_{k+1}}-\\frac{k-1}{a_{k}} .\n$$\n\nSumming up the above inequality for $k=1, \\ldots, m$, we obtain\n\n$$\na_{1}+a_{2}+\\cdots+a_{m} \\geqslant\\left(\\frac{1}{a_{2}}-\\frac{0}{a_{1}}\\right)+\\left(\\frac{2}{a_{3}}-\\frac{1}{a_{2}}\\right)+\\cdots+\\left(\\frac{m}{a_{m+1}}-\\frac{m-1}{a_{m}}\\right)=\\frac{m}{a_{m+1}} .\n$$\n\nNow we prove the problem statement by induction on $n$. The case $n=2$ can be done by applying (1) to $k=1$ :\n\n$$\na_{1}+a_{2} \\geqslant a_{1}+\\frac{1}{a_{1}} \\geqslant 2 .\n$$\n\nFor the induction step, assume that the statement is true for some $n \\geqslant 2$. If $a_{n+1} \\geqslant 1$, then the induction hypothesis yields\n\n$$\n\\left(a_{1}+\\cdots+a_{n}\\right)+a_{n+1} \\geqslant n+1 .\n$$\n\nOtherwise, if $a_{n+1}<1$ then apply (2) as\n\n$$\n\\left(a_{1}+\\cdots+a_{n}\\right)+a_{n+1} \\geqslant \\frac{n}{a_{n+1}}+a_{n+1}=\\frac{n-1}{a_{n+1}}+\\left(\\frac{1}{a_{n+1}}+a_{n+1}\\right)>(n-1)+2 .\n$$\n\nThat completes the solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2015_algebra_p2",
    "formal_statement": "theorem fimo_2015_algebra_p2\n  (f : ℤ → ℤ)\n  (h₀ : ∀ x y, f (x - f y) = f (f x) - f y - 1) :\n  (∀ x, f x = -1) ∨ (∀ x, f x = x + 1) := by sorry",
    "informal_statement": "Determine all functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ with the property that\n\n$$\nf(x-f(y))=f(f(x))-f(y)-1\n$$\n\nholds for all $x, y \\in \\mathbb{Z}$.\n\nThe final answer is that there are two such functions, namely the constant function $x \\mapsto-1$ and the successor function $x \\mapsto x+1$.",
    "informal_proof": "It is immediately checked that both functions mentioned in the answer are as desired.\n\nNow let $f$ denote any function satisfying (1) for all $x, y \\in \\mathbb{Z}$. Substituting $x=0$ and $y=f(0)$ into $(1)$ we learn that the number $z=-f(f(0))$ satisfies $f(z)=-1$. So by plugging $y=z$ into (1) we deduce that\n\n$$\nf(x+1)=f(f(x))\n$$\n\nholds for all $x \\in \\mathbb{Z}$. Thereby (1) simplifies to\n\n$$\nf(x-f(y))=f(x+1)-f(y)-1 .\n$$\n\nWe now work towards showing that $f$ is linear by contemplating the difference $f(x+1)-f(x)$ for any $x \\in \\mathbb{Z}$. By applying (3) with $y=x$ and (2) in this order, we obtain\n\n$$\nf(x+1)-f(x)=f(x-f(x))+1=f(f(x-1-f(x)))+1 .\n$$\n\nSince (3) shows $f(x-1-f(x))=f(x)-f(x)-1=-1$, this simplifies to\n\n$$\nf(x+1)=f(x)+A,\n$$\n\nwhere $A=f(-1)+1$ is some absolute constant.\n\nNow a standard induction in both directions reveals that $f$ is indeed linear and that in fact we have $f(x)=A x+B$ for all $x \\in \\mathbb{Z}$, where $B=f(0)$. Substituting this into (2) we obtain that\n\n$$\nA x+(A+B)=A^{2} x+(A B+B)\n$$\n\nholds for all $x \\in \\mathbb{Z}$; applying this to $x=0$ and $x=1$ we infer $A+B=A B+B$ and $A^{2}=A$. The second equation leads to $A=0$ or $A=1$. In case $A=1$, the first equation gives $B=1$, meaning that $f$ has to be the successor function. If $A=0$, then $f$ is constant and (1) shows that its constant value has to be $-1$. Thereby the solution is complete.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2015_algebra_p4",
    "formal_statement": "theorem fimo_2015_algebra_p4\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, f (x + f (x + y)) + f (x * y) = x + f (x + y) + y * f x) :\n  (∀ x, f x = x) ∨ (∀ x, f x = 2 - x) := by sorry",
    "informal_statement": "Find all functions $f: \\mathbb{R} \\rightarrow \\mathbb{R}$ satisfying the equation\n\n$$\nf(x+f(x+y))+f(x y)=x+f(x+y)+y f(x)\n$$\n\nfor all real numbers $x$ and $y$.\n\nThe final answer is that there are two such functions, namely the identity function and $x \\mapsto 2-x$.",
    "informal_proof": "Clearly, each of the functions $x \\mapsto x$ and $x \\mapsto 2-x$ satisfies (1). It suffices now to show that they are the only solutions to the problem.\n\nSuppose that $f$ is any function satisfying (1). Then setting $y=1$ in (1), we obtain\n\n$$\nf(x+f(x+1))=x+f(x+1)\n$$\n\nin other words, $x+f(x+1)$ is a fixed point of $f$ for every $x \\in \\mathbb{R}$.\n\nWe distinguish two cases regarding the value of $f(0)$.\n\nCase 1. $f(0) \\neq 0$.\n\nBy letting $x=0$ in (1), we have\n\n$$\nf(f(y))+f(0)=f(y)+y f(0) .\n$$\n\nSo, if $y_{0}$ is a fixed point of $f$, then substituting $y=y_{0}$ in the above equation we get $y_{0}=1$. Thus, it follows from (2) that $x+f(x+1)=1$ for all $x \\in \\mathbb{R}$. That is, $f(x)=2-x$ for all $x \\in \\mathbb{R}$.\n\nCase 2. $f(0)=0$.\n\nBy letting $y=0$ and replacing $x$ by $x+1$ in (1), we obtain\n\n$$\nf(x+f(x+1)+1)=x+f(x+1)+1 .\n$$\n\nFrom (1), the substitution $x=1$ yields\n\n$$\nf(1+f(y+1))+f(y)=1+f(y+1)+y f(1) .\n$$\n\nBy plugging $x=-1$ into (2), we see that $f(-1)=-1$. We then plug $y=-1$ into (4) and deduce that $f(1)=1$. Hence, (4) reduces to\n\n$$\nf(1+f(y+1))+f(y)=1+f(y+1)+y .\n$$\n\nAccordingly, if both $y_{0}$ and $y_{0}+1$ are fixed points of $f$, then so is $y_{0}+2$. Thus, it follows from (2) and (3) that $x+f(x+1)+2$ is a fixed point of $f$ for every $x \\in \\mathbb{R}$; i.e.,\n\n$$\nf(x+f(x+1)+2)=x+f(x+1)+2 .\n$$\n\nReplacing $x$ by $x-2$ simplifies the above equation to\n\n$$\nf(x+f(x-1))=x+f(x-1) .\n$$\n\nOn the other hand, we set $y=-1$ in (1) and get\n\n$$\nf(x+f(x-1))=x+f(x-1)-f(x)-f(-x) .\n$$\n\nTherefore, $f(-x)=-f(x)$ for all $x \\in \\mathbb{R}$.\n\nFinally, we substitute $(x, y)$ by $(-1,-y)$ in $(1)$ and use the fact that $f(-1)=-1$ to get\n\n$$\nf(-1+f(-y-1))+f(y)=-1+f(-y-1)+y .\n$$\n\nSince $f$ is an odd function, the above equation becomes\n\n$$\n-f(1+f(y+1))+f(y)=-1-f(y+1)+y .\n$$\n\nBy adding this equation to (5), we conclude that $f(y)=y$ for all $y \\in \\mathbb{R}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2015_algebra_p5",
    "formal_statement": "theorem fimo_2015_algebra_p5\n  (f : ℤ → ℤ)\n  (h₀ : ∀ x, Odd (f x))\n  (h₁ : ∀ x y, f (x + f x + y) + f (x - f x - y) = f (x + y) + f (x - y)) :\n  ∀ x, ∃ (d : ℕ) (k : ℤ) (ℓ : Fin d → ℤ),\n    Odd d ∧\n    (∀ i : Fin d, Odd (ℓ i)) ∧\n    (∃ (m: Fin d) (i : Fin d), x = m * d + i ∧ f x = 2 * k * m * d + ℓ i * d) := by sorry",
    "informal_statement": "Let $2 \\mathbb{Z}+1$ denote the set of odd integers. Find all functions $f: \\mathbb{Z} \\rightarrow 2 \\mathbb{Z}+1$ satisfying\n\n$$\nf(x+f(x)+y)+f(x-f(x)-y)=f(x+y)+f(x-y)\n$$\n\nfor every $x, y \\in \\mathbb{Z}$.\n\nThe final answer is that fix an odd positive integer $d$, an integer $k$, and odd integers $\\ell_{0}, \\ell_{1}, \\ldots, \\ell_{d-1}$. Then the function defined as\n\n$$\nf(m d+i)=2 k m d+\\ell_{i} d \\quad(m \\in \\mathbb{Z}, \\quad i=0,1, \\ldots, d-1)\n$$\n\nsatisfies the problem requirements, and these are all such functions.",
    "informal_proof": "Throughout the solution, all functions are assumed to map integers to integers.\n\nFor any function $g$ and any nonzero integer $t$, define\n\n$$\n\\Delta_{t} g(x)=g(x+t)-g(x) .\n$$\n\nFor any nonzero integers $a$ and $b$, notice that $\\Delta_{a} \\Delta_{b} g=\\Delta_{b} \\Delta_{a} g$. Moreover, if $\\Delta_{a} g=0$ and $\\Delta_{b} g=0$, then $\\Delta_{a+b} g=0$ and $\\Delta_{a t} g=0$ for all nonzero integers $t$. We say that $g$ is $t$-quasiperiodic if $\\Delta_{t} g$ is a constant function (in other words, if $\\Delta_{1} \\Delta_{t} g=0$, or $\\Delta_{1} g$ is $t$-periodic). In this case, we call $t$ a quasi-period of $g$. We say that $g$ is quasi-periodic if it is $t$-quasi-periodic for some nonzero integer $t$.\n\nNotice that a quasi-period of $g$ is a period of $\\Delta_{1} g$. So if $g$ is quasi-periodic, then its minimal positive quasi-period $t$ divides all its quasi-periods.\n\nWe now assume that $f$ satisfies (1). First, by setting $a=x+y$, the problem condition can be rewritten as\n\n$$\n\\Delta_{f(x)} f(a)=\\Delta_{f(x)} f(2 x-a-f(x)) \\quad \\text { for all } x, a \\in \\mathbb{Z} .\n$$\n\nLet $b$ be an arbitrary integer and let $k$ be an arbitrary positive integer. Applying (2) when $a$ is substituted by $b, b+f(x), \\ldots, b+(k-1) f(x)$ and summing up all these equations, we get\n\n$$\n\\Delta_{k f(x)} f(b)=\\Delta_{k f(x)} f(2 x-b-k f(x)) .\n$$\n\nNotice that a similar argument works when $k$ is negative, so that\n\n$$\n\\Delta_{M} f(b)=\\Delta_{M} f(2 x-b-M) \\quad \\text { for any nonzero integer } M \\text { such that } f(x) \\mid M\n$$\n\nWe now prove two lemmas.\n\nLemma 1. For any distinct integers $x$ and $y$, the function $\\Delta_{\\operatorname{lcm}(f(x), f(y))} f$ is $2(y-x)$-periodic. Proof. Denote $L=\\operatorname{lcm}(f(x), f(y))$. Applying (3) twice, we obtain\n\n$$\n\\Delta_{L} f(b)=\\Delta_{L} f(2 x-b-L)=\\Delta_{L} f(2 y-(b+2(y-x))-L)=\\Delta_{L} f(b+2(y-x)) .\n$$\n\nThus, the function $\\Delta_{L} f$ is $2(y-x)$-periodic, as required.\n\nLemma 2. Let $g$ be a function. If $t$ and $s$ are nonzero integers such that $\\Delta_{t s} g=0$ and $\\Delta_{t} \\Delta_{t} g=0$, then $\\Delta_{t} g=0$\n\nProof. Assume, without loss of generality, that $s$ is positive. Let a be an arbitrary integer. Since $\\Delta_{t} \\Delta_{t} g=0$, we have\n\n$$\n\\Delta_{t} g(a)=\\Delta_{t} g(a+t)=\\cdots=\\Delta_{t} g(a+(s-1) t) .\n$$\n\nThe sum of these $s$ equal numbers is $\\Delta_{t s} g(a)=0$, so each of them is zero, as required. We now return to the solution.\n\nStep 1. We prove that $f$ is quasi-periodic.\n\nLet $Q=\\operatorname{lcm}(f(0), f(1))$. Applying Lemma 1, we get that the function $g=\\Delta_{Q} f$ is 2-periodic. In other words, the values of $g$ are constant on even numbers and on odd numbers separately. Moreover, setting $M=Q$ and $x=b=0$ in (3), we get $g(0)=g(-Q)$. Since 0 and $-Q$ have different parities, the value of $g$ at even numbers is the same as that at odd numbers. Thus, $g$ is constant, which means that $Q$ is a quasi-period of $f$.\n\nStep 2. Denote the minimal positive quasi-period of $f$ by $T$. We prove that $T \\mid f(x)$ for all integers $x$.\n\nSince an odd number $Q$ is a quasi-period of $f$, the number $T$ is also odd. Now suppose, to the contrary, that there exist an odd prime $p$, a positive integer $\\alpha$, and an integer $u$ such that $p^{\\alpha} \\mid T$ but $p^{\\alpha} \\nmid f(u)$. Setting $x=u$ and $y=0$ in $(1)$, we have $2 f(u)=f(u+f(u))+f(u-f(u))$, so $p^{\\alpha}$ does not divide the value of $f$ at one of the points $u+f(u)$ or $u-f(u)$. Denote this point by $v$.\n\nLet $L=\\operatorname{lcm}(f(u), f(v))$. Since $|u-v|=f(u)$, from Lemma 1 we get $\\Delta_{2 f(u)} \\Delta_{L} f=0$. Hence the function $\\Delta_{L} f$ is $2 f(u)$-periodic as well as $T$-periodic, so it is $\\operatorname{gcd}(T, 2 f(u))$-periodic, or $\\Delta_{\\operatorname{gcd}(T, 2 f(u))} \\Delta_{L} f=0$. Similarly, observe that the function $\\Delta_{\\operatorname{gcd}(T, 2 f(u))} f$ is $L$-periodic as well as $T$-periodic, so we may conclude that $\\Delta_{\\operatorname{gcd}(T, L)} \\Delta_{\\operatorname{gcd}(T, 2 f(u))} f=0$. Since $p^{\\alpha} \\nmid L$, both $\\operatorname{gcd}(T, 2 f(u))$ and $\\operatorname{gcd}(T, L)$ divide $T / p$. We thus obtain $\\Delta_{T / p} \\Delta_{T / p} f=0$, which yields\n\n$$\n\\Delta_{T / p} \\Delta_{T / p} \\Delta_{1} f=0 .\n$$\n\nSince $\\Delta_{T} \\Delta_{1} f=0$, we can apply Lemma 2 to the function $\\Delta_{1} f$, obtaining $\\Delta_{T / p} \\Delta_{1} f=0$. However, this means that $f$ is $(T / p)$-quasi-periodic, contradicting the minimality of $T$. Our claim is proved.\n\nStep 3. We describe all functions $f$.\n\nLet $d$ be the greatest common divisor of all values of $f$. Then $d$ is odd. By Step $2, d$ is a quasi-period of $f$, so that $\\Delta_{d} f$ is constant. Since the value of $\\Delta_{d} f$ is even and divisible by $d$, we may denote this constant by $2 d k$, where $k$ is an integer. Next, for all $i=0,1, \\ldots, d-1$, define $\\ell_{i}=f(i) / d$; notice that $\\ell_{i}$ is odd. Then\n\n$$\nf(m d+i)=\\Delta_{m d} f(i)+f(i)=2 k m d+\\ell_{i} d \\quad \\text { for all } m \\in \\mathbb{Z} \\quad \\text { and } i=0,1, \\ldots, d-1 .\n$$\n\nThis shows that all functions satisfying (1) are listed in the answer.\n\nIt remains to check that all such functions indeed satisfy (1). This is equivalent to checking (2), which is true because for every integer $x$, the value of $f(x)$ is divisible by $d$, so that $\\Delta_{f(x)} f$ is constant.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2015_number_theory_p2",
    "formal_statement": "theorem fimo_2015_number_theory_p2\n  (a b k : ℕ)\n  (h₀ : 0 < a)\n  (h₁ : 0 < b)\n  (h₂ : a! * b! = k * (a! + b!)) :\n  3 * a ≥ 2 * b + 2 := by sorry",
    "informal_statement": "Let $a$ and $b$ be positive integers such that $a ! b$ ! is a multiple of $a !+b !$. Prove that $3 a \\geqslant 2 b+2$.",
    "informal_proof": "If $a>b$, we immediately get $3 a \\geqslant 2 b+2$. In the case $a=b$, the required inequality is equivalent to $a \\geqslant 2$, which can be checked easily since $(a, b)=(1,1)$ does not satisfy $a !+b ! \\mid a ! b !$. We now assume $a<b$ and denote $c=b-a$. The required inequality becomes $a \\geqslant 2 c+2$.\n\nSuppose, to the contrary, that $a \\leqslant 2 c+1$. Define $M=\\frac{b !}{a !}=(a+1)(a+2) \\cdots(a+c)$. Since $a !+b ! \\mid a ! b$ ! implies $1+M \\mid a ! M$, we obtain $1+M \\mid a$ ! . Note that we must have $c<a$; otherwise $1+M>a$ !, which is impossible. We observe that $c ! \\mid M$ since $M$ is a product of $c$ consecutive integers. Thus $\\operatorname{gcd}(1+M, c !)=1$, which implies\n\n$$\n1+M \\mid \\frac{a !}{c !}=(c+1)(c+2) \\cdots a .\n$$\n\nIf $a \\leqslant 2 c$, then $\\frac{a !}{c !}$ is a product of $a-c \\leqslant c$ integers not exceeding $a$ whereas $M$ is a product of $c$ integers exceeding $a$. Therefore, $1+M>\\frac{a !}{c !}$, which is a contradiction.\n\nIt remains to exclude the case $a=2 c+1$. Since $a+1=2(c+1)$, we have $c+1 \\mid M$. Hence, we can deduce from (1) that $1+M \\mid(c+2)(c+3) \\cdots a$. Now $(c+2)(c+3) \\cdots a$ is a product of $a-c-1=c$ integers not exceeding $a$; thus it is smaller than $1+M$. Again, we arrive at a contradiction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2015_number_theory_p4",
    "formal_statement": "theorem fimo_2015_number_theory_p4 :\n  ∀ (a b : ℕ → ℕ),\n  (a 0 ≥ 2 ∧ b 0 ≥ 2) →\n  (∀ n, a (n + 1) = Nat.gcd (a n) (b n) + 1 ∧ b (n + 1) = Nat.lcm (a n) (b n) - 1) →\n  ∃ (N t : ℕ), t > 0 ∧ ∀ n, n ≥ N → a (n + t) = a n := by sorry",
    "informal_statement": "Suppose that $a_{0}, a_{1}, \\ldots$ and $b_{0}, b_{1}, \\ldots$ are two sequences of positive integers satisfying $a_{0}, b_{0} \\geqslant 2$ and\n\n$$\na_{n+1}=\\operatorname{gcd}\\left(a_{n}, b_{n}\\right)+1, \\quad b_{n+1}=\\operatorname{lcm}\\left(a_{n}, b_{n}\\right)-1\n$$\n\nfor all $n \\geqslant 0$. Prove that the sequence $\\left(a_{n}\\right)$ is eventually periodic; in other words, there exist integers $N \\geqslant 0$ and $t>0$ such that $a_{n+t}=a_{n}$ for all $n \\geqslant N$",
    "informal_proof": "Let $s_{n}=a_{n}+b_{n}$. Notice that if $a_{n} \\mid b_{n}$, then $a_{n+1}=a_{n}+1, b_{n+1}=b_{n}-1$ and $s_{n+1}=s_{n}$. So, $a_{n}$ increases by 1 and $s_{n}$ does not change until the first index is reached with $a_{n} \\nmid s_{n}$. Define\n\n$$\nW_{n}=\\left\\{m \\in \\mathbb{Z}_{>0}: m \\geqslant a_{n} \\text { and } m \\nmid s_{n}\\right\\} \\quad \\text { and } \\quad w_{n}=\\min W_{n} \\text {. }\n$$\n\nClaim 1. The sequence $\\left(w_{n}\\right)$ is non-increasing.\n\nProof. If $a_{n} \\mid b_{n}$ then $a_{n+1}=a_{n}+1$. Due to $a_{n} \\mid s_{n}$, we have $a_{n} \\notin W_{n}$. Moreover $s_{n+1}=s_{n}$; therefore, $W_{n+1}=W_{n}$ and $w_{n+1}=w_{n}$.\n\nOtherwise, if $a_{n} \\nmid b_{n}$, then $a_{n} \\nmid s_{n}$, so $a_{n} \\in W_{n}$ and thus $w_{n}=a_{n}$. We show that $a_{n} \\in W_{n+1}$; this implies $w_{n+1} \\leqslant a_{n}=w_{n}$. By the definition of $W_{n+1}$, we need that $a_{n} \\geqslant a_{n+1}$ and $a_{n} \\nmid s_{n+1}$. The first relation holds because of $\\operatorname{gcd}\\left(a_{n}, b_{n}\\right)<a_{n}$. For the second relation, observe that in $s_{n+1}=\\operatorname{gcd}\\left(a_{n}, b_{n}\\right)+\\operatorname{lcm}\\left(a_{n}, b_{n}\\right)$, the second term is divisible by $a_{n}$, but the first term is not. So $a_{n} \\nmid s_{n+1}$; that completes the proof of the claim.\n\nLet $w=\\min _{n} w_{n}$ and let $N$ be an index with $w=w_{N}$. Due to Claim 1 , we have $w_{n}=w$ for all $n \\geqslant N$.\n\nLet $g_{n}=\\operatorname{gcd}\\left(w, s_{n}\\right)$. As we have seen, starting from an arbitrary index $n \\geqslant N$, the sequence $a_{n}, a_{n+1}, \\ldots$ increases by 1 until it reaches $w$, which is the first value not dividing $s_{n}$; then it drops to $\\operatorname{gcd}\\left(w, s_{n}\\right)+1=g_{n}+1$.\n\nClaim 2. The sequence $\\left(g_{n}\\right)$ is constant for $n \\geqslant N$.\n\nProof. If $a_{n} \\mid b_{n}$, then $s_{n+1}=s_{n}$ and hence $g_{n+1}=g_{n}$. Otherwise we have $a_{n}=w$,\n\n$$\n\\begin{aligned}\n\\operatorname{gcd}\\left(a_{n}, b_{n}\\right) & =\\operatorname{gcd}\\left(a_{n}, s_{n}\\right)=\\operatorname{gcd}\\left(w, s_{n}\\right)=g_{n} \\\\\ns_{n+1} & =\\operatorname{gcd}\\left(a_{n}, b_{n}\\right)+\\operatorname{lcm}\\left(a_{n}, b_{n}\\right)=g_{n}+\\frac{a_{n} b_{n}}{g_{n}}=g_{n}+\\frac{w\\left(s_{n}-w\\right)}{g_{n}} \\\\\n\\text { and } g_{n+1} & =\\operatorname{gcd}\\left(w, s_{n+1}\\right)=\\operatorname{gcd}\\left(w, g_{n}+\\frac{s_{n}-w}{g_{n}} w\\right)=\\operatorname{gcd}\\left(w, g_{n}\\right)=g_{n} .\n\\end{aligned}\n$$\n\nLet $g=g_{N}$. We have proved that the sequence $\\left(a_{n}\\right)$ eventually repeats the following cycle:\n\n$$\ng+1 \\mapsto g+2 \\mapsto \\ldots \\mapsto w \\mapsto g+1 .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2015_number_theory_p5",
    "formal_statement": "theorem fimo_2015_number_theory_p5\n  (a b c : ℕ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c)\n  (h₁ : ∃ n : ℕ, a * b - c = 2^n)\n  (h₂ : ∃ m : ℕ, b * c - a = 2^m)\n  (h₃ : ∃ k : ℕ, c * a - b = 2^k) :\n  (a, b, c) = (2, 2, 2) ∨ (a, b, c) = (2, 2, 3) ∨ (a, b, c) = (2, 3, 2) ∨ (a, b, c) = (3, 2, 2) ∨ (a, b, c) = (2, 6, 11) ∨ (a, b, c) = (2, 11, 6) ∨ (a, b, c) = (6, 2, 11) ∨ (a, b, c) = (6, 11, 2) ∨ (a, b, c) = (11, 2, 6) ∨ (a, b, c) = (11, 6, 2) ∨ (a, b, c) = (3, 5, 7) ∨ (a, b, c) = (3, 7, 5) ∨ (a, b, c) = (5, 3, 7) ∨ (a, b, c) = (5, 7, 3) ∨ (a, b, c) = (7, 3, 5) ∨ (a, b, c) = (7, 5, 3) := by sorry",
    "informal_statement": "Determine all triples $(a, b, c)$ of positive integers for which $a b-c, b c-a$, and $c a-b$ are powers of 2.\n\nExplanation: A power of 2 is an integer of the form $2^{n}$, where $n$ denotes some nonnegative integer.\n\nThe final answer is that there are sixteen such triples, namely $(2,2,2)$, the three permutations of $(2,2,3)$, and the six permutations of each of $(2,6,11)$ and $(3,5,7)$.",
    "informal_proof": "It can easily be verified that these sixteen triples are as required. Now let $(a, b, c)$ be any triple with the desired property. If we would have $a=1$, then both $b-c$ and $c-b$ were powers of 2, which is impossible since their sum is zero; because of symmetry, this argument shows $a, b, c \\geqslant 2$.\n\nCase 1. Among $a, b$, and $c$ there are at least two equal numbers.\n\nWithout loss of generality we may suppose that $a=b$. Then $a^{2}-c$ and $a(c-1)$ are powers of 2. The latter tells us that actually $a$ and $c-1$ are powers of 2 . So there are nonnegative integers $\\alpha$ and $\\gamma$ with $a=2^{\\alpha}$ and $c=2^{\\gamma}+1$. Since $a^{2}-c=2^{2 \\alpha}-2^{\\gamma}-1$ is a power of 2 and thus incongruent to $-1$ modulo 4 , we must have $\\gamma \\leqslant 1$. Moreover, each of the terms $2^{2 \\alpha}-2$ and $2^{2 \\alpha}-3$ can only be a power of 2 if $\\alpha=1$. It follows that the triple $(a, b, c)$ is either $(2,2,2)$ or $(2,2,3)$.\n\nCase 2. The numbers $a, b$, and c are distinct.\n\nDue to symmetry we may suppose that\n\n$$\n2 \\leqslant a<b<c .\n$$\n\nWe are to prove that the triple $(a, b, c)$ is either $(2,6,11)$ or $(3,5,7)$. By our hypothesis, there exist three nonnegative integers $\\alpha, \\beta$, and $\\gamma$ such that\n\n$$\n\\begin{aligned}\nb c-a & =2^{\\alpha}, \\\\\na c-b & =2^{\\beta}, \\\\\na b-c & =2^{\\gamma} .\n\\end{aligned}\n$$\n\nEvidently we have\n\n$$\n\\alpha>\\beta>\\gamma .\n$$\n\nDepending on how large $a$ is, we divide the argument into two further cases.\n\nCase 2.1. $\\quad a=2$.\n\nWe first prove that $\\gamma=0$. Assume for the sake of contradiction that $\\gamma>0$. Then $c$ is even by (4) and, similarly, $b$ is even by (5) and (3). So the left-hand side of (2) is congruent to 2 modulo 4, which is only possible if $b c=4$. As this contradicts (1), we have thereby shown that $\\gamma=0$, i.e., that $c=2 b-1$\n\nNow (3) yields $3 b-2=2^{\\beta}$. Due to $b>2$ this is only possible if $\\beta \\geqslant 4$. If $\\beta=4$, then we get $b=6$ and $c=2 \\cdot 6-1=11$, which is a solution. It remains to deal with the case $\\beta \\geqslant 5$. Now (2) implies\n\n$$\n9 \\cdot 2^{\\alpha}=9 b(2 b-1)-18=(3 b-2)(6 b+1)-16=2^{\\beta}\\left(2^{\\beta+1}+5\\right)-16,\n$$\n\nand by $\\beta \\geqslant 5$ the right-hand side is not divisible by 32 . Thus $\\alpha \\leqslant 4$ and we get a contradiction to $(5)$ Case 2.2. $a \\geqslant 3$.\n\nPick an integer $\\vartheta \\in\\{-1,+1\\}$ such that $c-\\vartheta$ is not divisible by 4 . Now\n\n$$\n2^{\\alpha}+\\vartheta \\cdot 2^{\\beta}=\\left(b c-a \\vartheta^{2}\\right)+\\vartheta(c a-b)=(b+a \\vartheta)(c-\\vartheta)\n$$\n\nis divisible by $2^{\\beta}$ and, consequently, $b+a \\vartheta$ is divisible by $2^{\\beta-1}$. On the other hand, $2^{\\beta}=a c-b>$ $(a-1) c \\geqslant 2 c$ implies in view of $(1)$ that $a$ and $b$ are smaller than $2^{\\beta-1}$. All this is only possible if $\\vartheta=1$ and $a+b=2^{\\beta-1}$. Now (3) yields\n\n$$\na c-b=2(a+b),\n$$\n\nwhence $4 b>a+3 b=a(c-1) \\geqslant a b$, which in turn yields $a=3$.\n\nSo (6) simplifies to $c=b+2$ and (2) tells us that $b(b+2)-3=(b-1)(b+3)$ is a power of 2. Consequently, the factors $b-1$ and $b+3$ are powers of 2 themselves. Since their difference is 4 , this is only possible if $b=5$ and thus $c=7$. Thereby the solution is complete.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p1",
    "formal_statement": "theorem fimo_2016_algebra_p1\n  (a b c : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c)\n  (h₁ : min (a * b) (min (b * c) (c * a)) ≥ 1) :\n  (a^2 + 1) * (b^2 + 1) * (c^2 + 1) ≤ (((a + b + c) / 3)^2 + 1)^(3) := by sorry",
    "informal_statement": "Let $a, b$ and $c$ be positive real numbers such that $\\min \\{a b, b c, c a\\} \\geqslant 1$. Prove that\n\n$$\n\\sqrt[3]{\\left(a^{2}+1\\right)\\left(b^{2}+1\\right)\\left(c^{2}+1\\right)} \\leqslant\\left(\\frac{a+b+c}{3}\\right)^{2}+1\n$$",
    "informal_proof": "We first show the following.\n\n\\begin{itemize}\n  \\item Claim. For any positive real numbers $x, y$ with $x y \\geqslant 1$, we have\n\\end{itemize}\n\n$$\n\\left(x^{2}+1\\right)\\left(y^{2}+1\\right) \\leqslant\\left(\\left(\\frac{x+y}{2}\\right)^{2}+1\\right)^{2}\n$$\n\nProof. Note that $x y \\geqslant 1$ implies $\\left(\\frac{x+y}{2}\\right)^{2}-1 \\geqslant x y-1 \\geqslant 0$. We find that\n\n$$\n\\left(x^{2}+1\\right)\\left(y^{2}+1\\right)=(x y-1)^{2}+(x+y)^{2} \\leqslant\\left(\\left(\\frac{x+y}{2}\\right)^{2}-1\\right)^{2}+(x+y)^{2}=\\left(\\left(\\frac{x+y}{2}\\right)^{2}+1\\right)^{2} .\n$$\n\nWithout loss of generality, assume $a \\geqslant b \\geqslant c$. This implies $a \\geqslant 1$. Let $d=\\frac{a+b+c}{3}$. Note that\n\n$$\na d=\\frac{a(a+b+c)}{3} \\geqslant \\frac{1+1+1}{3}=1 .\n$$\n\nThen we can apply (2) to the pair $(a, d)$ and the pair $(b, c)$. We get\n\n$$\n\\left(a^{2}+1\\right)\\left(d^{2}+1\\right)\\left(b^{2}+1\\right)\\left(c^{2}+1\\right) \\leqslant\\left(\\left(\\frac{a+d}{2}\\right)^{2}+1\\right)^{2}\\left(\\left(\\frac{b+c}{2}\\right)^{2}+1\\right)^{2}\n$$\n\nNext, from\n\n$$\n\\frac{a+d}{2} \\cdot \\frac{b+c}{2} \\geqslant \\sqrt{a d} \\cdot \\sqrt{b c} \\geqslant 1\n$$\n\nwe can apply (2) again to the pair $\\left(\\frac{a+d}{2}, \\frac{b+c}{2}\\right)$. Together with (3), we have\n\n$$\n\\left(a^{2}+1\\right)\\left(d^{2}+1\\right)\\left(b^{2}+1\\right)\\left(c^{2}+1\\right) \\leqslant\\left(\\left(\\frac{a+b+c+d}{4}\\right)^{2}+1\\right)^{4}=\\left(d^{2}+1\\right)^{4} .\n$$\n\nTherefore, $\\left(a^{2}+1\\right)\\left(b^{2}+1\\right)\\left(c^{2}+1\\right) \\leqslant\\left(d^{2}+1\\right)^{3}$, and (1) follows by taking cube root of both sides.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p2",
    "formal_statement": "theorem fimo_2016_algebra_p2\n  (C : ℝ)\n  (a : Fin 5 → ℝ)\n  (h₀ : ∀ i j k l, i ≠ j ∧ i ≠ k ∧ i ≠ l ∧ j ≠ k ∧ j ≠ l ∧ k ≠ l → abs (a i / a j - a k / a l) ≤ C)\n  (h₁ : ∀ i j k l, i ≠ j ∧ i ≠ k ∧ i ≠ l ∧ j ≠ k ∧ j ≠ l ∧ k ≠ l → 0 < a i ∧ 0 < a j ∧ 0 < a k ∧ 0 < a l) :\n  C ≥ 1 / 2 := by sorry",
    "informal_statement": "Find the smallest real constant $C$ such that for any positive real numbers $a_{1}, a_{2}, a_{3}, a_{4}$ and $a_{5}$ (not necessarily distinct), one can always choose distinct subscripts $i, j, k$ and $l$ such that\n\n$$\n\\left|\\frac{a_{i}}{a_{j}}-\\frac{a_{k}}{a_{l}}\\right| \\leqslant C .\n$$\n\nThe final answer is that the smallest $C$ is $\\frac{1}{2}$.",
    "informal_proof": "We first show that $C \\leqslant \\frac{1}{2}$. For any positive real numbers $a_{1} \\leqslant a_{2} \\leqslant a_{3} \\leqslant a_{4} \\leqslant a_{5}$, consider the five fractions\n\n$$\n\\frac{a_{1}}{a_{2}}, \\frac{a_{3}}{a_{4}}, \\frac{a_{1}}{a_{5}}, \\frac{a_{2}}{a_{3}}, \\frac{a_{4}}{a_{5}} .\n$$\n\nEach of them lies in the interval $(0,1]$. Therefore, by the Pigeonhole Principle, at least three of them must lie in $\\left(0, \\frac{1}{2}\\right]$ or lie in $\\left(\\frac{1}{2}, 1\\right]$ simultaneously. In particular, there must be two consecutive terms in (2) which belong to an interval of length $\\frac{1}{2}$ (here, we regard $\\frac{a_{1}}{a_{2}}$ and $\\frac{a_{4}}{a_{5}}$ as consecutive). In other words, the difference of these two fractions is less than $\\frac{1}{2}$. As the indices involved in these two fractions are distinct, we can choose them to be $i, j, k, l$ and conclude that $C \\leqslant \\frac{1}{2}$.\n\nNext, we show that $C=\\frac{1}{2}$ is best possible. Consider the numbers $1,2,2,2, n$ where $n$ is a large real number. The fractions formed by two of these numbers in ascending order are $\\frac{1}{n}, \\frac{2}{n}, \\frac{1}{2}, \\frac{2}{2}, \\frac{2}{1}, \\frac{n}{2}, \\frac{n}{1}$. Since the indices $i, j, k, l$ are distinct, $\\frac{1}{n}$ and $\\frac{2}{n}$ cannot be chosen simultaneously. Therefore the minimum value of the left-hand side of $(1)$ is $\\frac{1}{2}-\\frac{2}{n}$. When $n$ tends to infinity, this value approaches $\\frac{1}{2}$, and so $C$ cannot be less than $\\frac{1}{2}$.\n\nThese conclude that $C=\\frac{1}{2}$ is the smallest possible choice.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p3",
    "formal_statement": "theorem fimo_2016_algebra_p3\n  (n : ℕ)\n  (a b x : Fin n → ℝ)\n  (h₀ : n ≥ 3)\n  (h₁ : ∀ k, abs (a k) + abs (b k) = 1)\n  (h₂ : ∀ k, x k = -1 ∨ x k = 1)\n  (h₃ : abs (∑ k, x k * a k) + abs (∑ k, x k * b k) ≤ 1) :\n  Odd n := by sorry",
    "informal_statement": "Find all integers $n \\geqslant 3$ with the following property: for all real numbers $a_{1}, a_{2}, \\ldots, a_{n}$ and $b_{1}, b_{2}, \\ldots, b_{n}$ satisfying $\\left|a_{k}\\right|+\\left|b_{k}\\right|=1$ for $1 \\leqslant k \\leqslant n$, there exist $x_{1}, x_{2}, \\ldots, x_{n}$, each of which is either $-1$ or 1 , such that\n\n$$\n\\left|\\sum_{k=1}^{n} x_{k} a_{k}\\right|+\\left|\\sum_{k=1}^{n} x_{k} b_{k}\\right| \\leqslant 1 .\n$$\n\nThe final answer is that $n$ can be any odd integer greater than or equal to 3 .",
    "informal_proof": "For any even integer $n \\geqslant 4$, we consider the case\n\n$$\na_{1}=a_{2}=\\cdots=a_{n-1}=b_{n}=0 \\quad \\text { and } \\quad b_{1}=b_{2}=\\cdots=b_{n-1}=a_{n}=1 .\n$$\n\nThe condition $\\left|a_{k}\\right|+\\left|b_{k}\\right|=1$ is satisfied for each $1 \\leqslant k \\leqslant n$. No matter how we choose each $x_{k}$, both sums $\\sum_{k=1}^{n} x_{k} a_{k}$ and $\\sum_{k=1}^{n} x_{k} b_{k}$ are odd integers. This implies $\\left|\\sum_{k=1}^{n} x_{k} a_{k}\\right| \\geqslant 1$ and $\\left|\\sum_{k=1}^{n} x_{k} b_{k}\\right| \\geqslant 1$, which shows (1) cannot hold.\n\nFor any odd integer $n \\geqslant 3$, we may assume without loss of generality $b_{k} \\geqslant 0$ for $1 \\leqslant k \\leqslant n$ (this can be done by flipping the pair $\\left(a_{k}, b_{k}\\right)$ to $\\left(-a_{k},-b_{k}\\right)$ and $x_{k}$ to $-x_{k}$ if necessary) and $a_{1} \\geqslant a_{2} \\geqslant \\cdots \\geqslant a_{m} \\geqslant 0>a_{m+1} \\geqslant \\cdots \\geqslant a_{n}$. We claim that the choice $x_{k}=(-1)^{k+1}$ for $1 \\leqslant k \\leqslant n$ will work. Define\n\n$$\ns=\\sum_{k=1}^{m} x_{k} a_{k} \\quad \\text { and } \\quad t=-\\sum_{k=m+1}^{n} x_{k} a_{k} .\n$$\n\nNote that\n\n$$\ns=\\left(a_{1}-a_{2}\\right)+\\left(a_{3}-a_{4}\\right)+\\cdots \\geqslant 0\n$$\n\nby the assumption $a_{1} \\geqslant a_{2} \\geqslant \\cdots \\geqslant a_{m}$ (when $m$ is odd, there is a single term $a_{m}$ at the end, which is also positive). Next, we have\n\n$$\ns=a_{1}-\\left(a_{2}-a_{3}\\right)-\\left(a_{4}-a_{5}\\right)-\\cdots \\leqslant a_{1} \\leqslant 1 .\n$$\n\nSimilarly,\n\n$$\nt=\\left(-a_{n}+a_{n-1}\\right)+\\left(-a_{n-2}+a_{n-3}\\right)+\\cdots \\geqslant 0\n$$\n\nand\n\n$$\nt=-a_{n}+\\left(a_{n-1}-a_{n-2}\\right)+\\left(a_{n-3}-a_{n-4}\\right)+\\cdots \\leqslant-a_{n} \\leqslant 1 .\n$$\n\nFrom the condition, we have $a_{k}+b_{k}=1$ for $1 \\leqslant k \\leqslant m$ and $-a_{k}+b_{k}=1$ for $m+1 \\leqslant k \\leqslant n$. It follows that $\\sum_{k=1}^{n} x_{k} a_{k}=s-t$ and $\\sum_{k=1}^{n} x_{k} b_{k}=1-s-t$. Hence it remains to prove\n\n$$\n|s-t|+|1-s-t| \\leqslant 1\n$$\n\nunder the constraint $0 \\leqslant s, t \\leqslant 1$. By symmetry, we may assume $s \\geqslant t$. If $1-s-t \\geqslant 0$, then we have\n\n$$\n|s-t|+|1-s-t|=s-t+1-s-t=1-2 t \\leqslant 1 .\n$$\n\nIf $1-s-t \\leqslant 0$, then we have\n\n$$\n|s-t|+|1-s-t|=s-t-1+s+t=2 s-1 \\leqslant 1 .\n$$\n\nHence, the inequality is true in both cases.\n\nThese show $n$ can be any odd integer greater than or equal to 3 .",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p4",
    "formal_statement": "theorem fimo_2016_algebra_p4\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, 0 < x ∧ 0 < y → x * f (x^2) * f (f y) + f (y * f x) = f (x * y) * (f (f (x^2)) + f (f (y^2))))\n  (h₁ : ∀ x, 0 < x → 0 < f x) :\n  ∀ x, 0 < x → f x = 1 / x := by sorry",
    "informal_statement": "Denote by $\\mathbb{R}^{+}$the set of all positive real numbers. Find all functions $f: \\mathbb{R}^{+} \\rightarrow \\mathbb{R}^{+}$such that\n\n$$\nx f\\left(x^{2}\\right) f(f(y))+f(y f(x))=f(x y)\\left(f\\left(f\\left(x^{2}\\right)\\right)+f\\left(f\\left(y^{2}\\right)\\right)\\right)\n$$\n\nfor all positive real numbers $x$ and $y$.\n\nThe final answer is $f(x)=\\frac{1}{x}$ for any $x \\in \\mathbb{R}^{+}$.",
    "informal_proof": "Taking $x=y=1$ in (1), we get $f(1) f(f(1))+f(f(1))=2 f(1) f(f(1))$ and hence $f(1)=1$. Swapping $x$ and $y$ in (1) and comparing with (1) again, we find\n\n$$\nx f\\left(x^{2}\\right) f(f(y))+f(y f(x))=y f\\left(y^{2}\\right) f(f(x))+f(x f(y)) .\n$$\n\nTaking $y=1$ in $(2)$, we have $x f\\left(x^{2}\\right)+f(f(x))=f(f(x))+f(x)$, that is,\n\n$$\nf\\left(x^{2}\\right)=\\frac{f(x)}{x}\n$$\n\nTake $y=1$ in (1) and apply (3) to $x f\\left(x^{2}\\right)$. We get $f(x)+f(f(x))=f(x)\\left(f\\left(f\\left(x^{2}\\right)\\right)+1\\right)$, which implies\n\n$$\nf\\left(f\\left(x^{2}\\right)\\right)=\\frac{f(f(x))}{f(x)}\n$$\n\nFor any $x \\in \\mathbb{R}^{+}$, we find that\n\n$$\nf\\left(f(x)^{2}\\right) \\stackrel{(3)}{=} \\frac{f(f(x))}{f(x)} \\stackrel{(4)}{=} f\\left(f\\left(x^{2}\\right)\\right) \\stackrel{(3)}{=} f\\left(\\frac{f(x)}{x}\\right) .\n$$\n\nIt remains to show the following key step.\n\n\\begin{itemize}\n  \\item Claim. The function $f$ is injective.\n\\end{itemize}\n\nProof. Using (3) and (4), we rewrite (1) as\n\n$$\nf(x) f(f(y))+f(y f(x))=f(x y)\\left(\\frac{f(f(x))}{f(x)}+\\frac{f(f(y))}{f(y)}\\right) .\n$$\n\nTake $x=y$ in (6) and apply (3). This gives $f(x) f(f(x))+f(x f(x))=2 \\frac{f(f(x))}{x}$, which means\n\n$$\nf(x f(x))=f(f(x))\\left(\\frac{2}{x}-f(x)\\right)\n$$\n\nUsing (3), equation (2) can be rewritten as\n\n$$\nf(x) f(f(y))+f(y f(x))=f(y) f(f(x))+f(x f(y))\n$$\n\nSuppose $f(x)=f(y)$ for some $x, y \\in \\mathbb{R}^{+}$. Then (8) implies\n\n$$\nf(y f(y))=f(y f(x))=f(x f(y))=f(x f(x)) .\n$$\n\nUsing $(7)$, this gives\n\n$$\nf(f(y))\\left(\\frac{2}{y}-f(y)\\right)=f(f(x))\\left(\\frac{2}{x}-f(x)\\right) .\n$$\n\nNoting $f(x)=f(y)$, we find $x=y$. This establishes the injectivity. By the Claim and (5), we get the only possible solution $f(x)=\\frac{1}{x}$. It suffices to check that this is a solution. Indeed, the left-hand side of (1) becomes\n\n$$\nx \\cdot \\frac{1}{x^{2}} \\cdot y+\\frac{x}{y}=\\frac{y}{x}+\\frac{x}{y}\n$$\n\nwhile the right-hand side becomes\n\n$$\n\\frac{1}{x y}\\left(x^{2}+y^{2}\\right)=\\frac{x}{y}+\\frac{y}{x}\n$$\n\nThe two sides agree with each other.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p5_1",
    "formal_statement": "theorem fimo_2016_algebra_p5_1\n  (n : ℕ)\n  (h₀ : 0 < n) :\n  ∃ a b : ℕ, 0 < b ∧ b ≤ n.sqrt + 1 ∧ n.sqrt ≤ a / b ∧ a / b ≤ (n + 1).sqrt := by sorry",
    "informal_statement": "Prove that for every positive integer $n$, there exists a fraction $\\frac{a}{b}$ where $a$ and $b$ are integers satisfying $0<b \\leqslant \\sqrt{n}+1$ and $\\sqrt{n} \\leqslant \\frac{a}{b} \\leqslant \\sqrt{n+1}$.",
    "informal_proof": "Let $r$ be the unique positive integer for which $r^{2} \\leqslant n<(r+1)^{2}$. Write $n=r^{2}+s$. Then we have $0 \\leqslant s \\leqslant 2 r$. We discuss in two cases according to the parity of $s$.\n\n\\begin{itemize}\n  \\item Case 1. $s$ is even.\n\\end{itemize}\n\nConsider the number $\\left(r+\\frac{s}{2 r}\\right)^{2}=r^{2}+s+\\left(\\frac{s}{2 r}\\right)^{2}$. We find that\n\n$$\nn=r^{2}+s \\leqslant r^{2}+s+\\left(\\frac{s}{2 r}\\right)^{2} \\leqslant r^{2}+s+1=n+1\n$$\n\nIt follows that\n\n$$\n\\sqrt{n} \\leqslant r+\\frac{s}{2 r} \\leqslant \\sqrt{n+1}\n$$\n\nSince $s$ is even, we can choose the fraction $r+\\frac{s}{2 r}=\\frac{r^{2}+(s / 2)}{r}$ since $r \\leqslant \\sqrt{n}$.\n\n\\begin{itemize}\n  \\item Case 2. $s$ is odd.\n\\end{itemize}\n\nConsider the number $\\left(r+1-\\frac{2 r+1-s}{2(r+1)}\\right)^{2}=(r+1)^{2}-(2 r+1-s)+\\left(\\frac{2 r+1-s}{2(r+1)}\\right)^{2}$. We find that\n\n$$\n\\begin{aligned}\nn=r^{2}+s=(r+1)^{2}-(2 r+1-s) & \\leqslant(r+1)^{2}-(2 r+1-s)+\\left(\\frac{2 r+1-s}{2(r+1)}\\right)^{2} \\\\\n& \\leqslant(r+1)^{2}-(2 r+1-s)+1=n+1 .\n\\end{aligned}\n$$\n\nIt follows that\n\n$$\n\\sqrt{n} \\leqslant r+1-\\frac{2 r+1-s}{2(r+1)} \\leqslant \\sqrt{n+1}\n$$\n\nSince $s$ is odd, we can choose the fraction $(r+1)-\\frac{2 r+1-s}{2(r+1)}=\\frac{(r+1)^{2}-r+((s-1) / 2)}{r+1}$ since $r+1 \\leqslant \\sqrt{n}+1$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p5_2",
    "formal_statement": "theorem fimo_2016_algebra_p5_2 :\n  ∀ N : ℕ, ∃ n : ℕ, n > N ∧ ∀ a b : ℤ, 0 < b ∧ b ≤ Int.sqrt n → ¬(Int.sqrt n ≤ a / b ∧ a / b ≤ Int.sqrt (n + 1)) := by sorry",
    "informal_statement": "Prove that there are infinitely many positive integers $n$ such that there is no fraction $\\frac{a}{b}$ where $a$ and $b$ are integers satisfying $0<b \\leqslant \\sqrt{n}$ and $\\sqrt{n} \\leqslant \\frac{a}{b} \\leqslant \\sqrt{n+1}$.",
    "informal_proof": "We show that for every positive integer $r$, there is no fraction $\\frac{a}{b}$ with $b \\leqslant \\sqrt{r^{2}+1}$ such that $\\sqrt{r^{2}+1} \\leqslant \\frac{a}{b} \\leqslant \\sqrt{r^{2}+2}$. Suppose on the contrary that such a fraction exists. Since $b \\leqslant \\sqrt{r^{2}+1}<r+1$ and $b$ is an integer, we have $b \\leqslant r$. Hence,\n\n$$\n(b r)^{2}<b^{2}\\left(r^{2}+1\\right) \\leqslant a^{2} \\leqslant b^{2}\\left(r^{2}+2\\right) \\leqslant b^{2} r^{2}+2 b r<(b r+1)^{2} .\n$$\n\nThis shows the square number $a^{2}$ is strictly bounded between the two consecutive squares $(b r)^{2}$ and $(b r+1)^{2}$, which is impossible. Hence, we have found infinitely many $n=r^{2}+1$ for which there is no fraction of the desired form.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p7",
    "formal_statement": "theorem fimo_2016_algebra_p7\n  (f : ℝ → ℝ)\n  (h₀ : f 0 ≠ 0)\n  (h₁ : ∀ x y : ℝ, (f (x + y))^2 = 2 * f x * f y + max (f (x^2) + f (y^2)) (f (x^2 + y^2))) :\n  (∀ x : ℝ, f x = -1) ∨ (∀ x : ℝ, f x = x - 1) := by sorry",
    "informal_statement": "Denote by $\\mathbb{R}$ the set of all real numbers. Find all functions $f: \\mathbb{R} \\rightarrow \\mathbb{R}$ such that $f(0) \\neq 0$ and\n\n$$\nf(x+y)^{2}=2 f(x) f(y)+\\max \\left\\{f\\left(x^{2}\\right)+f\\left(y^{2}\\right), f\\left(x^{2}+y^{2}\\right)\\right\\}\n$$\n\nfor all real numbers $x$ and $y$.\n\nThe final answer is\n\n\\begin{itemize}\n  \\item $f(x)=-1$ for any $x \\in \\mathbb{R}$; or\n\n  \\item $f(x)=x-1$ for any $x \\in \\mathbb{R}$.\n\n\\end{itemize}",
    "informal_proof": "Taking $x=y=0$ in (1), we get $f(0)^{2}=2 f(0)^{2}+\\max \\{2 f(0), f(0)\\}$. If $f(0)>0$, then $f(0)^{2}+2 f(0)=0$ gives no positive solution. If $f(0)<0$, then $f(0)^{2}+f(0)=0$ gives $f(0)=-1$. Putting $y=0$ in (1), we have $f(x)^{2}=-2 f(x)+f\\left(x^{2}\\right)$, which is the same as $(f(x)+1)^{2}=f\\left(x^{2}\\right)+1$. Let $g(x)=f(x)+1$. Then for any $x \\in \\mathbb{R}$, we have\n\n$$\ng\\left(x^{2}\\right)=g(x)^{2} \\geqslant 0 .\n$$\n\nFrom (1), we find that $f(x+y)^{2} \\geqslant 2 f(x) f(y)+f\\left(x^{2}\\right)+f\\left(y^{2}\\right)$. In terms of $g$, this becomes $(g(x+y)-1)^{2} \\geqslant 2(g(x)-1)(g(y)-1)+g\\left(x^{2}\\right)+g\\left(y^{2}\\right)-2$. Using (2), this means\n\n$$\n(g(x+y)-1)^{2} \\geqslant(g(x)+g(y)-1)^{2}-1 .\n$$\n\nPutting $x=1$ in (2), we get $g(1)=0$ or 1 . The two cases are handled separately.\n\n\\begin{itemize}\n  \\item Case 1. $g(1)=0$, which is the same as $f(1)=-1$.\n\\end{itemize}\n\nWe put $x=-1$ and $y=0$ in (1). This gives $f(-1)^{2}=-2 f(-1)-1$, which forces $f(-1)=-1$. Next, we take $x=-1$ and $y=1$ in (1) to get $1=2+\\max \\{-2, f(2)\\}$. This clearly implies $1=2+f(2)$ and hence $f(2)=-1$, that is, $g(2)=0$. From (2), we can prove inductively that $g\\left(2^{2^{n}}\\right)=g(2)^{2^{n}}=0$ for any $n \\in \\mathbb{N}$. Substitute $y=2^{2^{n}}-x$ in (3). We obtain\n\n$$\n\\left(g(x)+g\\left(2^{2^{n}}-x\\right)-1\\right)^{2} \\leqslant\\left(g\\left(2^{2^{n}}\\right)-1\\right)^{2}+1=2 .\n$$\n\nFor any fixed $x \\geqslant 0$, we consider $n$ to be sufficiently large so that $2^{2^{n}}-x>0$. From (2), this implies $g\\left(2^{2^{n}}-x\\right) \\geqslant 0$ so that $g(x) \\leqslant 1+\\sqrt{2}$. Using (2) again, we get\n\n$$\ng(x)^{2^{n}}=g\\left(x^{2^{n}}\\right) \\leqslant 1+\\sqrt{2}\n$$\n\nfor any $n \\in \\mathbb{N}$. Therefore, $|g(x)| \\leqslant 1$ for any $x \\geqslant 0$.\n\nIf there exists $a \\in \\mathbb{R}$ for which $g(a) \\neq 0$, then for sufficiently large $n$ we must have $g\\left(\\left(a^{2}\\right)^{\\frac{1}{2^{n}}}\\right)=g\\left(a^{2}\\right)^{\\frac{1}{2^{n}}}>\\frac{1}{2}$. By taking $x=-y=-\\left(a^{2}\\right)^{\\frac{1}{2^{n}}}$ in (1), we obtain\n\n$$\n\\begin{aligned}\n1 & =2 f(x) f(-x)+\\max \\left\\{2 f\\left(x^{2}\\right), f\\left(2 x^{2}\\right)\\right\\} \\\\\n& =2(g(x)-1)(g(-x)-1)+\\max \\left\\{2\\left(g\\left(x^{2}\\right)-1\\right), g\\left(2 x^{2}\\right)-1\\right\\} \\\\\n& \\leqslant 2\\left(-\\frac{1}{2}\\right)\\left(-\\frac{1}{2}\\right)+0=\\frac{1}{2}\n\\end{aligned}\n$$\n\nsince $|g(-x)|=|g(x)| \\in\\left(\\frac{1}{2}, 1\\right]$ by $(2)$ and the choice of $x$, and since $g(z) \\leqslant 1$ for $z \\geqslant 0$. This yields a contradiction and hence $g(x)=0$ must hold for any $x$. This means $f(x)=-1$ for any $x \\in \\mathbb{R}$, which clearly satisfies (1). - Case 2. $g(1)=1$, which is the same as $f(1)=0$.\n\nWe put $x=-1$ and $y=1$ in $(1)$ to get $1=\\max \\{0, f(2)\\}$. This clearly implies $f(2)=1$ and hence $g(2)=2$. Setting $x=2 n$ and $y=2$ in $(3)$, we have\n\n$$\n(g(2 n+2)-1)^{2} \\geqslant(g(2 n)+1)^{2}-1\n$$\n\nBy induction on $n$, it is easy to prove that $g(2 n) \\geqslant n+1$ for all $n \\in \\mathbb{N}$. For any real number $a>1$, we choose a large $n \\in \\mathbb{N}$ and take $k$ to be the positive integer such that $2 k \\leqslant a^{2^{n}}<2 k+2$. From $(2)$ and $(3)$, we have\n\n$$\n\\left(g(a)^{2^{n}}-1\\right)^{2}+1=\\left(g\\left(a^{2^{n}}\\right)-1\\right)^{2}+1 \\geqslant\\left(g(2 k)+g\\left(a^{2^{n}}-2 k\\right)-1\\right)^{2} \\geqslant k^{2}>\\frac{1}{4}\\left(a^{2^{n}}-2\\right)^{2}\n$$\n\nsince $g\\left(a^{2^{n}}-2 k\\right) \\geqslant 0$. For large $n$, this clearly implies $g(a)^{2^{n}}>1$. Thus,\n\n$$\n\\left(g(a)^{2^{n}}\\right)^{2}>\\left(g(a)^{2^{n}}-1\\right)^{2}+1>\\frac{1}{4}\\left(a^{2^{n}}-2\\right)^{2}\n$$\n\nThis yields\n\n$$\ng(a)^{2^{n}}>\\frac{1}{2}\\left(a^{2^{n}}-2\\right)\n$$\n\nNote that\n\n$$\n\\frac{a^{2^{n}}}{a^{2^{n}}-2}=1+\\frac{2}{a^{2^{n}}-2} \\leqslant\\left(1+\\frac{2}{2^{n}\\left(a^{2^{n}}-2\\right)}\\right)^{2^{n}}\n$$\n\nby binomial expansion. This can be rewritten as\n\n$$\n\\left(a^{2^{n}}-2\\right)^{\\frac{1}{2^{n}}} \\geqslant \\frac{a}{1+\\frac{2}{2^{n}\\left(a^{2^{n}}-2\\right)}} .\n$$\n\nTogether with (4), we conclude $g(a) \\geqslant a$ by taking $n$ sufficiently large.\n\nConsider $x=n a$ and $y=a>1$ in $(3)$. This gives $(g((n+1) a)-1)^{2} \\geqslant(g(n a)+g(a)-1)^{2}-1$. By induction on $n$, it is easy to show $g(n a) \\geqslant(n-1)(g(a)-1)+a$ for any $n \\in \\mathbb{N}$. We choose a large $n \\in \\mathbb{N}$ and take $k$ to be the positive integer such that $k a \\leqslant 2^{2^{n}}<(k+1) a$. Using (2) and $(3)$, we have\n\n$2^{2^{n+1}}>\\left(2^{2^{n}}-1\\right)^{2}+1=\\left(g\\left(2^{2^{n}}\\right)-1\\right)^{2}+1 \\geqslant\\left(g\\left(2^{2^{n}}-k a\\right)+g(k a)-1\\right)^{2} \\geqslant((k-1)(g(a)-1)+a-1)^{2}$, from which it follows that\n\n$$\n2^{2^{n}} \\geqslant(k-1)(g(a)-1)+a-1>\\frac{2^{2^{n}}}{a}(g(a)-1)-2(g(a)-1)+a-1\n$$\n\nholds for sufficiently large $n$. Hence, we must have $\\frac{g(a)-1}{a} \\leqslant 1$, which implies $g(a) \\leqslant a+1$ for any $a>1$. Then for large $n \\in \\mathbb{N}$, from (3) and (2) we have\n\n$$\n4 a^{2^{n+1}}=\\left(2 a^{2^{n}}\\right)^{2} \\geqslant\\left(g\\left(2 a^{2^{n}}\\right)-1\\right)^{2} \\geqslant\\left(2 g\\left(a^{2^{n}}\\right)-1\\right)^{2}-1=\\left(2 g(a)^{2^{n}}-1\\right)^{2}-1\n$$\n\nThis implies\n\n$$\n2 a^{2^{n}}>\\frac{1}{2}\\left(1+\\sqrt{4 a^{2^{n+1}}+1}\\right) \\geqslant g(a)^{2^{n}}\n$$\n\nWhen $n$ tends to infinity, this forces $g(a) \\leqslant a$. Together with $g(a) \\geqslant a$, we get $g(a)=a$ for all real numbers $a>1$, that is, $f(a)=a-1$ for all $a>1$.\n\nFinally, for any $x \\in \\mathbb{R}$, we choose $y$ sufficiently large in (1) so that $y, x+y>1$. This gives $(x+y-1)^{2}=2 f(x)(y-1)+\\max \\left\\{f\\left(x^{2}\\right)+y^{2}-1, x^{2}+y^{2}-1\\right\\}$, which can be rewritten as\n\n$$\n2(x-1-f(x)) y=-x^{2}+2 x-2-2 f(x)+\\max \\left\\{f\\left(x^{2}\\right), x^{2}\\right\\} .\n$$\n\nAs the right-hand side is fixed, this can only hold for all large $y$ when $f(x)=x-1$. We now check that this function satisfies (1). Indeed, we have\n\n$$\n\\begin{aligned}\nf(x+y)^{2} & =(x+y-1)^{2}=2(x-1)(y-1)+\\left(x^{2}+y^{2}-1\\right) \\\\\n& =2 f(x) f(y)+\\max \\left\\{f\\left(x^{2}\\right)+f\\left(y^{2}\\right), f\\left(x^{2}+y^{2}\\right)\\right\\}\n\\end{aligned}\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_algebra_p8",
    "formal_statement": "theorem fimo_2016_algebra_p8\n  (n : ℕ)\n  (x : ℕ → ℝ)\n  (a : ℝ)\n  (h₀ : n ≥ 1)\n  (h₁ : x 0 = 0 ∧ ∀ i, 0 ≤ i ∧ i < n → x i < x (i + 1))\n  (h₂ : ∑ i in Finset.range n, (1 / (x (i + 1) - x i)) ≥ a * (∑ i in Finset.range n, ((i + 2) / x (i + 1)))):\n  a ≤ 4 / 9 := by sorry",
    "informal_statement": "Determine the largest real number $a$ such that for all $n \\geqslant 1$ and for all real numbers $x_{0}, x_{1}, \\ldots, x_{n}$ satisfying $0=x_{0}<x_{1}<x_{2}<\\cdots<x_{n}$, we have\n\n$$\n\\frac{1}{x_{1}-x_{0}}+\\frac{1}{x_{2}-x_{1}}+\\cdots+\\frac{1}{x_{n}-x_{n-1}} \\geqslant a\\left(\\frac{2}{x_{1}}+\\frac{3}{x_{2}}+\\cdots+\\frac{n+1}{x_{n}}\\right) .\n$$\n\nThe final answer is that the largest $a$ is $\\frac{4}{9}$.",
    "informal_proof": "We first show that $a=\\frac{4}{9}$ is admissible. For each $2 \\leqslant k \\leqslant n$, by the CauchySchwarz Inequality, we have\n\n$$\n\\left(x_{k-1}+\\left(x_{k}-x_{k-1}\\right)\\right)\\left(\\frac{(k-1)^{2}}{x_{k-1}}+\\frac{3^{2}}{x_{k}-x_{k-1}}\\right) \\geqslant(k-1+3)^{2},\n$$\n\nwhich can be rewritten as\n\n$$\n\\frac{9}{x_{k}-x_{k-1}} \\geqslant \\frac{(k+2)^{2}}{x_{k}}-\\frac{(k-1)^{2}}{x_{k-1}} \\text {. }\n$$\n\nSumming (2) over $k=2,3, \\ldots, n$ and adding $\\frac{9}{x_{1}}$ to both sides, we have\n\n$$\n9 \\sum_{k=1}^{n} \\frac{1}{x_{k}-x_{k-1}} \\geqslant 4 \\sum_{k=1}^{n} \\frac{k+1}{x_{k}}+\\frac{n^{2}}{x_{n}}>4 \\sum_{k=1}^{n} \\frac{k+1}{x_{k}} .\n$$\n\nThis shows (1) holds for $a=\\frac{4}{9}$.\n\nNext, we show that $a=\\frac{4}{9}$ is the optimal choice. Consider the sequence defined by $x_{0}=0$ and $x_{k}=x_{k-1}+k(k+1)$ for $k \\geqslant 1$, that is, $x_{k}=\\frac{1}{3} k(k+1)(k+2)$. Then the left-hand side of (1) equals\n\n$$\n\\sum_{k=1}^{n} \\frac{1}{k(k+1)}=\\sum_{k=1}^{n}\\left(\\frac{1}{k}-\\frac{1}{k+1}\\right)=1-\\frac{1}{n+1}\n$$\n\nwhile the right-hand side equals\n\n$$\na \\sum_{k=1}^{n} \\frac{k+1}{x_{k}}=3 a \\sum_{k=1}^{n} \\frac{1}{k(k+2)}=\\frac{3}{2} a \\sum_{k=1}^{n}\\left(\\frac{1}{k}-\\frac{1}{k+2}\\right)=\\frac{3}{2}\\left(1+\\frac{1}{2}-\\frac{1}{n+1}-\\frac{1}{n+2}\\right) a .\n$$\n\nWhen $n$ tends to infinity, the left-hand side tends to 1 while the right-hand side tends to $\\frac{9}{4} a$. Therefore $a$ has to be at most $\\frac{4}{9}$.\n\nHence the largest value of $a$ is $\\frac{4}{9}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_number_theory_p2",
    "formal_statement": "theorem fimo_2016_number_theory_p2\n  (n : ℕ)\n  (h₀ : 0 < n)\n  (f : ℕ → ℕ := λ n ↦ Finset.card (Nat.divisors n))\n  (f₁ : ℕ → ℕ := λ n ↦ Finset.card (Finset.filter (λ x ↦ x % 3 = 1) (Nat.divisors n))) :\n  (∃ k : ℕ, k > 1 ∧ (f (10 * n) / f₁ (10 * n) = k)) ↔ (n = 2 ∨ n ∈ Finset.filter (λ x ↦ ¬Nat.Prime x) (Finset.range (n + 1))) := by sorry",
    "informal_statement": "Let $\\tau(n)$ be the number of positive divisors of $n$. Let $\\tau_{1}(n)$ be the number of positive divisors of $n$ which have remainders 1 when divided by 3 . Find all possible integral values of the fraction $\\frac{\\tau(10 n)}{\\tau_{1}(10 n)}$\n\nThe final answer are all composite numbers together with 2.",
    "informal_proof": "In this solution, we always use $p_{i}$ to denote primes congruent to $1 \\bmod 3$, and use $q_{j}$ to denote primes congruent to $2 \\bmod 3$. When we express a positive integer $m$ using its prime factorization, we also include the special case $m=1$ by allowing the exponents to be zeros. We first compute $\\tau_{1}(m)$ for a positive integer $m$.\n\n\\begin{itemize}\n  \\item Claim. Let $m=3^{x} p_{1}^{a_{1}} p_{2}^{a_{2}} \\cdots p_{s}^{a_{s}} q_{1}^{b_{1}} q_{2}^{b_{2}} \\cdots q_{t}^{b_{t}}$ be the prime factorization of $m$. Then\n\\end{itemize}\n\n$$\n\\tau_{1}(m)=\\prod_{i=1}^{s}\\left(a_{i}+1\\right)\\left[\\frac{1}{2} \\prod_{j=1}^{t}\\left(b_{j}+1\\right)\\right]\n$$\n\nProof. To choose a divisor of $m$ congruent to $1 \\bmod 3$, it cannot have the prime divisor 3, while there is no restriction on choosing prime factors congruent to $1 \\bmod 3$. Also, we have to choose an even number of prime factors (counted with multiplicity) congruent to $2 \\bmod 3$.\n\nIf $\\prod_{j=1}^{t}\\left(b_{j}+1\\right)$ is even, then we may assume without loss of generality $b_{1}+1$ is even. We can choose the prime factors $q_{2}, q_{3}, \\ldots, q_{t}$ freely in $\\prod_{j=2}^{t}\\left(b_{j}+1\\right)$ ways. Then the parity of the number of $q_{1}$ is uniquely determined, and hence there are $\\frac{1}{2}\\left(b_{1}+1\\right)$ ways to choose the exponent of $q_{1}$. Hence (1) is verified in this case.\n\nIf $\\prod_{j=1}^{t}\\left(b_{j}+1\\right)$ is odd, we use induction on $t$ to count the number of choices. When $t=1$, there are $\\left\\lceil\\frac{b_{1}+1}{2}\\right\\rceil$ choices for which the exponent is even and $\\left\\lfloor\\frac{b_{1}+1}{2}\\right\\rfloor$ choices for which the exponent is odd. For the inductive step, we find that there are\n\n$$\n\\left\\lceil\\frac{1}{2} \\prod_{j=1}^{t-1}\\left(b_{j}+1\\right)\\right\\rceil \\cdot\\left\\lceil\\frac{b_{t}+1}{2}\\right\\rceil+\\left\\lfloor\\frac{1}{2} \\prod_{j=1}^{t-1}\\left(b_{j}+1\\right)\\right\\rfloor \\cdot\\left\\lfloor\\frac{b_{t}+1}{2}\\right\\rfloor=\\left\\lceil\\frac{1}{2} \\prod_{j=1}^{t}\\left(b_{j}+1\\right)\\right\\rceil\n$$\n\nchoices with an even number of prime factors and hence $\\left\\lfloor\\frac{1}{2} \\prod_{j=1}^{t}\\left(b_{j}+1\\right)\\right\\rfloor$ choices with an odd number of prime factors. Hence (1) is also true in this case.\n\nLet $n=3^{x} 2^{y} 5^{z} p_{1}^{a_{1}} p_{2}^{a_{2}} \\cdots p_{s}^{a_{s}} q_{1}^{b_{1}} q_{2}^{b_{2}} \\cdots q_{t}^{b_{t}}$. Using the well-known formula for computing the divisor function, we get\n\n$$\n\\tau(10 n)=(x+1)(y+2)(z+2) \\prod_{i=1}^{s}\\left(a_{i}+1\\right) \\prod_{j=1}^{t}\\left(b_{j}+1\\right)\n$$\n\nBy the Claim, we have\n\n$$\n\\tau_{1}(10 n)=\\prod_{i=1}^{s}\\left(a_{i}+1\\right)\\left[\\frac{1}{2}(y+2)(z+2) \\prod_{j=1}^{t}\\left(b_{j}+1\\right)\\right]\n$$\n\nIf $c=(y+2)(z+2) \\prod_{j=1}^{t}\\left(b_{j}+1\\right)$ is even, then (2) and (3) imply\n\n$$\n\\frac{\\tau(10 n)}{\\tau_{1}(10 n)}=2(x+1)\n$$\n\nIn this case $\\frac{\\tau(10 n)}{\\tau_{1}(10 n)}$ can be any even positive integer as $x$ runs through all nonnegative integers. If $c$ is odd, which means $y, z$ are odd and each $b_{j}$ is even, then (2) and (3) imply\n\n$$\n\\frac{\\tau(10 n)}{\\tau_{1}(10 n)}=\\frac{2(x+1) c}{c+1}\n$$\n\nFor this to be an integer, we need $c+1$ divides $2(x+1)$ since $c$ and $c+1$ are relatively prime. Let $2(x+1)=k(c+1)$. Then $(4)$ reduces to\n\n$$\n\\frac{\\tau(10 n)}{\\tau_{1}(10 n)}=k c=k(y+2)(z+2) \\prod_{j=1}^{t}\\left(b_{j}+1\\right) .\n$$\n\nNoting that $y, z$ are odd, the integers $y+2$ and $z+2$ are at least 3 . This shows the integer in this case must be composite. On the other hand, for any odd composite number $a b$ with $a, b \\geqslant 3$, we may simply take $n=3^{\\frac{a b-1}{2}} \\cdot 2^{a-2} \\cdot 5^{b-2}$ so that $\\frac{\\tau(10 n)}{\\tau_{1}(10 n)}=a b$ from (5).\n\nWe conclude that the fraction can be any even integer or any odd composite number. Equivalently, it can be 2 or any composite number.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_number_theory_p3",
    "formal_statement": "theorem fimo_2016_number_theory_p3\n  (a b : ℕ)\n  (h₀ : 0 < a ∧ 0 < b)\n  (h₁ : ∀ x ∈ Finset.Icc a (a + b), Nat.gcd (x^2 + x + 1) (Finset.prod (Finset.erase (Finset.Icc a (a + b)) x) (λ y ↦ y^2 + y + 1)) ≠ 1) :\n  b + 1 ≥ 6 := by sorry",
    "informal_statement": "Define $P(n)=n^{2}+n+1$. For any positive integers $a$ and $b$, the set\n\n$$\n\\{P(a), P(a+1), P(a+2), \\ldots, P(a+b)\\}\n$$\n\nis said to be fragrant if none of its elements is relatively prime to the product of the other elements. Determine the smallest size of a fragrant set.\n\nThe final answer is 6 .",
    "informal_proof": "We have the following observations.\n\n(i) $(P(n), P(n+1))=1$ for any $n$.\n\nWe have $(P(n), P(n+1))=\\left(n^{2}+n+1, n^{2}+3 n+3\\right)=\\left(n^{2}+n+1,2 n+2\\right)$. Noting that $n^{2}+n+1$ is odd and $\\left(n^{2}+n+1, n+1\\right)=(1, n+1)=1$, the claim follows.\n\n(ii) $(P(n), P(n+2))=1$ for $n \\not \\equiv 2(\\bmod 7)$ and $(P(n), P(n+2))=7$ for $n \\equiv 2(\\bmod 7)$.\n\nFrom $(2 n+7) P(n)-(2 n-1) P(n+2)=14$ and the fact that $P(n)$ is odd, $(P(n), P(n+2))$ must be a divisor of 7 . The claim follows by checking $n \\equiv 0,1, \\ldots, 6(\\bmod 7)$ directly.\n\n(iii) $(P(n), P(n+3))=1$ for $n \\not \\equiv 1(\\bmod 3)$ and $3 \\mid(P(n), P(n+3))$ for $n \\equiv 1(\\bmod 3)$.\n\nFrom $(n+5) P(n)-(n-1) P(n+3)=18$ and the fact that $P(n)$ is odd, $(P(n), P(n+3))$ must be a divisor of 9 . The claim follows by checking $n \\equiv 0,1,2(\\bmod 3)$ directly.\n\nSuppose there exists a fragrant set with at most 5 elements. We may assume it contains exactly 5 elements $P(a), P(a+1), \\ldots, P(a+4)$ since the following argument also works with fewer elements. Consider $P(a+2)$. From (i), it is relatively prime to $P(a+1)$ and $P(a+3)$. Without loss of generality, assume $(P(a), P(a+2))>1$. From (ii), we have $a \\equiv 2(\\bmod 7)$. The same observation implies $(P(a+1), P(a+3))=1$. In order that the set is fragrant, $(P(a), P(a+3))$ and $(P(a+1), P(a+4))$ must both be greater than 1. From (iii), this holds only when both $a$ and $a+1$ are congruent to $1 \\bmod 3$, which is a contradiction.\n\nIt now suffices to construct a fragrant set of size 6. By the Chinese Remainder Theorem, we can take a positive integer $a$ such that\n\n$$\na \\equiv 7 \\quad(\\bmod 19), \\quad a+1 \\equiv 2 \\quad(\\bmod 7), \\quad a+2 \\equiv 1 \\quad(\\bmod 3) .\n$$\n\nFor example, we may take $a=197$. From (ii), both $P(a+1)$ and $P(a+3)$ are divisible by 7. From (iii), both $P(a+2)$ and $P(a+5)$ are divisible by 3 . One also checks from 19|P(7) $=57$ and $19 \\mid P(11)=133$ that $P(a)$ and $P(a+4)$ are divisible by 19 . Therefore, the set $\\{P(a), P(a+1), \\ldots, P(a+5)\\}$ is fragrant.\n\nTherefore, the smallest size of a fragrant set is 6 .",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_number_theory_p4",
    "formal_statement": "theorem fimo_2016_number_theory_p4\n  (n m k l : ℕ)\n  (h₀ : n ≠ 1)\n  (h₁ : n^k + m * n^l + 1 ∣ n^(k + l) - 1)\n  (h₂ : n > 0 ∧ m > 0 ∧ k > 0 ∧ l > 0) :\n  (m = 1 ∧ l = 2 * k) ∨ (l ∣ k ∧ m = (n^(k - l) - 1) / (n^l - 1)) := by sorry",
    "informal_statement": "Let $n, m, k$ and $l$ be positive integers with $n \\neq 1$ such that $n^{k}+m n^{l}+1$ divides $n^{k+l}-1$. Prove that\n\n\\begin{itemize}\n  \\item $m=1$ and $l=2 k ;$ or\n\n  \\item $l \\mid k$ and $m=\\frac{n^{k-l}-1}{n^{l}-1}$.\n\n\\end{itemize}",
    "informal_proof": "It is given that\n\n$$\nn^{k}+m n^{l}+1 \\mid n^{k+l}-1\n$$\n\nThis implies\n\n$$\nn^{k}+m n^{l}+1 \\mid\\left(n^{k+l}-1\\right)+\\left(n^{k}+m n^{l}+1\\right)=n^{k+l}+n^{k}+m n^{l} .\n$$\n\nWe have two cases to discuss.\n\n\\begin{itemize}\n  \\item Case 1. $l \\geqslant k$.\n\\end{itemize}\n\nSince $\\left(n^{k}+m n^{l}+1, n\\right)=1,(2)$ yields\n\n$$\nn^{k}+m n^{l}+1 \\mid n^{l}+m n^{l-k}+1\n$$\n\nIn particular, we get $n^{k}+m n^{l}+1 \\leqslant n^{l}+m n^{l-k}+1$. As $n \\geqslant 2$ and $k \\geqslant 1$, $(m-1) n^{l}$ is at least $2(m-1) n^{l-k}$. It follows that the inequality cannot hold when $m \\geqslant 2$. For $m=1$, the above divisibility becomes\n\n$$\nn^{k}+n^{l}+1 \\mid n^{l}+n^{l-k}+1\n$$\n\nNote that $n^{l}+n^{l-k}+1<n^{l}+n^{l}+1<2\\left(n^{k}+n^{l}+1\\right)$. Thus we must have $n^{l}+n^{l-k}+1=n^{k}+n^{l}+1$ so that $l=2 k$, which gives the first result.\n\n\\begin{itemize}\n  \\item Case 2. $l<k$.\n\\end{itemize}\n\nThis time (2) yields\n\n$$\nn^{k}+m n^{l}+1 \\mid n^{k}+n^{k-l}+m\n$$\n\nIn particular, we get $n^{k}+m n^{l}+1 \\leqslant n^{k}+n^{k-l}+m$, which implies\n\n$$\nm \\leqslant \\frac{n^{k-l}-1}{n^{l}-1}\n$$\n\nOn the other hand, from (1) we may let $n^{k+l}-1=\\left(n^{k}+m n^{l}+1\\right) t$ for some positive integer $t$. Obviously, $t$ is less than $n^{l}$, which means $t \\leqslant n^{l}-1$ as it is an integer. Then we have $n^{k+l}-1 \\leqslant\\left(n^{k}+m n^{l}+1\\right)\\left(n^{l}-1\\right)$, which is the same as\n\n$$\nm \\geqslant \\frac{n^{k-l}-1}{n^{l}-1} .\n$$\n\nEquations (3) and (4) combine to give $m=\\frac{n^{k-l}-1}{n^{l}-1}$. As this is an integer, we have $l \\mid k-l$. This means $l \\mid k$ and it corresponds to the second result.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_number_theory_p5",
    "formal_statement": "theorem fimo_2016_number_theory_p5\n  (a : ℕ)\n  (h₀ : ¬(∃ n : ℕ, a = n^2))\n  (A : Set ℕ := {k | ∃ x y : ℕ, (x : ℤ) > Int.sqrt a ∧ k = (x^2 - a) / (x^2 - y^2)})\n  (B : Set ℕ := {k | ∃ x y : ℕ, 0 ≤ x ∧ (x : ℤ) < Int.sqrt a ∧ k = (x^2 - a) / (x^2 - y^2)}) :\n  A = B := by sorry",
    "informal_statement": "Let $a$ be a positive integer which is not a square number. Denote by $A$ the set of all positive integers $k$ such that\n\n$$\nk=\\frac{x^{2}-a}{x^{2}-y^{2}}\n$$\n\nfor some integers $x$ and $y$ with $x>\\sqrt{a}$. Denote by $B$ the set of all positive integers $k$ such that (1) is satisfied for some integers $x$ and $y$ with $0 \\leqslant x<\\sqrt{a}$. Prove that $A=B$.",
    "informal_proof": "We first prove the following preliminary result.\n\n\\begin{itemize}\n  \\item Claim. For fixed $k$, let $x, y$ be integers satisfying (1). Then the numbers $x_{1}, y_{1}$ defined by\n\\end{itemize}\n\n$$\nx_{1}=\\frac{1}{2}\\left(x-y+\\frac{(x-y)^{2}-4 a}{x+y}\\right), \\quad y_{1}=\\frac{1}{2}\\left(x-y-\\frac{(x-y)^{2}-4 a}{x+y}\\right)\n$$\n\nare integers and satisfy (1) (with $x, y$ replaced by $x_{1}, y_{1}$ respectively).\n\nProof. Since $x_{1}+y_{1}=x-y$ and\n\n$$\nx_{1}=\\frac{x^{2}-x y-2 a}{x+y}=-x+\\frac{2\\left(x^{2}-a\\right)}{x+y}=-x+2 k(x-y),\n$$\n\nboth $x_{1}$ and $y_{1}$ are integers. Let $u=x+y$ and $v=x-y$. The relation (1) can be rewritten as\n\n$$\nu^{2}-(4 k-2) u v+\\left(v^{2}-4 a\\right)=0\n$$\n\nBy Vieta's Theorem, the number $z=\\frac{v^{2}-4 a}{u}$ satisfies\n\n$$\nv^{2}-(4 k-2) v z+\\left(z^{2}-4 a\\right)=0\n$$\n\nSince $x_{1}$ and $y_{1}$ are defined so that $v=x_{1}+y_{1}$ and $z=x_{1}-y_{1}$, we can reverse the process and verify (1) for $x_{1}, y_{1}$\n\nWe first show that $B \\subset A$. Take any $k \\in B$ so that (1) is satisfied for some integers $x, y$ with $0 \\leqslant x<\\sqrt{a}$. Clearly, $y \\neq 0$ and we may assume $y$ is positive. Since $a$ is not a square, we have $k>1$. Hence, we get $0 \\leqslant x<y<\\sqrt{a}$. Define\n\n$$\nx_{1}=\\frac{1}{2}\\left|x-y+\\frac{(x-y)^{2}-4 a}{x+y}\\right|, \\quad y_{1}=\\frac{1}{2}\\left(x-y-\\frac{(x-y)^{2}-4 a}{x+y}\\right) .\n$$\n\nBy the Claim, $x_{1}, y_{1}$ are integers satisfying (1). Also, we have\n\n$$\nx_{1} \\geqslant-\\frac{1}{2}\\left(x-y+\\frac{(x-y)^{2}-4 a}{x+y}\\right)=\\frac{2 a+x(y-x)}{x+y} \\geqslant \\frac{2 a}{x+y}>\\sqrt{a} .\n$$\n\nThis implies $k \\in A$ and hence $B \\subset A$. Next, we shall show that $A \\subset B$. Take any $k \\in A$ so that (1) is satisfied for some integers $x, y$ with $x>\\sqrt{a}$. Again, we may assume $y$ is positive. Among all such representations of $k$, we choose the one with smallest $x+y$. Define\n\n$$\nx_{1}=\\frac{1}{2}\\left|x-y+\\frac{(x-y)^{2}-4 a}{x+y}\\right|, \\quad y_{1}=\\frac{1}{2}\\left(x-y-\\frac{(x-y)^{2}-4 a}{x+y}\\right) .\n$$\n\nBy the Claim, $x_{1}, y_{1}$ are integers satisfying (1). Since $k>1$, we get $x>y>\\sqrt{a}$. Therefore, we have $y_{1}>\\frac{4 a}{x+y}>0$ and $\\frac{4 a}{x+y}<x+y$. It follows that\n\n$$\nx_{1}+y_{1} \\leqslant \\max \\left\\{x-y, \\frac{4 a-(x-y)^{2}}{x+y}\\right\\}<x+y\n$$\n\nIf $x_{1}>\\sqrt{a}$, we get a contradiction due to the minimality of $x+y$. Therefore, we must have $0 \\leqslant x_{1}<\\sqrt{a}$, which means $k \\in B$ so that $A \\subset B$.\n\nThe two subset relations combine to give $A=B$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2016_number_theory_p6",
    "formal_statement": "theorem fimo_2016_number_theory_p6\n  (f : ℕ → ℕ)\n  (h₀ : ∀ m n : ℕ, 0 < m → 0 < n → (f m + f n - m * n) ∣ (m * f m + n * f n) ∧ (f m + f n - m * n) ≠ 0) :\n  ∀ n : ℕ, 0 < n → f n = n^2 := by sorry",
    "informal_statement": "Denote by $\\mathbb{N}$ the set of all positive integers. Find all functions $f: \\mathbb{N} \\rightarrow \\mathbb{N}$ such that for all positive integers $m$ and $n$, the integer $f(m)+f(n)-m n$ is nonzero and divides $m f(m)+n f(n)$.\n\nThe final answer is $f(n)=n^{2}$ for any $n \\in \\mathbb{N}$.",
    "informal_proof": "It is given that\n\n$$\nf(m)+f(n)-m n \\mid m f(m)+n f(n) .\n$$\n\nTaking $m=n=1$ in (1), we have $2 f(1)-1 \\mid 2 f(1)$. Then $2 f(1)-1 \\mid 2 f(1)-(2 f(1)-1)=1$ and hence $f(1)=1$.\n\nLet $p \\geqslant 7$ be a prime. Taking $m=p$ and $n=1$ in (1), we have $f(p)-p+1 \\mid p f(p)+1$ and hence\n\n$$\nf(p)-p+1 \\mid p f(p)+1-p(f(p)-p+1)=p^{2}-p+1 .\n$$\n\nIf $f(p)-p+1=p^{2}-p+1$, then $f(p)=p^{2}$. If $f(p)-p+1 \\neq p^{2}-p+1$, as $p^{2}-p+1$ is an odd positive integer, we have $p^{2}-p+1 \\geqslant 3(f(p)-p+1)$, that is,\n\n$$\nf(p) \\leqslant \\frac{1}{3}\\left(p^{2}+2 p-2\\right) .\n$$\n\nTaking $m=n=p$ in (1), we have $2 f(p)-p^{2} \\mid 2 p f(p)$. This implies\n\n$$\n2 f(p)-p^{2} \\mid 2 p f(p)-p\\left(2 f(p)-p^{2}\\right)=p^{3} .\n$$\n\nBy $(2)$ and $f(p) \\geqslant 1$, we get\n\n$$\n-p^{2}<2 f(p)-p^{2} \\leqslant \\frac{2}{3}\\left(p^{2}+2 p-2\\right)-p^{2}<-p\n$$\n\nsince $p \\geqslant 7$. This contradicts the fact that $2 f(p)-p^{2}$ is a factor of $p^{3}$. Thus we have proved that $f(p)=p^{2}$ for all primes $p \\geqslant 7$.\n\nLet $n$ be a fixed positive integer. Choose a sufficiently large prime $p$. Consider $m=p$ in (1). We obtain\n\n$$\nf(p)+f(n)-p n \\mid p f(p)+n f(n)-n(f(p)+f(n)-p n)=p f(p)-n f(p)+p n^{2} .\n$$\n\nAs $f(p)=p^{2}$, this implies $p^{2}-p n+f(n) \\mid p\\left(p^{2}-p n+n^{2}\\right)$. As $p$ is sufficiently large and $n$ is fixed, $p$ cannot divide $f(n)$, and so $\\left(p, p^{2}-p n+f(n)\\right)=1$. It follows that $p^{2}-p n+f(n) \\mid p^{2}-p n+n^{2}$ and hence\n\n$$\np^{2}-p n+f(n) \\mid\\left(p^{2}-p n+n^{2}\\right)-\\left(p^{2}-p n+f(n)\\right)=n^{2}-f(n) .\n$$\n\nNote that $n^{2}-f(n)$ is fixed while $p^{2}-p n+f(n)$ is chosen to be sufficiently large. Therefore, we must have $n^{2}-f(n)=0$ so that $f(n)=n^{2}$ for any positive integer $n$.\n\nFinally, we check that when $f(n)=n^{2}$ for any positive integer $n$, then\n\n$$\nf(m)+f(n)-m n=m^{2}+n^{2}-m n\n$$\n\nand\n\n$$\nm f(m)+n f(n)=m^{3}+n^{3}=(m+n)\\left(m^{2}+n^{2}-m n\\right) .\n$$\n\nThe latter expression is divisible by the former for any positive integers $m, n$. This shows $f(n)=n^{2}$ is the only solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_algebra_p1",
    "formal_statement": "theorem fimo_2017_algebra_p1\n  (a : ℕ → ℕ)\n  (n k M : ℕ)\n  (h₀ : (∀ i, 0 < a i) ∧ 0 < k ∧ 0 < M)\n  (h₁ : ∑ i in Finset.range n, (1 / a i) = k)\n  (h₂ : ∏ i in Finset.range n, a i = M)\n  (h₃ : M > 1)\n  (P : ℝ → ℝ)\n  (h₄ : ∀ x, P x = M * (x + 1)^k - ∏ i in Finset.range n, (x + a i)) :\n  ∀ x > 0, P x ≠ 0 := by sorry",
    "informal_statement": "Let $a_{1}, a_{2}, \\ldots, a_{n}, k$, and $M$ be positive integers such that\n\n$$\n\\frac{1}{a_{1}}+\\frac{1}{a_{2}}+\\cdots+\\frac{1}{a_{n}}=k \\quad \\text { and } \\quad a_{1} a_{2} \\ldots a_{n}=M .\n$$\n\nIf $M>1$, prove that the polynomial\n\n$$\nP(x)=M(x+1)^{k}-\\left(x+a_{1}\\right)\\left(x+a_{2}\\right) \\cdots\\left(x+a_{n}\\right)\n$$\n\nhas no positive roots.",
    "informal_proof": "We first prove that, for $x>0$,\n\n$$\na_{i}(x+1)^{1 / a_{i}} \\leqslant x+a_{i}\n$$\n\nwith equality if and only if $a_{i}=1$. It is clear that equality occurs if $a_{i}=1$.\n\nIf $a_{i}>1$, the AM-GM inequality applied to a single copy of $x+1$ and $a_{i}-1$ copies of 1 yields\n\n$$\n\\frac{(x+1)+\\overbrace{1+1+\\cdots+1}^{a_{i}-1 \\text { ones }}}{a_{i}} \\geqslant \\sqrt[a_{i}]{(x+1) \\cdot 1^{a_{i}-1}} \\Longrightarrow a_{i}(x+1)^{1 / a_{i}} \\leqslant x+a_{i} .\n$$\n\nSince $x+1>1$, the inequality is strict for $a_{i}>1$.\n\nMultiplying the inequalities (1) for $i=1,2, \\ldots, n$ yields\n\n$$\n\\prod_{i=1}^{n} a_{i}(x+1)^{1 / a_{i}} \\leqslant \\prod_{i=1}^{n}\\left(x+a_{i}\\right) \\Longleftrightarrow M(x+1)^{\\sum_{i=1}^{n} 1 / a_{i}}-\\prod_{i=1}^{n}\\left(x+a_{i}\\right) \\leqslant 0 \\Longleftrightarrow P(x) \\leqslant 0\n$$\n\nwith equality iff $a_{i}=1$ for all $i \\in\\{1,2, \\ldots, n\\}$. But this implies $M=1$, which is not possible. Hence $P(x)<0$ for all $x \\in \\mathbb{R}^{+}$, and $P$ has no positive roots.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_algebra_p2",
    "formal_statement": "theorem fimo_2017_algebra_p2\n  (q : ℝ)\n  (napkin : Finset ℝ)\n  (h₀ : napkin.card = 10)\n  (first_line : Finset ℝ)\n  (h₁ : ∀ a b : napkin, (a:ℝ)  - b ∈ first_line)\n  (second_line : Finset ℝ)\n  (h₂ : ∀ a b : first_line, q * a * b ∈ second_line)\n  (third_line : Finset ℝ)\n  (h₃ : ∀ a b c d : first_line, (a:ℝ) ^2 + b^2 - c^2 - d^2 ∈ third_line)\n  (h₄ : ∀ x ∈ second_line, x ∈ third_line) :\n  q = -2 ∨ q = 0 ∨ q = 2 := by sorry",
    "informal_statement": "Let $q$ be a real number. Gugu has a napkin with ten distinct real numbers written on it, and he writes the following three lines of real numbers on the blackboard:\n\n\\begin{itemize}\n  \\item In the first line, Gugu writes down every number of the form $a-b$, where $a$ and $b$ are two (not necessarily distinct) numbers on his napkin.\n\n  \\item In the second line, Gugu writes down every number of the form $q a b$, where $a$ and $b$ are two (not necessarily distinct) numbers from the first line.\n\n  \\item In the third line, Gugu writes down every number of the form $a^{2}+b^{2}-c^{2}-d^{2}$, where $a, b, c, d$ are four (not necessarily distinct) numbers from the first line.\n\n\\end{itemize}\n\nDetermine all values of $q$ such that, regardless of the numbers on Gugu's napkin, every number in the second line is also a number in the third line.\n\nThe final answer is $-2,0,2$.",
    "informal_proof": "Call a number $q$ good if every number in the second line appears in the third line unconditionally. We first show that the numbers 0 and $\\pm 2$ are good. The third line necessarily contains 0 , so 0 is good. For any two numbers $a, b$ in the first line, write $a=x-y$ and $b=u-v$, where $x, y, u, v$ are (not necessarily distinct) numbers on the napkin. We may now write\n\n$$\n2 a b=2(x-y)(u-v)=(x-v)^{2}+(y-u)^{2}-(x-u)^{2}-(y-v)^{2},\n$$\n\nwhich shows that 2 is good. By negating both sides of the above equation, we also see that $-2$ is good.\n\nWe now show that $-2,0$, and 2 are the only good numbers. Assume for sake of contradiction that $q$ is a good number, where $q \\notin\\{-2,0,2\\}$. We now consider some particular choices of numbers on Gugu's napkin to arrive at a contradiction.\n\nAssume that the napkin contains the integers $1,2, \\ldots, 10$. Then, the first line contains the integers $-9,-8, \\ldots, 9$. The second line then contains $q$ and $81 q$, so the third line must also contain both of them. But the third line only contains integers, so $q$ must be an integer. Furthermore, the third line contains no number greater than $162=9^{2}+9^{2}-0^{2}-0^{2}$ or less than $-162$, so we must have $-162 \\leqslant 81 q \\leqslant 162$. This shows that the only possibilities for $q$ are $\\pm 1$\n\nNow assume that $q=\\pm 1$. Let the napkin contain $0,1,4,8,12,16,20,24,28,32$. The first line contains $\\pm 1$ and $\\pm 4$, so the second line contains $\\pm 4$. However, for every number $a$ in the first line, $a \\neq 2(\\bmod 4)$, so we may conclude that $a^{2} \\equiv 0,1(\\bmod 8)$. Consequently, every number in the third line must be congruent to $-2,-1,0,1,2(\\bmod 8)$; in particular, $\\pm 4$ cannot be in the third line, which is a contradiction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_algebra_p3",
    "formal_statement": "theorem fimo_2017_algebra_p3\n  {S : Type}\n  [Fintype S]\n  (f : S → S)\n  (A : Set (S → S))\n  (h₀ : A = {g : S → S | g ≠ f})\n  (h₁ : ∀ g ∈ A, (f ∘ g ∘ f) ≠ (g ∘ f ∘ g))\n  (T : Set S)\n  (h₂ : T = Set.range f) :\n  Set.range (f ∘ f) = T := by sorry",
    "informal_statement": "Let $S$ be a finite set, and let $\\mathcal{A}$ be the set of all functions from $S$ to $S$. Let $f$ be an element of $\\mathcal{A}$, and let $T=f(S)$ be the image of $S$ under $f$. Suppose that $f \\circ g \\circ f \\neq g \\circ f \\circ g$ for every $g$ in $\\mathcal{A}$ with $g \\neq f$. Show that $f(T)=T$.",
    "informal_proof": "For $n \\geqslant 1$, denote the $n$-th composition of $f$ with itself by\n\n$$\nf^{n} \\stackrel{\\text { def }}{=} \\underbrace{f \\circ f \\circ \\cdots \\circ f}_{n \\text { times }} .\n$$\n\nBy hypothesis, if $g \\in \\mathcal{A}$ satisfies $f \\circ g \\circ f=g \\circ f \\circ g$, then $g=f$. A natural idea is to try to plug in $g=f^{n}$ for some $n$ in the expression $f \\circ g \\circ f=g \\circ f \\circ g$ in order to get $f^{n}=f$, which solves the problem:\n\nClaim. If there exists $n \\geqslant 3$ such that $f^{n+2}=f^{2 n+1}$, then the restriction $f: T \\rightarrow T$ of $f$ to $T$ is a bijection.\n\nProof. Indeed, by hypothesis, $f^{n+2}=f^{2 n+1} \\Longleftrightarrow f \\circ f^{n} \\circ f=f^{n} \\circ f \\circ f^{n} \\Longrightarrow f^{n}=f$. Since $n-2 \\geqslant 1$, the image of $f^{n-2}$ is contained in $T=f(S)$, hence $f^{n-2}$ restricts to a function $f^{n-2}: T \\rightarrow T$. This is the inverse of $f: T \\rightarrow T$. In fact, given $t \\in T$, say $t=f(s)$ with $s \\in S$, we have\n\n$$\nt=f(s)=f^{n}(s)=f^{n-2}(f(t))=f\\left(f^{n-2}(t)\\right), \\quad \\text { i.e., } \\quad f^{n-2} \\circ f=f \\circ f^{n-2}=\\text { id on } T\n$$\n\n(here id stands for the identity function). Hence, the restriction $f: T \\rightarrow T$ of $f$ to $T$ is bijective with inverse given by $f^{n-2}: T \\rightarrow T$.\n\nIt remains to show that $n$ as in the claim exists. For that, define\n\n$$\nS_{m} \\stackrel{\\text { def }}{=} f^{m}(S) \\quad\\left(S_{m} \\text { is image of } f^{m}\\right)\n$$\n\nClearly the image of $f^{m+1}$ is contained in the image of $f^{m}$, i.e., there is a descending chain of subsets of $S$\n\n$$\nS \\supseteq S_{1} \\supseteq S_{2} \\supseteq S_{3} \\supseteq S_{4} \\supseteq \\cdots\n$$\n\nwhich must eventually stabilise since $S$ is finite, i.e., there is a $k \\geqslant 1$ such that\n\n$$\nS_{k}=S_{k+1}=S_{k+2}=S_{k+3}=\\cdots \\stackrel{\\text { def }}{=} S_{\\infty}\n$$\n\nHence $f$ restricts to a surjective function $f: S_{\\infty} \\rightarrow S_{\\infty}$, which is also bijective since $S_{\\infty} \\subseteq S$ is finite. To sum up, $f: S_{\\infty} \\rightarrow S_{\\infty}$ is a permutation of the elements of the finite set $S_{\\infty}$, hence there exists an integer $r \\geqslant 1$ such that $f^{r}=$ id on $S_{\\infty}$ (for example, we may choose $r=\\left|S_{\\infty}\\right| !$ ). In other words,\n\n$$\nf^{m+r}=f^{m} \\text { on } S \\text { for all } m \\geqslant k .\n$$\n\nClearly, (*) also implies that $f^{m+t r}=f^{m}$ for all integers $t \\geqslant 1$ and $m \\geqslant k$. So, to find $n$ as in the claim and finish the problem, it is enough to choose $m$ and $t$ in order to ensure that there exists $n \\geqslant 3$ satisfying\n\n$$\n\\left\\{\\begin{array} { l } \n{ 2 n + 1 = m + t r } \\\\\n{ n + 2 = m }\n\\end{array} \\Longleftrightarrow \\left\\{\\begin{array}{l}\nm=3+t r \\\\\nn=m-2\n\\end{array}\\right.\\right.\n$$\n\nThis can be clearly done by choosing $m$ large enough with $m \\equiv 3(\\bmod r)$. For instance, we may take $n=2 k r+1$, so that\n\n$$\nf^{n+2}=f^{2 k r+3}=f^{4 k r+3}=f^{2 n+1}\n$$\n\nwhere the middle equality follows by $(*)$ since $2 k r+3 \\geqslant k$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_algebra_p6",
    "formal_statement": "theorem fimo_2017_algebra_p6\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, f (f x * f y) + f (x + y) = f (x * y)) :\n  (∀ x, f x = 0) ∨ (∀ x, f x = x - 1) ∨ (∀ x, f x = 1 - x) := by sorry",
    "informal_statement": "Find all functions $f: \\mathbb{R} \\rightarrow \\mathbb{R}$ such that\n\n$$\nf(f(x) f(y))+f(x+y)=f(x y)\n$$\n\nfor all $x, y \\in \\mathbb{R}$.\n\nThe final answer is that there are 3 solutions:\n\n$$\nx \\mapsto 0 \\quad \\text { or } \\quad x \\mapsto x-1 \\quad \\text { or } \\quad x \\mapsto 1-x \\quad(x \\in \\mathbb{R}) .\n$$",
    "informal_proof": "n easy check shows that all the 3 above mentioned functions indeed satisfy the original equation $(*)$.\n\nIn order to show that these are the only solutions, first observe that if $f(x)$ is a solution then $-f(x)$ is also a solution. Hence, without loss of generality we may (and will) assume that $f(0) \\leqslant 0$ from now on. We have to show that either $f$ is identically zero or $f(x)=x-1$ $(\\forall x \\in \\mathbb{R})$\n\nObserve that, for a fixed $x \\neq 1$, we may choose $y \\in \\mathbb{R}$ so that $x+y=x y \\Longleftrightarrow y=\\frac{x}{x-1}$, and therefore from the original equation $(*)$ we have\n\n$$\nf\\left(f(x) \\cdot f\\left(\\frac{x}{x-1}\\right)\\right)=0 \\quad(x \\neq 1)\n$$\n\nIn particular, plugging in $x=0$ in $(1)$, we conclude that $f$ has at least one zero, namely $(f(0))^{2}$ :\n\n$$\nf\\left((f(0))^{2}\\right)=0\n$$\n\nWe analyze two cases (recall that $f(0) \\leqslant 0)$ :\n\nCase 1: $f(0)=0$.\n\nSetting $y=0$ in the original equation we get the identically zero solution:\n\n$$\nf(f(x) f(0))+f(x)=f(0) \\Longrightarrow f(x)=0 \\text { for all } x \\in \\mathbb{R}\n$$\n\nFrom now on, we work on the main\n\nCase 2: $f(0)<0$.\n\nWe begin with the following\n\n\\section{Claim 1.}\n$$\nf(1)=0, \\quad f(a)=0 \\Longrightarrow a=1, \\quad \\text { and } \\quad f(0)=-1\n$$\n\nProof. We need to show that 1 is the unique zero of $f$. First, observe that $f$ has at least one zero $a$ by $(2)$; if $a \\neq 1$ then setting $x=a$ in (1) we get $f(0)=0$, a contradiction. Hence from (2) we get $(f(0))^{2}=1$. Since we are assuming $f(0)<0$, we conclude that $f(0)=-1$.\n\nSetting $y=1$ in the original equation $(*)$ we get\n\n$$\nf(f(x) f(1))+f(x+1)=f(x) \\Longleftrightarrow f(0)+f(x+1)=f(x) \\Longleftrightarrow f(x+1)=f(x)+1 \\quad(x \\in \\mathbb{R}) .\n$$\n\nAn easy induction shows that\n\n$$\nf(x+n)=f(x)+n \\quad(x \\in \\mathbb{R}, n \\in \\mathbb{Z})\n$$\n\nNow we make the following\n\nClaim 2. $f$ is injective.\n\nProof. Suppose that $f(a)=f(b)$ with $a \\neq b$. Then by (4), for all $N \\in \\mathbb{Z}$,\n\n$$\nf(a+N+1)=f(b+N)+1\n$$\n\nChoose any integer $N<-b$; then there exist $x_{0}, y_{0} \\in \\mathbb{R}$ with $x_{0}+y_{0}=a+N+1, x_{0} y_{0}=b+N$. Since $a \\neq b$, we have $x_{0} \\neq 1$ and $y_{0} \\neq 1$. Plugging in $x_{0}$ and $y_{0}$ in the original equation $(*)$ we get\n\n$$\n\\begin{array}{rlr}\nf\\left(f\\left(x_{0}\\right) f\\left(y_{0}\\right)\\right)+f(a+N+1)=f(b+N) & \\Longleftrightarrow f\\left(f\\left(x_{0}\\right) f\\left(y_{0}\\right)\\right)+1=0 & \\\\\n& \\Longleftrightarrow f\\left(f\\left(x_{0}\\right) f\\left(y_{0}\\right)+1\\right)=0 & \\text { by (4) } \\\\\n& \\Longleftrightarrow f\\left(x_{0}\\right) f\\left(y_{0}\\right)=0 & \\text { by (3) }\n\\end{array}\n$$\n\nHowever, by Claim 1 we have $f\\left(x_{0}\\right) \\neq 0$ and $f\\left(y_{0}\\right) \\neq 0$ since $x_{0} \\neq 1$ and $y_{0} \\neq 1$, a contradiction.\n\nNow the end is near. For any $t \\in \\mathbb{R}$, plug in $(x, y)=(t,-t)$ in the original equation $(*)$ to get\n\n$$\n\\begin{aligned}\nf(f(t) f(-t))+f(0)=f\\left(-t^{2}\\right) & \\Longleftrightarrow f(f(t) f(-t))=f\\left(-t^{2}\\right)+1 & & \\text { by (3) } \\\\\n& \\Longleftrightarrow f(f(t) f(-t))=f\\left(-t^{2}+1\\right) & & \\text { by (4) } \\\\\n& \\Longleftrightarrow f(t) f(-t)=-t^{2}+1 & & \\text { by injectivity of } f .\n\\end{aligned}\n$$\n\nSimilarly, plugging in $(x, y)=(t, 1-t)$ in $(*)$ we get\n\n$$\n\\begin{array}{rlrl}\nf(f(t) f(1-t))+f(1)=f(t(1-t)) & \\Longleftrightarrow f(f(t) f(1-t))=f(t(1-t)) & \\text { by }(3) \\\\\n& \\Longleftrightarrow f(t) f(1-t)=t(1-t) \\quad \\text { by injectivity of } f .\n\\end{array}\n$$\n\nBut since $f(1-t)=1+f(-t)$ by $(4)$, we get\n\n$$\n\\begin{aligned}\nf(t) f(1-t)=t(1-t) & \\Longleftrightarrow f(t)(1+f(-t))=t(1-t) \\Longleftrightarrow f(t)+\\left(-t^{2}+1\\right)=t(1-t) \\\\\n& \\Longleftrightarrow f(t)=t-1,\n\\end{aligned}\n$$\n\nas desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_algebra_p7",
    "formal_statement": "theorem fimo_2017_algebra_p7\n  (a b : ℕ → ℤ)\n  (h₀ : a 0 = 0)\n  (h₁ : a 1 = 1)\n  (h₂ : ∀ n, b n > 0)\n  (h₃ : ∀ n, a (n + 1) = if b n = 1 then a n * b (n + 1) + a (n - 1) else a n * b (n + 1) - a (n - 1)) :\n  a 2017 ≥ 2017 ∨ a 2018 ≥ 2017 := by sorry",
    "informal_statement": "Let $a_{0}, a_{1}, a_{2}, \\ldots$ be a sequence of integers and $b_{0}, b_{1}, b_{2}, \\ldots$ be a sequence of positive integers such that $a_{0}=0, a_{1}=1$, and\n\n$$\na_{n+1}=\\left\\{\\begin{array}{ll}\na_{n} b_{n}+a_{n-1}, & \\text { if } b_{n-1}=1 \\\\\na_{n} b_{n}-a_{n-1}, & \\text { if } b_{n-1}>1\n\\end{array} \\quad \\text { for } n=1,2, \\ldots\\right.\n$$\n\nProve that at least one of the two numbers $a_{2017}$ and $a_{2018}$ must be greater than or equal to 2017.",
    "informal_proof": "The value of $b_{0}$ is irrelevant since $a_{0}=0$, so we may assume that $b_{0}=1$.\n\nLemma. We have $a_{n} \\geqslant 1$ for all $n \\geqslant 1$.\n\nProof. Let us suppose otherwise in order to obtain a contradiction. Let\n\n$$\nn \\geqslant 1 \\text { be the smallest integer with } a_{n} \\leqslant 0 .\n$$\n\nNote that $n \\geqslant 2$. It follows that $a_{n-1} \\geqslant 1$ and $a_{n-2} \\geqslant 0$. Thus we cannot have $a_{n}=$ $a_{n-1} b_{n-1}+a_{n-2}$, so we must have $a_{n}=a_{n-1} b_{n-1}-a_{n-2}$. Since $a_{n} \\leqslant 0$, we have $a_{n-1} \\leqslant a_{n-2}$. Thus we have $a_{n-2} \\geqslant a_{n-1} \\geqslant a_{n}$.\n\nLet\n\n$$\nr \\text { be the smallest index with } a_{r} \\geqslant a_{r+1} \\geqslant a_{r+2} \\text {. }\n$$\n\nThen $r \\leqslant n-2$ by the above, but also $r \\geqslant 2$ : if $b_{1}=1$, then $a_{2}=a_{1}=1$ and $a_{3}=a_{2} b_{2}+a_{1}>a_{2}$; if $b_{1}>1$, then $a_{2}=b_{1}>1=a_{1}$.\n\nBy the minimal choice (2) of $r$, it follows that $a_{r-1}<a_{r}$. And since $2 \\leqslant r \\leqslant n-2$, by the minimal choice (1) of $n$ we have $a_{r-1}, a_{r}, a_{r+1}>0$. In order to have $a_{r+1} \\geqslant a_{r+2}$, we must have $a_{r+2}=a_{r+1} b_{r+1}-a_{r}$ so that $b_{r} \\geqslant 2$. Putting everything together, we conclude that\n\n$$\na_{r+1}=a_{r} b_{r} \\pm a_{r-1} \\geqslant 2 a_{r}-a_{r-1}=a_{r}+\\left(a_{r}-a_{r-1}\\right)>a_{r}\n$$\n\nwhich contradicts (2).\n\nTo complete the problem, we prove that $\\max \\left\\{a_{n}, a_{n+1}\\right\\} \\geqslant n$ by induction. The cases $n=0,1$ are given. Assume it is true for all non-negative integers strictly less than $n$, where $n \\geqslant 2$. There are two cases:\n\nCase 1: $b_{n-1}=1$\n\nThen $a_{n+1}=a_{n} b_{n}+a_{n-1}$. By the inductive assumption one of $a_{n-1}, a_{n}$ is at least $n-1$ and the other, by the lemma, is at least 1 . Hence\n\n$$\na_{n+1}=a_{n} b_{n}+a_{n-1} \\geqslant a_{n}+a_{n-1} \\geqslant(n-1)+1=n .\n$$\n\nThus $\\max \\left\\{a_{n}, a_{n+1}\\right\\} \\geqslant n$, as desired.\n\nCase 2: $b_{n-1}>1$.\n\nSince we defined $b_{0}=1$ there is an index $r$ with $1 \\leqslant r \\leqslant n-1$ such that\n\n$$\nb_{n-1}, b_{n-2}, \\ldots, b_{r} \\geqslant 2 \\quad \\text { and } \\quad b_{r-1}=1 .\n$$\n\nWe have $a_{r+1}=a_{r} b_{r}+a_{r-1} \\geqslant 2 a_{r}+a_{r-1}$. Thus $a_{r+1}-a_{r} \\geqslant a_{r}+a_{r-1}$.\n\nNow we claim that $a_{r}+a_{r-1} \\geqslant r$. Indeed, this holds by inspection for $r=1$; for $r \\geqslant 2$, one of $a_{r}, a_{r-1}$ is at least $r-1$ by the inductive assumption, while the other, by the lemma, is at least 1 . Hence $a_{r}+a_{r-1} \\geqslant r$, as claimed, and therefore $a_{r+1}-a_{r} \\geqslant r$ by the last inequality in the previous paragraph.\n\nSince $r \\geqslant 1$ and, by the lemma, $a_{r} \\geqslant 1$, from $a_{r+1}-a_{r} \\geqslant r$ we get the following two inequalities:\n\n$$\na_{r+1} \\geqslant r+1 \\quad \\text { and } \\quad a_{r+1}>a_{r}\n$$\n\nNow observe that\n\n$$\na_{m}>a_{m-1} \\Longrightarrow a_{m+1}>a_{m} \\text { for } m=r+1, r+2, \\ldots, n-1,\n$$\n\nsince $a_{m+1}=a_{m} b_{m}-a_{m-1} \\geqslant 2 a_{m}-a_{m-1}=a_{m}+\\left(a_{m}-a_{m-1}\\right)>a_{m}$. Thus\n\n$$\na_{n}>a_{n-1}>\\cdots>a_{r+1} \\geqslant r+1 \\Longrightarrow a_{n} \\geqslant n \\text {. }\n$$\n\nSo $\\max \\left\\{a_{n}, a_{n+1}\\right\\} \\geqslant n$, as desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_algebra_p8",
    "formal_statement": "theorem fimo_2017_algebra_p8\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, (f x + y) * (f y + x) > 0 → f x + y = f y + x) :\n  ∀ x y, x > y → f x + y ≤ f y + x := by sorry",
    "informal_statement": "Assume that a function $f: \\mathbb{R} \\rightarrow \\mathbb{R}$ satisfies the following condition:\n\nFor every $x, y \\in \\mathbb{R}$ such that $(f(x)+y)(f(y)+x)>0$, we have $f(x)+y=f(y)+x$.\n\nProve that $f(x)+y \\leqslant f(y)+x$ whenever $x>y$.",
    "informal_proof": "Define $g(x)=x-f(x)$. The condition on $f$ then rewrites as follows:\n\nFor every $x, y \\in \\mathbb{R}$ such that $((x+y)-g(x))((x+y)-g(y))>0$, we have $g(x)=g(y)$.\n\nThis condition may in turn be rewritten in the following form:\n\nIf $g(x) \\neq g(y)$, then the number $x+y$ lies (non-strictly) between $g(x)$ and $g(y)$.\n\nNotice here that the function $g_{1}(x)=-g(-x)$ also satisfies $(*)$, since\n\n$g_{1}(x) \\neq g_{1}(y) \\Longrightarrow g(-x) \\neq g(-y) \\quad \\Longrightarrow \\quad-(x+y)$ lies between $g(-x)$ and $g(-y)$\n\n$\\Longrightarrow \\quad x+y$ lies between $g_{1}(x)$ and $g_{1}(y)$.\n\nOn the other hand, the relation we need to prove reads now as\n\n$$\ng(x) \\leqslant g(y) \\quad \\text { whenever } x<y .\n$$\n\nAgain, this condition is equivalent to the same one with $g$ replaced by $g_{1}$.\n\nIf $g(x)=2 x$ for all $x \\in \\mathbb{R}$, then $(*)$ is obvious; so in what follows we consider the other case. We split the solution into a sequence of lemmas, strengthening one another. We always consider some value of $x$ with $g(x) \\neq 2 x$ and denote $X=g(x)$.\n\nLemma 1. Assume that $X<2 x$. Then on the interval $(X-x ; x]$ the function $g$ attains at most two values - namely, $X$ and, possibly, some $Y>X$. Similarly, if $X>2 x$, then $g$ attains at most two values on $[x ; X-x)$ - namely, $X$ and, possibly, some $Y<X$.\n\nProof. We start with the first claim of the lemma. Notice that $X-x<x$, so the considered interval is nonempty.\n\nTake any $a \\in(X-x ; x)$ with $g(a) \\neq X$ (if it exists). If $g(a)<X$, then $(*)$ yields $g(a) \\leqslant$ $a+x \\leqslant g(x)=X$, so $a \\leqslant X-x$ which is impossible. Thus, $g(a)>X$ and hence by $(*)$ we get $X \\leqslant a+x \\leqslant g(a)$.\n\nNow, for any $b \\in(X-x ; x)$ with $g(b) \\neq X$ we similarly get $b+x \\leqslant g(b)$. Therefore, the number $a+b$ (which is smaller than each of $a+x$ and $b+x)$ cannot lie between $g(a)$ and $g(b)$, which by $(*)$ implies that $g(a)=g(b)$. Hence $g$ may attain only two values on $(X-x ; x]$, namely $X$ and $g(a)>X$.\n\nTo prove the second claim, notice that $g_{1}(-x)=-X<2 \\cdot(-x)$, so $g_{1}$ attains at most two values on $(-X+x,-x]$, i.e., $-X$ and, possibly, some $-Y>-X$. Passing back to $g$, we get what we need.\n\nLemma 2. If $X<2 x$, then $g$ is constant on $(X-x ; x)$. Similarly, if $X>2 x$, then $g$ is constant on $(x ; X-x)$.\n\nProof. Again, it suffices to prove the first claim only. Assume, for the sake of contradiction, that there exist $a, b \\in(X-x ; x)$ with $g(a) \\neq g(b)$; by Lemma 1 , we may assume that $g(a)=X$ and $Y=g(b)>X$.\n\nNotice that $\\min \\{X-a, X-b\\}>X-x$, so there exists a $u \\in(X-x ; x)$ such that $u<\\min \\{X-a, X-b\\}$. By Lemma 1, we have either $g(u)=X$ or $g(u)=Y$. In the former case, by $(*)$ we have $X \\leqslant u+b \\leqslant Y$ which contradicts $u<X-b$. In the second case, by $(*)$ we have $X \\leqslant u+a \\leqslant Y$ which contradicts $u<X-a$. Thus the lemma is proved. Lemma 3. If $X<2 x$, then $g(a)=X$ for all $a \\in(X-x ; x)$. Similarly, if $X>2 x$, then $g(a)=X$ for all $a \\in(x ; X-x)$.\n\nProof. Again, we only prove the first claim.\n\nBy Lemmas 1 and 2, this claim may be violated only if $g$ takes on a constant value $Y>X$ on $(X-x, x)$. Choose any $a, b \\in(X-x ; x)$ with $a<b$. By $(*)$, we have\n\n$$\nY \\geqslant b+x \\geqslant X\n$$\n\nIn particular, we have $Y \\geqslant b+x>2 a$. Applying Lemma 2 to $a$ in place of $x$, we obtain that $g$ is constant on $(a, Y-a)$. By (2) again, we have $x \\leqslant Y-b<Y-a$; so $x, b \\in(a ; Y-a)$. But $X=g(x) \\neq g(b)=Y$, which is a contradiction.\n\nNow we are able to finish the solution. Assume that $g(x)>g(y)$ for some $x<y$. Denote $X=g(x)$ and $Y=g(y)$; by $(*)$, we have $X \\geqslant x+y \\geqslant Y$, so $Y-y \\leqslant x<y \\leqslant X-x$, and hence $(Y-y ; y) \\cap(x ; X-x)=(x, y) \\neq \\varnothing$. On the other hand, since $Y-y<y$ and $x<X-x$, Lemma 3 shows that $g$ should attain a constant value $X$ on $(x ; X-x)$ and a constant value $Y \\neq X$ on $(Y-y ; y)$. Since these intervals overlap, we get the final contradiction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_number_theory_p3",
    "formal_statement": "theorem fimo_2017_number_theory_p3\n  (n : ℕ)\n  (h₀ : 2 ≤ n)\n  (h₁ : ∀ (a : ℕ → ℤ), (∑ k in Finset.range n, a k) % (n : ℤ) ≠ 0 →\n         ∃ i, 1 ≤ i ∧ i ≤ n ∧\n         ∀ j, 0 ≤ j ∧ j < n → ((n : ℤ) ∣ (a ((i + j) % n) + ∑ k in Finset.range j, a ((i + k) % n))) = false) :\n  Nat.Prime n := by sorry",
    "informal_statement": "Determine all integers $n \\geqslant 2$ with the following property: for any integers $a_{1}, a_{2}, \\ldots, a_{n}$ whose sum is not divisible by $n$, there exists an index $1 \\leqslant i \\leqslant n$ such that none of the numbers\n\n$$\na_{i}, a_{i}+a_{i+1}, \\ldots, a_{i}+a_{i+1}+\\cdots+a_{i+n-1}\n$$\n\nis divisible by $n$. (We let $a_{i}=a_{i-n}$ when $i>n$.)\n\nThe final answers is that these integers are exactly the prime numbers.",
    "informal_proof": "Let us first show that, if $n=a b$, with $a, b \\geqslant 2$ integers, then the property in the statement of the problem does not hold. Indeed, in this case, let $a_{k}=a$ for $1 \\leqslant k \\leqslant n-1$ and $a_{n}=0$. The sum $a_{1}+a_{2}+\\cdots+a_{n}=a \\cdot(n-1)$ is not divisible by $n$. Let $i$ with $1 \\leqslant i \\leqslant n$ be an arbitrary index. Taking $j=b$ if $1 \\leqslant i \\leqslant n-b$, and $j=b+1$ if $n-b<i \\leqslant n$, we have\n\n$$\na_{i}+a_{i+1}+\\cdots+a_{i+j-1}=a \\cdot b=n \\equiv 0 \\quad(\\bmod n)\n$$\n\nIt follows that the given example is indeed a counterexample to the property of the statement.\n\nNow let $n$ be a prime number. Suppose by contradiction that the property in the statement of the problem does not hold. Then there are integers $a_{1}, a_{2}, \\ldots, a_{n}$ whose sum is not divisible by $n$ such that for each $i, 1 \\leqslant i \\leqslant n$, there is $j, 1 \\leqslant j \\leqslant n$, for which the number $a_{i}+a_{i+1}+$ $\\cdots+a_{i+j-1}$ is divisible by $n$. Notice that, in any such case, we should have $1 \\leqslant j \\leqslant n-1$, since $a_{1}+a_{2}+\\cdots+a_{n}$ is not divisible by $n$. So we may construct recursively a finite sequence of integers $0=i_{0}<i_{1}<i_{2}<\\cdots<i_{n}$ with $i_{s+1}-i_{s} \\leqslant n-1$ for $0 \\leqslant s \\leqslant n-1$ such that, for $0 \\leqslant s \\leqslant n-1$\n\n$$\na_{i_{s}+1}+a_{i_{s}+2}+\\cdots+a_{i_{s+1}} \\equiv 0 \\quad(\\bmod n)\n$$\n\n(where we take indices modulo $n$ ). Indeed, for $0 \\leqslant s<n$, we apply the previous observation to $i=i_{s}+1$ in order to define $i_{s+1}=i_{s}+j$.\n\nIn the sequence of $n+1$ indices $i_{0}, i_{1}, i_{2}, \\ldots, i_{n}$, by the pigeonhole principle, we have two distinct elements which are congruent modulo $n$. So there are indices $r, s$ with $0 \\leqslant r<s \\leqslant n$ such that $i_{s} \\equiv i_{r}(\\bmod n)$ and\n\n$$\na_{i_{r}+1}+a_{i_{r}+2}+\\cdots+a_{i_{s}}=\\sum_{j=r}^{s-1}\\left(a_{i_{j}+1}+a_{i_{j}+2}+\\cdots+a_{i_{j+1}}\\right) \\equiv 0 \\quad(\\bmod n) .\n$$\n\nSince $i_{s} \\equiv i_{r}(\\bmod n)$, we have $i_{s}-i_{r}=k \\cdot n$ for some positive integer $k$, and, since $i_{j+1}-i_{j} \\leqslant$ $n-1$ for $0 \\leqslant j \\leqslant n-1$, we have $i_{s}-i_{r} \\leqslant(n-1) \\cdot n$, so $k \\leqslant n-1$. But in this case\n\n$$\na_{i_{r}+1}+a_{i_{r}+2}+\\cdots+a_{i_{s}}=k \\cdot\\left(a_{1}+a_{2}+\\cdots+a_{n}\\right)\n$$\n\ncannot be a multiple of $n$, since $n$ is prime and neither $k$ nor $a_{1}+a_{2}+\\cdots+a_{n}$ is a multiple of $n$. A contradiction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2017_number_theory_p8",
    "formal_statement": "theorem fimo_2017_number_theory_p8\n  (p : ℕ)\n  (h₀ : Nat.Prime p)\n  (h₁ : p % 2 = 1)\n  (f : ℕ × ℕ → ℝ)\n  (h₂ : f (1, 1) = 0)\n  (h₃ : ∀ a b, Nat.gcd a b = 1 → a ≠ 1 ∨ b ≠ 1 → f (a, b) + f (b, a) = 1)\n  (h₄ : ∀ a b, Nat.gcd a b = 1 → f (a + b, b) = f (a, b))\n  (h₅ : ∀ a b, f (a, b) = 0 ∨ f (a, b) = 1) :\n  ∑ n in Finset.Icc 1 (p - 1), f (n^2, p) ≥ Real.sqrt (2 * p) - 2 := by sorry",
    "informal_statement": "Let $p$ be an odd prime number and $\\mathbb{Z}_{>0}$ be the set of positive integers. Suppose that a function $f: \\mathbb{Z}_{>0} \\times \\mathbb{Z}_{>0} \\rightarrow\\{0,1\\}$ satisfies the following properties:\n\n\\begin{itemize}\n  \\item $f(1,1)=0$\n\n  \\item $f(a, b)+f(b, a)=1$ for any pair of relatively prime positive integers $(a, b)$ not both equal to 1\n\n  \\item $f(a+b, b)=f(a, b)$ for any pair of relatively prime positive integers $(a, b)$.\n\n\\end{itemize}\n\nProve that\n\n$$\n\\sum_{n=1}^{p-1} f\\left(n^{2}, p\\right) \\geqslant \\sqrt{2 p}-2\n$$",
    "informal_proof": "Denote by $\\mathbb{A}$ the set of all pairs of coprime positive integers. Notice that for every $(a, b) \\in \\mathbb{A}$ there exists a pair $(u, v) \\in \\mathbb{Z}^{2}$ with $u a+v b=1$. Moreover, if $\\left(u_{0}, v_{0}\\right)$ is one such pair, then all such pairs are of the form $(u, v)=\\left(u_{0}+k b, v_{0}-k a\\right)$, where $k \\in \\mathbb{Z}$. So there exists a unique such pair $(u, v)$ with $-b / 2<u \\leqslant b / 2$; we denote this pair by $(u, v)=g(a, b)$.\n\nLemma. Let $(a, b) \\in \\mathbb{A}$ and $(u, v)=g(a, b)$. Then $f(a, b)=1 \\Longleftrightarrow u>0$.\n\nProof. We induct on $a+b$. The base case is $a+b=2$. In this case, we have that $a=b=1$, $g(a, b)=g(1,1)=(0,1)$ and $f(1,1)=0$, so the claim holds.\n\nAssume now that $a+b>2$, and so $a \\neq b$, since $a$ and $b$ are coprime. Two cases are possible. Case 1: $a>b$.\n\nNotice that $g(a-b, b)=(u, v+u)$, since $u(a-b)+(v+u) b=1$ and $u \\in(-b / 2, b / 2]$. Thus $f(a, b)=1 \\Longleftrightarrow f(a-b, b)=1 \\Longleftrightarrow u>0$ by the induction hypothesis.\n\nCase 2: $a<b$. (Then, clearly, $b \\geqslant 2$.)\n\nNow we estimate $v$. Since $v b=1-u a$, we have\n\n$$\n1+\\frac{a b}{2}>v b \\geqslant 1-\\frac{a b}{2}, \\quad \\text { so } \\quad \\frac{1+a}{2} \\geqslant \\frac{1}{b}+\\frac{a}{2}>v \\geqslant \\frac{1}{b}-\\frac{a}{2}>-\\frac{a}{2}\n$$\n\nThus $1+a>2 v>-a$, so $a \\geqslant 2 v>-a$, hence $a / 2 \\geqslant v>-a / 2$, and thus $g(b, a)=(v, u)$.\n\nObserve that $f(a, b)=1 \\Longleftrightarrow f(b, a)=0 \\Longleftrightarrow f(b-a, a)=0$. We know from Case 1 that $g(b-a, a)=(v, u+v)$. We have $f(b-a, a)=0 \\Longleftrightarrow v \\leqslant 0$ by the inductive hypothesis. Then, since $b>a \\geqslant 1$ and $u a+v b=1$, we have $v \\leqslant 0 \\Longleftrightarrow u>0$, and we are done.\n\nThe Lemma proves that, for all $(a, b) \\in \\mathbb{A}, f(a, b)=1$ if and only if the inverse of $a$ modulo $b$, taken in $\\{1,2, \\ldots, b-1\\}$, is at most $b / 2$. Then, for any odd prime $p$ and integer $n$ such that $n \\not \\equiv 0(\\bmod p), f\\left(n^{2}, p\\right)=1$ iff the inverse of $n^{2} \\bmod p$ is less than $p / 2$. Since $\\left\\{n^{2} \\bmod p: 1 \\leqslant n \\leqslant p-1\\right\\}=\\left\\{n^{-2} \\bmod p: 1 \\leqslant n \\leqslant p-1\\right\\}$, including multiplicities (two for each quadratic residue in each set), we conclude that the desired sum is twice the number of quadratic residues that are less than $p / 2$, i.e.,\n\n$$\n\\sum_{n=1}^{p-1} f\\left(n^{2}, p\\right)=2 \\mid\\left\\{k: 1 \\leqslant k \\leqslant \\frac{p-1}{2} \\text { and } k^{2} \\bmod p<\\frac{p}{2}\\right\\} \\mid .\n$$\n\nSince the number of perfect squares in the interval $[1, p / 2)$ is $\\lfloor\\sqrt{p / 2}\\rfloor>\\sqrt{p / 2}-1$, we conclude that\n\n$$\n\\sum_{n=1}^{p-1} f\\left(n^{2}, p\\right)>2\\left(\\sqrt{\\frac{p}{2}}-1\\right)=\\sqrt{2 p}-2\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_algebra_p1",
    "formal_statement": "theorem fimo_2018_algebra_p1\n  (f : ℚ → ℚ)\n  (h₀ : ∀ x y, 0 < x → 0 < y → f (x^2 * (f y)^2) = f x^2 * f y)\n  (h₁ : ∀ x, 0 < x → 0 < f x) :\n  ∀ x, 0 < x → f x = 1 := by sorry",
    "informal_statement": "Let $\\mathbb{Q}_{>0}$ denote the set of all positive rational numbers. Determine all functions $f: \\mathbb{Q}>0 \\rightarrow \\mathbb{Q}>0$ satisfying\n\n$$\nf\\left(x^{2} f(y)^{2}\\right)=f(x)^{2} f(y)\n$$\n\nfor all $x, y \\in \\mathbb{Q}>0$.\n\nThe final answer is $f(x)=1$ for all $x \\in \\mathbb{Q}>0$.",
    "informal_proof": "Take any $a, b \\in \\mathbb{Q}_{>0}$. By substituting $x=f(a), y=b$ and $x=f(b), y=a$ into $(*)$ we get\n\n$$\nf(f(a))^{2} f(b)=f\\left(f(a)^{2} f(b)^{2}\\right)=f(f(b))^{2} f(a)\n$$\n\nwhich yields\n\n$$\n\\frac{f(f(a))^{2}}{f(a)}=\\frac{f(f(b))^{2}}{f(b)} \\quad \\text { for all } a, b \\in \\mathbb{Q}_{>0} .\n$$\n\nIn other words, this shows that there exists a constant $C \\in \\mathbb{Q}_{>0}$ such that $f(f(a))^{2}=C f(a)$, or\n\n$$\n\\left(\\frac{f(f(a))}{C}\\right)^{2}=\\frac{f(a)}{C} \\quad \\text { for all } a \\in \\mathbb{Q}>0 .\n$$\n\nDenote by $f^{n}(x)=\\underbrace{f(f(\\ldots(f}_{n}(x)) \\ldots))$ the $n^{\\text {th }}$ iteration of $f$. Equality (1) yields\n\n$$\n\\frac{f(a)}{C}=\\left(\\frac{f^{2}(a)}{C}\\right)^{2}=\\left(\\frac{f^{3}(a)}{C}\\right)^{4}=\\cdots=\\left(\\frac{f^{n+1}(a)}{C}\\right)^{2^{n}}\n$$\n\nfor all positive integer $n$. So, $f(a) / C$ is the $2^{n}$-th power of a rational number for all positive integer $n$. This is impossible unless $f(a) / C=1$, since otherwise the exponent of some prime in the prime decomposition of $f(a) / C$ is not divisible by sufficiently large powers of 2 . Therefore, $f(a)=C$ for all $a \\in \\mathbb{Q}>0$.\n\nFinally, after substituting $f \\equiv C$ into $(*)$ we get $C=C^{3}$, whence $C=1$. So $f(x) \\equiv 1$ is the unique function satisfying $(*)$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_algebra_p2",
    "formal_statement": "theorem fimo_2018_algebra_p2\n  (n : ℕ)\n  (a : ℕ → ℝ)\n  (h₀ : n ≥ 3)\n  (h₁ : ∀ i, 1 ≤ i ∧ i ≤ n → a i * a (i + 1) + 1 = a (i + 2))\n  (h₂ : a (n + 1) = a 1)\n  (h₃ : a (n + 2) = a 2) :\n  n % 3 = 0 := by sorry",
    "informal_statement": "Find all positive integers $n \\geqslant 3$ for which there exist real numbers $a_{1}, a_{2}, \\ldots, a_{n}$, $a_{n+1}=a_{1}, a_{n+2}=a_{2}$ such that\n\n$$\na_{i} a_{i+1}+1=a_{i+2}\n$$\n\nfor all $i=1,2, \\ldots, n$.\n\nThe answer is that $n$ can be any multiple of 3 .",
    "informal_proof": "For the sake of convenience, extend the sequence $a_{1}, \\ldots, a_{n+2}$ to an infinite periodic sequence with period $n$. ( $n$ is not necessarily the shortest period.)\n\nIf $n$ is divisible by 3 , then $\\left(a_{1}, a_{2}, \\ldots\\right)=(-1,-1,2,-1,-1,2, \\ldots)$ is an obvious solution.\n\nWe will show that in every periodic sequence satisfying the recurrence, each positive term is followed by two negative values, and after them the next number is positive again. From this, it follows that $n$ is divisible by 3 .\n\nIf the sequence contains two consecutive positive numbers $a_{i}, a_{i+1}$, then $a_{i+2}=a_{i} a_{i+1}+1>1$, so the next value is positive as well; by induction, all numbers are positive and greater than 1. But then $a_{i+2}=a_{i} a_{i+1}+1 \\geqslant 1 \\cdot a_{i+1}+1>a_{i+1}$ for every index $i$, which is impossible: our sequence is periodic, so it cannot increase everywhere.\n\nIf the number 0 occurs in the sequence, $a_{i}=0$ for some index $i$, then it follows that $a_{i+1}=a_{i-1} a_{i}+1$ and $a_{i+2}=a_{i} a_{i+1}+1$ are two consecutive positive elements in the sequences and we get the same contradiction again.\n\nNotice that after any two consecutive negative numbers the next one must be positive: if $a_{i}<0$ and $a_{i+1}<0$, then $a_{i+2}=a_{1} a_{i+1}+1>1>0$. Hence, the positive and negative numbers follow each other in such a way that each positive term is followed by one or two negative values and then comes the next positive term.\n\nConsider the case when the positive and negative values alternate. So, if $a_{i}$ is a negative value then $a_{i+1}$ is positive, $a_{i+2}$ is negative and $a_{i+3}$ is positive again.\n\nNotice that $a_{i} a_{i+1}+1=a_{i+2}<0<a_{i+3}=a_{i+1} a_{i+2}+1$; by $a_{i+1}>0$ we conclude $a_{i}<a_{i+2}$. Hence, the negative values form an infinite increasing subsequence, $a_{i}<a_{i+2}<a_{i+4}<\\ldots$, which is not possible, because the sequence is periodic.\n\nThe only case left is when there are consecutive negative numbers in the sequence. Suppose that $a_{i}$ and $a_{i+1}$ are negative; then $a_{i+2}=a_{i} a_{i+1}+1>1$. The number $a_{i+3}$ must be negative. We show that $a_{i+4}$ also must be negative.\n\nNotice that $a_{i+3}$ is negative and $a_{i+4}=a_{i+2} a_{i+3}+1<1<a_{i} a_{i+1}+1=a_{i+2}$, so\n\n$$\na_{i+5}-a_{i+4}=\\left(a_{i+3} a_{i+4}+1\\right)-\\left(a_{i+2} a_{i+3}+1\\right)=a_{i+3}\\left(a_{i+4}-a_{i+2}\\right)>0,\n$$\n\ntherefore $a_{i+5}>a_{i+4}$. Since at most one of $a_{i+4}$ and $a_{i+5}$ can be positive, that means that $a_{i+4}$ must be negative.\n\nNow $a_{i+3}$ and $a_{i+4}$ are negative and $a_{i+5}$ is positive; so after two negative and a positive terms, the next three terms repeat the same pattern. That completes the solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_algebra_p3",
    "formal_statement": "theorem fimo_2018_algebra_p3\n  (S : Set ℕ)\n  (h₀ : ∀ x ∈ S, 0 < x) :\n  (∃ (F G : Finset ℕ), (∀ x ∈ F, x ∈ S) ∧ (∀ x ∈ G, x ∈ S) ∧ F ≠ G ∧ (∑ x in F, (↑x : ℚ)⁻¹) = (∑ x in G, (↑x : ℚ)⁻¹)) ∨\n  (∃ (r : ℚ), 0 < r ∧ r < 1 ∧ ∀ (F : Finset ℕ), (∀ x ∈ F, x ∈ S) → (∑ x in F, (↑x : ℚ)⁻¹) ≠ r) := by sorry",
    "informal_statement": "Given any set $S$ of positive integers, show that at least one of the following two assertions holds:\n\n(1) There exist distinct finite subsets $F$ and $G$ of $S$ such that $\\sum_{x \\in F} 1 / x=\\sum_{x \\in G} 1 / x$;\n\n(2) There exists a positive rational number $r<1$ such that $\\sum_{x \\in F} 1 / x \\neq r$ for all finite subsets $F$ of $S$.",
    "informal_proof": "Argue indirectly. Agree, as usual, that the empty sum is 0 to consider rationals in $[0,1)$; adjoining 0 causes no harm, since $\\sum_{x \\in F} 1 / x=0$ for no nonempty finite subset $F$ of $S$. For every rational $r$ in $[0,1)$, let $F_{r}$ be the unique finite subset of $S$ such that $\\sum_{x \\in F_{r}} 1 / x=r$. The argument hinges on the lemma below.\n\nLemma. If $x$ is a member of $S$ and $q$ and $r$ are rationals in [0,1) such that $q-r=1 / x$, then $x$ is a member of $F_{q}$ if and only if it is not one of $F_{r}$.\n\nProof. If $x$ is a member of $F_{q}$, then\n\n$$\n\\sum_{y \\in F_{q} \\backslash\\{x\\}} \\frac{1}{y}=\\sum_{y \\in F_{q}} \\frac{1}{y}-\\frac{1}{x}=q-\\frac{1}{x}=r=\\sum_{y \\in F_{r}} \\frac{1}{y},\n$$\n\nso $F_{r}=F_{q} \\backslash\\{x\\}$, and $x$ is not a member of $F_{r}$. Conversely, if $x$ is not a member of $F_{r}$, then\n\n$$\n\\sum_{y \\in F_{r} \\cup\\{x\\}} \\frac{1}{y}=\\sum_{y \\in F_{r}} \\frac{1}{y}+\\frac{1}{x}=r+\\frac{1}{x}=q=\\sum_{y \\in F_{q}} \\frac{1}{y},\n$$\n\nso $F_{q}=F_{r} \\cup\\{x\\}$, and $x$ is a member of $F_{q}$.\n\nConsider now an element $x$ of $S$ and a positive rational $r<1$. Let $n=\\lfloor r x\\rfloor$ and consider the sets $F_{r-k / x}, k=0, \\ldots, n$. Since $0 \\leqslant r-n / x<1 / x$, the set $F_{r-n / x}$ does not contain $x$, and a repeated application of the lemma shows that the $F_{r-(n-2 k) / x}$ do not contain $x$, whereas the $F_{r-(n-2 k-1) / x}$ do. Consequently, $x$ is a member of $F_{r}$ if and only if $n$ is odd.\n\nFinally, consider $F_{2 / 3}$. By the preceding, $\\lfloor 2 x / 3\\rfloor$ is odd for each $x$ in $F_{2 / 3}$, so $2 x / 3$ is not integral. Since $F_{2 / 3}$ is finite, there exists a positive rational $\\varepsilon$ such that $\\lfloor(2 / 3-\\varepsilon) x\\rfloor=\\lfloor 2 x / 3\\rfloor$ for all $x$ in $F_{2 / 3}$. This implies that $F_{2 / 3}$ is a subset of $F_{2 / 3-\\varepsilon}$ which is impossible.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_algebra_p4",
    "formal_statement": "theorem fimo_2018_algebra_p4\n  (a : ℕ → ℝ)\n  (h₀ : a 0 = 0)\n  (h₁ : a 1 = 1)\n  (h₂ : ∀ n ≥ 2, ∃ k ∈ Set.Ico 1 (n + 1), a n = (Finset.sum (Finset.Ico (n - k) n) a) / k) :\n  a 2018 - a 2017 ≤ 2016 / (2017^2) := by sorry",
    "informal_statement": "Let $a_{0}, a_{1}, a_{2}, \\ldots$ be a sequence of real numbers such that $a_{0}=0, a_{1}=1$, and for every $n \\geqslant 2$ there exists $1 \\leqslant k \\leqslant n$ satisfying\n\n$$\na_{n}=\\frac{a_{n-1}+\\cdots+a_{n-k}}{k}\n$$\n\nFind the maximal possible value of $a_{2018}-a_{2017}$.\n\nThe final answer is that the maximal value is $\\frac{2016}{2017^{2}}$.",
    "informal_proof": "The claimed maximal value is achieved at\n\n$$\n\\begin{gathered}\na_{1}=a_{2}=\\cdots=a_{2016}=1, \\quad a_{2017}=\\frac{a_{2016}+\\cdots+a_{0}}{2017}=1-\\frac{1}{2017}, \\\\\na_{2018}=\\frac{a_{2017}+\\cdots+a_{1}}{2017}=1-\\frac{1}{2017^{2}} .\n\\end{gathered}\n$$\n\nNow we need to show that this value is optimal. For brevity, we use the notation\n\n$$\nS(n, k)=a_{n-1}+a_{n-2}+\\cdots+a_{n-k} \\quad \\text { for nonnegative integers } k \\leqslant n \\text {. }\n$$\n\nIn particular, $S(n, 0)=0$ and $S(n, 1)=a_{n-1}$. In these terms, for every integer $n \\geqslant 2$ there exists a positive integer $k \\leqslant n$ such that $a_{n}=S(n, k) / k$.\n\nFor every integer $n \\geqslant 1$ we define\n\n$$\nM_{n}=\\max _{1 \\leqslant k \\leqslant n} \\frac{S(n, k)}{k}, \\quad m_{n}=\\min _{1 \\leqslant k \\leqslant n} \\frac{S(n, k)}{k}, \\quad \\text { and } \\quad \\Delta_{n}=M_{n}-m_{n} \\geqslant 0 .\n$$\n\nBy definition, $a_{n} \\in\\left[m_{n}, M_{n}\\right]$ for all $n \\geqslant 2$; on the other hand, $a_{n-1}=S(n, 1) / 1 \\in\\left[m_{n}, M_{n}\\right]$. Therefore,\n\n$$\na_{2018}-a_{2017} \\leqslant M_{2018}-m_{2018}=\\Delta_{2018}\n$$\n\nand we are interested in an upper bound for $\\Delta_{2018}$.\n\nAlso by definition, for any $0<k \\leqslant n$ we have $k m_{n} \\leqslant S(n, k) \\leqslant k M_{n}$; notice that these inequalities are also valid for $k=0$.\n\nClaim 1. For every $n>2$, we have $\\Delta_{n} \\leqslant \\frac{n-1}{n} \\Delta_{n-1}$.\n\nProof. Choose positive integers $k, \\ell \\leqslant n$ such that $M_{n}=S(n, k) / k$ and $m_{n}=S(n, \\ell) / \\ell$. We have $S(n, k)=a_{n-1}+S(n-1, k-1)$, so\n\n$$\nk\\left(M_{n}-a_{n-1}\\right)=S(n, k)-k a_{n-1}=S(n-1, k-1)-(k-1) a_{n-1} \\leqslant(k-1)\\left(M_{n-1}-a_{n-1}\\right),\n$$\n\nsince $S(n-1, k-1) \\leqslant(k-1) M_{n-1}$. Similarly, we get\n\n$$\n\\ell\\left(a_{n-1}-m_{n}\\right)=(\\ell-1) a_{n-1}-S(n-1, \\ell-1) \\leqslant(\\ell-1)\\left(a_{n-1}-m_{n-1}\\right) .\n$$\n\nSince $m_{n-1} \\leqslant a_{n-1} \\leqslant M_{n-1}$ and $k, \\ell \\leqslant n$, the obtained inequalities yield\n\n$$\n\\begin{aligned}\n& M_{n}-a_{n-1} \\leqslant \\frac{k-1}{k}\\left(M_{n-1}-a_{n-1}\\right) \\leqslant \\frac{n-1}{n}\\left(M_{n-1}-a_{n-1}\\right) \\quad \\text { and } \\\\\n& a_{n-1}-m_{n} \\leqslant \\frac{\\ell-1}{\\ell}\\left(a_{n-1}-m_{n-1}\\right) \\leqslant \\frac{n-1}{n}\\left(a_{n-1}-m_{n-1}\\right) .\n\\end{aligned}\n$$\n\nTherefore,\n\n$$\n\\Delta_{n}=\\left(M_{n}-a_{n-1}\\right)+\\left(a_{n-1}-m_{n}\\right) \\leqslant \\frac{n-1}{n}\\left(\\left(M_{n-1}-a_{n-1}\\right)+\\left(a_{n-1}-m_{n-1}\\right)\\right)=\\frac{n-1}{n} \\Delta_{n-1} .\n$$\n\nBack to the problem, if $a_{n}=1$ for all $n \\leqslant 2017$, then $a_{2018} \\leqslant 1$ and hence $a_{2018}-a_{2017} \\leqslant 0$. Otherwise, let $2 \\leqslant q \\leqslant 2017$ be the minimal index with $a_{q}<1$. We have $S(q, i)=i$ for all $i=1,2, \\ldots, q-1$, while $S(q, q)=q-1$. Therefore, $a_{q}<1$ yields $a_{q}=S(q, q) / q=1-\\frac{1}{q}$.\n\nNow we have $S(q+1, i)=i-\\frac{1}{q}$ for $i=1,2, \\ldots, q$, and $S(q+1, q+1)=q-\\frac{1}{q}$. This gives us\n\n$$\nm_{q+1}=\\frac{S(q+1,1)}{1}=\\frac{S(q+1, q+1)}{q+1}=\\frac{q-1}{q} \\quad \\text { and } \\quad M_{q+1}=\\frac{S(q+1, q)}{q}=\\frac{q^{2}-1}{q^{2}}\n$$\n\nso $\\Delta_{q+1}=M_{q+1}-m_{q+1}=(q-1) / q^{2}$. Denoting $N=2017 \\geqslant q$ and using Claim 1 for $n=q+2, q+3, \\ldots, N+1$ we finally obtain\n\n$$\n\\Delta_{N+1} \\leqslant \\frac{q-1}{q^{2}} \\cdot \\frac{q+1}{q+2} \\cdot \\frac{q+2}{q+3} \\cdots \\frac{N}{N+1}=\\frac{1}{N+1}\\left(1-\\frac{1}{q^{2}}\\right) \\leqslant \\frac{1}{N+1}\\left(1-\\frac{1}{N^{2}}\\right)=\\frac{N-1}{N^{2}},\n$$\n\nas required.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_algebra_p5",
    "formal_statement": "theorem fimo_2018_algebra_p5\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, 0 < x ∧ 0 < y → (x + 1 / x) * f y = f (x * y) + f (y / x)) :\n  ∃ (c₁ c₂ : ℝ), ∀ x, 0 < x → f x = c₁ * x + c₂ / x := by sorry",
    "informal_statement": "Determine all functions $f:(0, \\infty) \\rightarrow \\mathbb{R}$ satisfying\n\n$$\n\\left(x+\\frac{1}{x}\\right) f(y)=f(x y)+f\\left(\\frac{y}{x}\\right)\n$$\n\nfor all $x, y>0$.\n\nThe final answer is $f(x)=C_{1} x+\\frac{C_{2}}{x}$ with arbitrary constants $C_{1}$ and $C_{2}$.",
    "informal_proof": "Fix a real number $a>1$, and take a new variable $t$. For the values $f(t), f\\left(t^{2}\\right)$, $f(a t)$ and $f\\left(a^{2} t^{2}\\right)$, the relation (1) provides a system of linear equations:\n\n$$\n\\begin{aligned}\n& x=y=t: \\quad\\left(t+\\frac{1}{t}\\right) f(t) \\quad=f\\left(t^{2}\\right)+f(1) \\\\\n& x=\\frac{t}{a}, y=a t: \\quad\\left(\\frac{t}{a}+\\frac{a}{t}\\right) f(a t)=f\\left(t^{2}\\right)+f\\left(a^{2}\\right) \\\\\n& x=a^{2} t, y=t: \\quad\\left(a^{2} t+\\frac{1}{a^{2} t}\\right) f(t)=f\\left(a^{2} t^{2}\\right)+f\\left(\\frac{1}{a^{2}}\\right) \\\\\n& x=y=a t: \\quad\\left(a t+\\frac{1}{a t}\\right) f(a t)=f\\left(a^{2} t^{2}\\right)+f(1)\n\\end{aligned}\n$$\n\nIn order to eliminate $f\\left(t^{2}\\right)$, take the difference of $(2 \\mathrm{a})$ and (2b); from (2c) and (2d) eliminate $f\\left(a^{2} t^{2}\\right)$; then by taking a linear combination, eliminate $f(a t)$ as well:\n\n$$\n\\begin{gathered}\n\\left(t+\\frac{1}{t}\\right) f(t)-\\left(\\frac{t}{a}+\\frac{a}{t}\\right) f(a t)=f(1)-f\\left(a^{2}\\right) \\text { and } \\\\\n\\left(a^{2} t+\\frac{1}{a^{2} t}\\right) f(t)-\\left(a t+\\frac{1}{a t}\\right) f(a t)=f\\left(1 / a^{2}\\right)-f(1), \\quad \\text { so } \\\\\n\\left(\\left(a t+\\frac{1}{a t}\\right)\\left(t+\\frac{1}{t}\\right)-\\left(\\frac{t}{a}+\\frac{a}{t}\\right)\\left(a^{2} t+\\frac{1}{a^{2} t}\\right)\\right) f(t) \\\\\n=\\left(a t+\\frac{1}{a t}\\right)\\left(f(1)-f\\left(a^{2}\\right)\\right)-\\left(\\frac{t}{a}+\\frac{a}{t}\\right)\\left(f\\left(1 / a^{2}\\right)-f(1)\\right) .\n\\end{gathered}\n$$\n\nNotice that on the left-hand side, the coefficient of $f(t)$ is nonzero and does not depend on $t$ :\n\n$$\n\\left(a t+\\frac{1}{a t}\\right)\\left(t+\\frac{1}{t}\\right)-\\left(\\frac{t}{a}+\\frac{a}{t}\\right)\\left(a^{2} t+\\frac{1}{a^{2} t}\\right)=a+\\frac{1}{a}-\\left(a^{3}+\\frac{1}{a^{3}}\\right)<0 .\n$$\n\nAfter dividing by this fixed number, we get\n\n$$\nf(t)=C_{1} t+\\frac{C_{2}}{t}\n$$\n\nwhere the numbers $C_{1}$ and $C_{2}$ are expressed in terms of $a, f(1), f\\left(a^{2}\\right)$ and $f\\left(1 / a^{2}\\right)$, and they do not depend on $t$.\n\nThe functions of the form (3) satisfy the equation:\n\n$$\n\\left(x+\\frac{1}{x}\\right) f(y)=\\left(x+\\frac{1}{x}\\right)\\left(C_{1} y+\\frac{C_{2}}{y}\\right)=\\left(C_{1} x y+\\frac{C_{2}}{x y}\\right)+\\left(C_{1} \\frac{y}{x}+C_{2} \\frac{x}{y}\\right)=f(x y)+f\\left(\\frac{y}{x}\\right) .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_algebra_p7",
    "formal_statement": "theorem fimo_2018_algebra_p7\n  (a b c d s : ℝ)\n  (h₀ : 0 ≤ a ∧ 0 ≤ b ∧ 0 ≤ c ∧ 0 ≤ d)\n  (h₁ : a + b + c + d = 100)\n  (h₂ : s = (a / (b + 7))^(1/3) + (b / (c + 7))^(1/3) + (c / (d + 7))^(1/3) + (d / (a + 7))^(1/3)) :\n  s ≤ 8 / (7^(1/3)) := by sorry",
    "informal_statement": "Find the maximal value of\n\n$$\nS=\\sqrt[3]{\\frac{a}{b+7}}+\\sqrt[3]{\\frac{b}{c+7}}+\\sqrt[3]{\\frac{c}{d+7}}+\\sqrt[3]{\\frac{d}{a+7}}\n$$\n\nwhere $a, b, c, d$ are nonnegative real numbers which satisfy $a+b+c+d=100$.\n\nThe final answer is $\\frac{8}{\\sqrt[3]{7}}$, reached when $(a, b, c, d)$ is a cyclic permutation of $(1,49,1,49)$.",
    "informal_proof": "Since the value $8 / \\sqrt[3]{7}$ is reached, it suffices to prove that $S \\leqslant 8 / \\sqrt[3]{7}$.\n\nAssume that $x, y, z, t$ is a permutation of the variables, with $x \\leqslant y \\leqslant z \\leqslant t$. Then, by the rearrangement inequality,\n\n$$\nS \\leqslant\\left(\\sqrt[3]{\\frac{x}{t+7}}+\\sqrt[3]{\\frac{t}{x+7}}\\right)+\\left(\\sqrt[3]{\\frac{y}{z+7}}+\\sqrt[3]{\\frac{z}{y+7}}\\right)\n$$\n\nClaim. The first bracket above does not exceed $\\sqrt[3]{\\frac{x+t+14}{7}}$.\n\nProof. Since\n\n$$\nX^{3}+Y^{3}+3 X Y Z-Z^{3}=\\frac{1}{2}(X+Y-Z)\\left((X-Y)^{2}+(X+Z)^{2}+(Y+Z)^{2}\\right),\n$$\n\nthe inequality $X+Y \\leqslant Z$ is equivalent (when $X, Y, Z \\geqslant 0$ ) to $X^{3}+Y^{3}+3 X Y Z \\leqslant Z^{3}$. Therefore, the claim is equivalent to\n\n$$\n\\frac{x}{t+7}+\\frac{t}{x+7}+3 \\sqrt[3]{\\frac{x t(x+t+14)}{7(x+7)(t+7)}} \\leqslant \\frac{x+t+14}{7} .\n$$\n\nNotice that\n\n$$\n\\begin{aligned}\n& 3 \\sqrt[3]{\\frac{x t(x+t+14)}{7(x+7)(t+7)}}=3 \\sqrt[3]{\\frac{t(x+7)}{7(t+7)} \\cdot \\frac{x(t+7)}{7(x+7)}} \\cdot \\frac{7(x+t+14)}{(t+7)(x+7)} \\\\\n& \\leqslant \\frac{t(x+7)}{7(t+7)}+\\frac{x(t+7)}{7(x+7)}+\\frac{7(x+t+14)}{(t+7)(x+7)}\n\\end{aligned}\n$$\n\nby the AM-GM inequality, so it suffices to prove\n\n$$\n\\frac{x}{t+7}+\\frac{t}{x+7}+\\frac{t(x+7)}{7(t+7)}+\\frac{x(t+7)}{7(x+7)}+\\frac{7(x+t+14)}{(t+7)(x+7)} \\leqslant \\frac{x+t+14}{7} .\n$$\n\nA straightforward check verifies that the last inequality is in fact an equality.\n\nThe claim leads now to\n\n$$\nS \\leqslant \\sqrt[3]{\\frac{x+t+14}{7}}+\\sqrt[3]{\\frac{y+z+14}{7}} \\leqslant 2 \\sqrt[3]{\\frac{x+y+z+t+28}{14}}=\\frac{8}{\\sqrt[3]{7}},\n$$\n\nthe last inequality being due to the AM-CM inequality (or to the fact that $\\sqrt[3]{\\text { is concave on }}$ $[0, \\infty))$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_number_theory_p1",
    "formal_statement": "theorem fimo_2018_number_theory_p1\n  (n k : ℕ)\n  (h₀ : 0 < n ∧ 0 < k)\n  (h₁ : n ≠ k)\n  (h₂ : ∃ s : ℕ, 0 < s ∧ Finset.card (Nat.divisors (s * n)) = Finset.card (Nat.divisors (s * k))) :\n  (¬ n ∣ k) ∧ (¬ k ∣ n) := by sorry",
    "informal_statement": "Determine all pairs $(n, k)$ of distinct positive integers such that there exists a positive integer $s$ for which the numbers of divisors of $s n$ and of $s k$ are equal.\n\nThe final answers are all pairs $(n, k)$ such that $n \\nmid k$ and $k \\nmid n$.",
    "informal_proof": "As usual, the number of divisors of a positive integer $n$ is denoted by $d(n)$. If $n=\\prod_{i} p_{i}^{\\alpha_{i}}$ is the prime factorisation of $n$, then $d(n)=\\prod_{i}\\left(\\alpha_{i}+1\\right)$.\n\nWe start by showing that one cannot find any suitable number $s$ if $k \\mid n$ or $n \\mid k$ (and $k \\neq n)$. Suppose that $n \\mid k$, and choose any positive integer $s$. Then the set of divisors of $s n$ is a proper subset of that of $s k$, hence $d(s n)<d(s k)$. Therefore, the pair $(n, k)$ does not satisfy the problem requirements. The case $k \\mid n$ is similar.\n\nNow assume that $n \\nmid k$ and $k \\nmid n$. Let $p_{1}, \\ldots, p_{t}$ be all primes dividing $n k$, and consider the prime factorisations\n\n$$\nn=\\prod_{i=1}^{t} p_{i}^{\\alpha_{i}} \\quad \\text { and } \\quad k=\\prod_{i=1}^{t} p_{i}^{\\beta_{i}} .\n$$\n\nIt is reasonable to search for the number $s$ having the form\n\n$$\ns=\\prod_{i=1}^{t} p_{i}^{\\gamma_{i}}\n$$\n\nThe (nonnegative integer) exponents $\\gamma_{i}$ should be chosen so as to satisfy\n\n$$\n\\frac{d(s n)}{d(s k)}=\\prod_{i=1}^{t} \\frac{\\alpha_{i}+\\gamma_{i}+1}{\\beta_{i}+\\gamma_{i}+1}=1 .\n$$\n\nFirst of all, if $\\alpha_{i}=\\beta_{i}$ for some $i$, then, regardless of the value of $\\gamma_{i}$, the corresponding factor in (1) equals 1 and does not affect the product. So we may assume that there is no such index $i$. For the other factors in (1), the following lemma is useful.\n\nLemma. Let $\\alpha>\\beta$ be nonnegative integers. Then, for every integer $M \\geqslant \\beta+1$, there exists a nonnegative integer $\\gamma$ such that\n\n$$\n\\frac{\\alpha+\\gamma+1}{\\beta+\\gamma+1}=1+\\frac{1}{M}=\\frac{M+1}{M}\n$$\n\nProof.\n\n$$\n\\frac{\\alpha+\\gamma+1}{\\beta+\\gamma+1}=1+\\frac{1}{M} \\Longleftrightarrow \\frac{\\alpha-\\beta}{\\beta+\\gamma+1}=\\frac{1}{M} \\Longleftrightarrow \\gamma=M(\\alpha-\\beta)-(\\beta+1) \\geqslant 0\n$$\n\nNow we can finish the solution. Without loss of generality, there exists an index $u$ such that $\\alpha_{i}>\\beta_{i}$ for $i=1,2, \\ldots, u$, and $\\alpha_{i}<\\beta_{i}$ for $i=u+1, \\ldots, t$. The conditions $n \\nmid k$ and $k \\nmid n$ mean that $1 \\leqslant u \\leqslant t-1$.\n\nChoose an integer $X$ greater than all the $\\alpha_{i}$ and $\\beta_{i}$. By the lemma, we can define the numbers $\\gamma_{i}$ so as to satisfy\n\n$$\n\\begin{array}{ll}\n\\frac{\\alpha_{i}+\\gamma_{i}+1}{\\beta_{i}+\\gamma_{i}+1}=\\frac{u X+i}{u X+i-1} & \\text { for } i=1,2, \\ldots, u, \\text { and } \\\\\n\\frac{\\beta_{u+i}+\\gamma_{u+i}+1}{\\alpha_{u+i}+\\gamma_{u+i}+1}=\\frac{(t-u) X+i}{(t-u) X+i-1} & \\text { for } i=1,2, \\ldots, t-u .\n\\end{array}\n$$\n\nThen we will have\n\n$$\n\\frac{d(s n)}{d(s k)}=\\prod_{i=1}^{u} \\frac{u X+i}{u X+i-1} \\cdot \\prod_{i=1}^{t-u} \\frac{(t-u) X+i-1}{(t-u) X+i}=\\frac{u(X+1)}{u X} \\cdot \\frac{(t-u) X}{(t-u)(X+1)}=1,\n$$\n\nas required.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_number_theory_p2",
    "formal_statement": "theorem fimo_2018_number_theory_p2\n  (n : ℕ)\n  (h₀ : n > 1)\n  (table : Matrix (Fin n) (Fin n) ℕ)\n  (h₁ : ∀ i j, table i j ≡ 1 [MOD n])\n  (h₂ : ∀ i, (∑ j, table i j) ≡ n [MOD n^2])\n  (h₃ : ∀ j, (∑ i, table i j) ≡ n [MOD n^2]) :\n  (∑ i, ∏ j, table i j) ≡ (∑ j, ∏ i, table i j) [MOD n^4] := by sorry",
    "informal_statement": "Let $n>1$ be a positive integer. Each cell of an $n \\times n$ table contains an integer. Suppose that the following conditions are satisfied:\n\n(i) Each number in the table is congruent to 1 modulo $n$;\n\n(ii) The sum of numbers in any row, as well as the sum of numbers in any column, is congruent to $n$ modulo $n^{2}$.\n\nLet $R_{i}$ be the product of the numbers in the $i^{\\text {th }}$ row, and $C_{j}$ be the product of the numbers in the $j^{\\text {th }}$ column. Prove that the sums $R_{1}+\\cdots+R_{n}$ and $C_{1}+\\cdots+C_{n}$ are congruent modulo $n^{4}$.",
    "informal_proof": "Let $A_{i, j}$ be the entry in the $i^{\\text {th }}$ row and the $j^{\\text {th }}$ column; let $P$ be the product of all $n^{2}$ entries. For convenience, denote $a_{i, j}=A_{i, j}-1$ and $r_{i}=R_{i}-1$. We show that\n\n$$\n\\sum_{i=1}^{n} R_{i} \\equiv(n-1)+P \\quad\\left(\\bmod n^{4}\\right)\n$$\n\nDue to symmetry of the problem conditions, the sum of all the $C_{j}$ is also congruent to $(n-1)+P$ modulo $n^{4}$, whence the conclusion.\n\nBy condition $(i)$, the number $n$ divides $a_{i, j}$ for all $i$ and $j$. So, every product of at least two of the $a_{i, j}$ is divisible by $n^{2}$, hence\n\n$R_{i}=\\prod_{j=1}^{n}\\left(1+a_{i, j}\\right)=1+\\sum_{j=1}^{n} a_{i, j}+\\sum_{1 \\leqslant j_{1}<j_{2} \\leqslant n} a_{i, j_{1}} a_{i, j_{2}}+\\cdots \\equiv 1+\\sum_{j=1}^{n} a_{i, j} \\equiv 1-n+\\sum_{j=1}^{n} A_{i, j} \\quad\\left(\\bmod n^{2}\\right)$\n\nfor every index $i$. Using condition $(i i)$, we obtain $R_{i} \\equiv 1\\left(\\bmod n^{2}\\right)$, and so $n^{2} \\mid r_{i}$.\n\nTherefore, every product of at least two of the $r_{i}$ is divisible by $n^{4}$. Repeating the same argument, we obtain\n\n$$\nP=\\prod_{i=1}^{n} R_{i}=\\prod_{i=1}^{n}\\left(1+r_{i}\\right) \\equiv 1+\\sum_{i=1}^{n} r_{i} \\quad\\left(\\bmod n^{4}\\right)\n$$\n\nwhence\n\n$$\n\\sum_{i=1}^{n} R_{i}=n+\\sum_{i=1}^{n} r_{i} \\equiv n+(P-1) \\quad\\left(\\bmod n^{4}\\right)\n$$\n\nas desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_number_theory_p5",
    "formal_statement": "theorem fimo_2018_number_theory_p5\n  (x y z t : ℕ+)\n  (h₀ : x * y - z * t = x + y)\n  (h₁ : x + y = z + t) :\n  ¬(∃ m n : ℕ+, x * y = m^2 ∧ z * t = n^2) := by sorry",
    "informal_statement": "Four positive integers $x, y, z$, and $t$ satisfy the relations\n\n$$\nx y-z t=x+y=z+t\n$$\n\nIs it possible that both $x y$ and $z t$ are perfect squares?\n\nThe final answer is no.",
    "informal_proof": "Arguing indirectly, assume that $x y=a^{2}$ and $z t=c^{2}$ with $a, c>0$.\n\nSuppose that the number $x+y=z+t$ is odd. Then $x$ and $y$ have opposite parity, as well as $z$ and $t$. This means that both $x y$ and $z t$ are even, as well as $x y-z t=x+y$; a contradiction. Thus, $x+y$ is even, so the number $s=\\frac{x+y}{2}=\\frac{z+t}{2}$ is a positive integer.\n\nNext, we set $b=\\frac{|x-y|}{2}, d=\\frac{|z-t|}{2}$. Now the problem conditions yield\n\n$$\ns^{2}=a^{2}+b^{2}=c^{2}+d^{2}\n$$\n\nand\n\n$$\n2 s=a^{2}-c^{2}=d^{2}-b^{2}\n$$\n\n(the last equality in (2) follows from (1)). We readily get from (2) that $a, d>0$.\n\nIn the sequel we will use only the relations (1) and (2), along with the fact that $a, d, s$ are positive integers, while $b$ and $c$ are nonnegative integers, at most one of which may be zero. Since both relations are symmetric with respect to the simultaneous swappings $a \\leftrightarrow d$ and $b \\leftrightarrow c$, we assume, without loss of generality, that $b \\geqslant c$ (and hence $b>0$ ). Therefore, $d^{2}=2 s+b^{2}>c^{2}$, whence\n\n$$\nd^{2}>\\frac{c^{2}+d^{2}}{2}=\\frac{s^{2}}{2}\n$$\n\nOn the other hand, since $d^{2}-b^{2}$ is even by (2), the numbers $b$ and $d$ have the same parity, so $0<b \\leqslant d-2$. Therefore,\n\n$$\n2 s=d^{2}-b^{2} \\geqslant d^{2}-(d-2)^{2}=4(d-1), \\quad \\text { i.e., } \\quad d \\leqslant \\frac{s}{2}+1\n$$\n\nCombining (3) and (4) we obtain\n\n$$\n2 s^{2}<4 d^{2} \\leqslant 4\\left(\\frac{s}{2}+1\\right)^{2}, \\quad \\text { or } \\quad(s-2)^{2}<8\n$$\n\nwhich yields $s \\leqslant 4$.\n\nFinally, an easy check shows that each number of the form $s^{2}$ with $1 \\leqslant s \\leqslant 4$ has a unique representation as a sum of two squares, namely $s^{2}=s^{2}+0^{2}$. Thus, (1) along with $a, d>0$ imply $b=c=0$, which is impossible.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2018_number_theory_p6",
    "formal_statement": "theorem fimo_2018_number_theory_p6\n  (f : ℕ → ℕ)\n  (h₀ : ∀ m n, 1 < m → 1 < n → f (m + n) ∣ f m + f n)\n  (h₁ : ∀ x, 1 < x → 2 ≤ f x) :\n  ∃ c : ℕ, c > 1 ∧ ∀ x, 1 < x → c ∣ f x := by sorry",
    "informal_statement": "Let $f:\\{1,2,3, \\ldots\\} \\rightarrow\\{2,3, \\ldots\\}$ be a function such that $f(m+n) \\mid f(m)+f(n)$ for all pairs $m, n$ of positive integers. Prove that there exists a positive integer $c>1$ which divides all values of $f$.",
    "informal_proof": "For every positive integer $m$, define $S_{m}=\\{n: m \\mid f(n)\\}$.\n\nLemma. If the set $S_{m}$ is infinite, then $S_{m}=\\{d, 2 d, 3 d, \\ldots\\}=d \\cdot \\mathbb{Z}_{>0}$ for some positive integer $d$.\n\nProof. Let $d=\\min S_{m}$; the definition of $S_{m}$ yields $m \\mid f(d)$.\n\nWhenever $n \\in S_{m}$ and $n>d$, we have $m|f(n)| f(n-d)+f(d)$, so $m \\mid f(n-d)$ and therefore $n-d \\in S_{m}$. Let $r \\leqslant d$ be the least positive integer with $n \\equiv r(\\bmod d)$; repeating the same step, we can see that $n-d, n-2 d, \\ldots, r \\in S_{m}$. By the minimality of $d$, this shows $r=d$ and therefore $d \\mid n$.\n\nStarting from an arbitrarily large element of $S_{m}$, the process above reaches all multiples of $d$; so they all are elements of $S_{m}$.\n\nThe solution for the problem will be split into two cases.\n\nCase 1: The function $f$ is bounded.\n\nCall a prime $p$ frequent if the set $S_{p}$ is infinite, i.e., if $p$ divides $f(n)$ for infinitely many positive integers $n$; otherwise call $p$ sporadic. Since the function $f$ is bounded, there are only a finite number of primes that divide at least one $f(n)$; so altogether there are finitely many numbers $n$ such that $f(n)$ has a sporadic prime divisor. Let $N$ be a positive integer, greater than all those numbers $n$.\n\nLet $p_{1}, \\ldots, p_{k}$ be the frequent primes. By the lemma we have $S_{p_{i}}=d_{i} \\cdot \\mathbb{Z}_{>0}$ for some $d_{i}$. Consider the number\n\n$$\nn=N d_{1} d_{2} \\cdots d_{k}+1\n$$\n\nDue to $n>N$, all prime divisors of $f(n)$ are frequent primes. Let $p_{i}$ be any frequent prime divisor of $f(n)$. Then $n \\in S_{p_{i}}$, and therefore $d_{i} \\mid n$. But $n \\equiv 1\\left(\\bmod d_{i}\\right)$, which means $d_{i}=1$. Hence $S_{p_{i}}=1 \\cdot \\mathbb{Z}_{>0}=\\mathbb{Z}_{>0}$ and therefore $p_{i}$ is a common divisor of all values $f(n)$.\n\nCase 2: $f$ is unbounded.\n\nWe prove that $f(1)$ divides all $f(n)$.\n\nLet $a=f(1)$. Since $1 \\in S_{a}$, by the lemma it suffices to prove that $S_{a}$ is an infinite set.\n\nCall a positive integer $p$ a peak if $f(p)>\\max (f(1), \\ldots, f(p-1))$. Since $f$ is not bounded, there are infinitely many peaks. Let $1=p_{1}<p_{2}<\\ldots$ be the sequence of all peaks, and let $h_{k}=f\\left(p_{k}\\right)$. Notice that for any peak $p_{i}$ and for any $k<p_{i}$, we have $f\\left(p_{i}\\right) \\mid f(k)+f\\left(p_{i}-k\\right)<$ $2 f\\left(p_{i}\\right)$, hence\n\n$$\nf(k)+f\\left(p_{i}-k\\right)=f\\left(p_{i}\\right)=h_{i}\n$$\n\nBy the pigeonhole principle, among the numbers $h_{1}, h_{2}, \\ldots$ there are infinitely many that are congruent modulo $a$. Let $k_{0}<k_{1}<k_{2}<\\ldots$ be an infinite sequence of positive integers such that $h_{k_{0}} \\equiv h_{k_{1}} \\equiv \\ldots(\\bmod a)$. Notice that\n\n$$\nf\\left(p_{k_{i}}-p_{k_{0}}\\right)=f\\left(p_{k_{i}}\\right)-f\\left(p_{k_{0}}\\right)=h_{k_{i}}-h_{k_{0}} \\equiv 0 \\quad(\\bmod a)\n$$\n\nso $p_{k_{i}}-p_{k_{0}} \\in S_{a}$ for all $i=1,2, \\ldots$ This provides infinitely many elements in $S_{a}$.\n\nHence, $S_{a}$ is an infinite set, and therefore $f(1)=a$ divides $f(n)$ for every $n$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_algebra_p1",
    "formal_statement": "theorem fimo_2019_algebra_p1\n  (f : ℤ → ℤ)\n  (h₀ : ∀ a b, f (2 * a) + 2 * f b = f (f (a + b))) :\n  (∀ n, f n = 0) ∨ (∃ K : ℤ, ∀ n, f n = 2 * n + K) := by sorry",
    "informal_statement": "Let $\\mathbb{Z}$ be the set of integers. Determine all functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ such that, for all integers $a$ and $b$\n\n$$\nf(2 a)+2 f(b)=f(f(a+b))\n$$\n\nThe final answers are $f(n)=0$ and $f(n)=2 n+K$ for any constant $K \\in \\mathbb{Z}$.",
    "informal_proof": "Most solutions to this problem first prove that $f$ must be linear, before determining all linear functions satisfying (1).\n\nSubstituting $a=0, b=n+1$ gives $f(f(n+1))=f(0)+2 f(n+1)$. Substituting $a=1, b=n$ gives $f(f(n+1))=f(2)+2 f(n)$.\n\nIn particular, $f(0)+2 f(n+1)=f(2)+2 f(n)$, and so $f(n+1)-f(n)=\\frac{1}{2}(f(2)-f(0))$. Thus $f(n+1)-f(n)$ must be constant. Since $f$ is defined only on $\\mathbb{Z}$, this tells us that $f$ must be a linear function; write $f(n)=M n+K$ for arbitrary constants $M$ and $K$, and we need only determine which choices of $M$ and $K$ work.\n\nNow, (1) becomes\n\n$$\n2 M a+K+2(M b+K)=M(M(a+b)+K)+K\n$$\n\nwhich we may rearrange to form\n\n$$\n(M-2)(M(a+b)+K)=0 .\n$$\n\nThus, either $M=2$, or $M(a+b)+K=0$ for all values of $a+b$. In particular, the only possible solutions are $f(n)=0$ and $f(n)=2 n+K$ for any constant $K \\in \\mathbb{Z}$, and these are easily seen to work.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_algebra_p2",
    "formal_statement": "theorem fimo_2019_algebra_p2\n  (u : ℕ → ℝ)\n  (a b : ℝ)\n  (h₀ : ∑ i in Finset.range 2019, u i = 0)\n  (h₁ : ∑ i in Finset.range 2019, u i ^ 2 = 1)\n  (h₂ : ∃ i, i < 2019 ∧ u i = a ∧ ∀ j, j < 2019 → u j ≥ a)\n  (h₃ : ∃ i, i < 2019 ∧ u i = b ∧ ∀ j, j < 2019 → u j ≤ b) :\n  a * b ≤ -1 / 2019 := by sorry",
    "informal_statement": "Let $u_{1}, u_{2}, \\ldots, u_{2019}$ be real numbers satisfying\n\n$$\nu_{1}+u_{2}+\\cdots+u_{2019}=0 \\text { and } u_{1}^{2}+u_{2}^{2}+\\cdots+u_{2019}^{2}=1 .\n$$\n\nLet $a=\\min \\left(u_{1}, u_{2}, \\ldots, u_{2019}\\right)$ and $b=\\max \\left(u_{1}, u_{2}, \\ldots, u_{2019}\\right)$. Prove that\n\n$$\na b \\leqslant-\\frac{1}{2019} .\n$$",
    "informal_proof": "Notice first that $b>0$ and $a<0$. Indeed, since $\\sum_{i=1}^{2019} u_{i}^{2}=1$, the variables $u_{i}$ cannot be all zero, and, since $\\sum_{i=1}^{2019} u_{i}=0$, the nonzero elements cannot be all positive or all negative.\n\nLet $P=\\left\\{i: u_{i}>0\\right\\}$ and $N=\\left\\{i: u_{i} \\leqslant 0\\right\\}$ be the indices of positive and nonpositive elements in the sequence, and let $p=|P|$ and $n=|N|$ be the sizes of these sets; then $p+n=2019$. By the condition $\\sum_{i=1}^{2019} u_{i}=0$ we have $0=\\sum_{i=1}^{2019} u_{i}=\\sum_{i \\in P} u_{i}-\\sum_{i \\in N}\\left|u_{i}\\right|$, so\n\n$$\n\\sum_{i \\in P} u_{i}=\\sum_{i \\in N}\\left|u_{i}\\right|\n$$\n\nAfter this preparation, estimate the sum of squares of the positive and nonpositive elements as follows:\n\n$$\n\\begin{aligned}\n& \\sum_{i \\in P} u_{i}^{2} \\leqslant \\sum_{i \\in P} b u_{i}=b \\sum_{i \\in P} u_{i}=b \\sum_{i \\in N}\\left|u_{i}\\right| \\leqslant b \\sum_{i \\in N}|a|=-n a b ; \\\\\n& \\sum_{i \\in N} u_{i}^{2} \\leqslant \\sum_{i \\in N}|a| \\cdot\\left|u_{i}\\right|=|a| \\sum_{i \\in N}\\left|u_{i}\\right|=|a| \\sum_{i \\in P} u_{i} \\leqslant|a| \\sum_{i \\in P} b=-p a b .\n\\end{aligned}\n$$\n\nThe sum of these estimates is\n\n$$\n1=\\sum_{i=1}^{2019} u_{i}^{2}=\\sum_{i \\in P} u_{i}^{2}+\\sum_{i \\in N} u_{i}^{2} \\leqslant-(p+n) a b=-2019 a b \\text {; }\n$$\n\nthat proves $a b \\leqslant \\frac{-1}{2019}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_algebra_p5",
    "formal_statement": "theorem fimo_2019_algebra_p5\n  (n : ℕ)\n  (x : Fin n → ℝ)\n  (h₀ : n > 1)\n  (h₁ : ∀ i j, i ≠ j → x i ≠ x j) :\n  ∑ i in Finset.univ, (∏ j in Finset.univ.filter (λ j ↦ j ≠ i), (1 - x i * x j) / (x i - x j)) = if Even n then 0 else 1 := by sorry",
    "informal_statement": "Let $x_{1}, x_{2}, \\ldots, x_{n}$ be different real numbers. Prove that\n\n$$\n\\sum_{1 \\leqslant i \\leqslant n} \\prod_{j \\neq i} \\frac{1-x_{i} x_{j}}{x_{i}-x_{j}}= \\begin{cases}0, & \\text { if } n \\text { is even } \\\\ 1, & \\text { if } n \\text { is odd }\\end{cases}\n$$",
    "informal_proof": "Let $G\\left(x_{1}, x_{2}, \\ldots, x_{n}\\right)$ be the function of the $n$ variables $x_{1}, x_{2}, \\ldots, x_{n}$ on the LHS of the required identity.\n\nSince both sides of the identity are rational functions, it suffices to prove it when all $x_{i} \\notin\\{\\pm 1\\}$. Define\n\n$$\nf(t)=\\prod_{i=1}^{n}\\left(1-x_{i} t\\right)\n$$\n\nand note that\n\n$$\nf\\left(x_{i}\\right)=\\left(1-x_{i}^{2}\\right) \\prod_{j \\neq i} 1-x_{i} x_{j}\n$$\n\nUsing the nodes $+1,-1, x_{1}, \\ldots, x_{n}$, the Lagrange interpolation formula gives us the following expression for $f$ :\n\n$$\n\\sum_{i=1}^{n} f\\left(x_{i}\\right) \\frac{(x-1)(x+1)}{\\left(x_{i}-1\\right)\\left(x_{i}+1\\right)} \\prod_{j \\neq i} \\frac{x-x_{j}}{x_{i}-x_{j}}+f(1) \\frac{x+1}{1+1} \\prod_{1 \\leqslant i \\leqslant n} \\frac{x-x_{i}}{1-x_{i}}+f(-1) \\frac{x-1}{-1-1} \\prod_{1 \\leqslant i \\leqslant n} \\frac{x-x_{i}}{1-x_{i}} .\n$$\n\nThe coefficient of $t^{n+1}$ in $f(t)$ is 0 , since $f$ has degree $n$. The coefficient of $t^{n+1}$ in the above expression of $f$ is\n\n$$\n\\begin{aligned}\n0 & =\\sum_{1 \\leqslant i \\leqslant n} \\frac{f\\left(x_{i}\\right)}{\\prod_{j \\neq i}\\left(x_{i}-x_{j}\\right) \\cdot\\left(x_{i}-1\\right)\\left(x_{i}+1\\right)}+\\frac{f(1)}{\\prod_{1 \\leqslant j \\leqslant n}\\left(1-x_{j}\\right) \\cdot(1+1)}+\\frac{f(-1)}{\\prod_{1 \\leqslant j \\leqslant n}\\left(-1-x_{j}\\right) \\cdot(-1-1)} \\\\\n& =-G\\left(x_{1}, \\ldots, x_{n}\\right)+\\frac{1}{2}+\\frac{(-1)^{n+1}}{2} .\n\\end{aligned}\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_algebra_p7_1",
    "formal_statement": "theorem fimo_2019_algebra_p7_1 :\n  ∃ (f : ℤ → ℤ), (∀ x y : ℤ, f (f (x + y) + y) = f (f x + y)) ∧\n  ∃ (v : ℤ), (∃ (X_v : Finset ℤ), (∀ x : ℤ, f x = v ↔ x ∈ X_v) ∧ ¬X_v = ∅) := by sorry",
    "informal_statement": "Let $\\mathbb{Z}$ be the set of integers. We consider functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ satisfying\n\n$$\nf(f(x+y)+y)=f(f(x)+y)\n$$\n\nfor all integers $x$ and $y$. For such a function, we say that an integer $v$ is $f$-rare if the set\n\n$$\nX_{v}=\\{x \\in \\mathbb{Z}: f(x)=v\\}\n$$\n\nis finite and nonempty.\n\nProve that there exists such a function $f$ for which there is an $f$-rare integer.",
    "informal_proof": "Let $f$ be the function where $f(0)=0$ and $f(x)$ is the largest power of 2 dividing $2 x$ for $x \\neq 0$. The integer 0 is evidently $f$-rare, so it remains to verify the functional equation.\n\nSince $f(2 x)=2 f(x)$ for all $x$, it suffices to verify the functional equation when at least one of $x$ and $y$ is odd (the case $x=y=0$ being trivial). If $y$ is odd, then we have\n\n$$\nf(f(x+y)+y)=2=f(f(x)+y)\n$$\n\nsince all the values attained by $f$ are even. If, on the other hand, $x$ is odd and $y$ is even, then we already have\n\n$$\nf(x+y)=2=f(x)\n$$\n\nfrom which the functional equation follows immediately.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_number_theory_p1",
    "formal_statement": "theorem fimo_2019_number_theory_p1\n  (m n : ℕ)\n  (h₀ : 0 < m ∧ 0 < n)\n  (h₁ : (∏ k in Finset.range n, (2^n - 2^k)) = Nat.factorial m) :\n  (m, n) = (1, 1) ∨ (m, n) = (3, 2) := by sorry",
    "informal_statement": "Find all pairs $(m, n)$ of positive integers satisfying the equation\n\n$$\n\\left(2^{n}-1\\right)\\left(2^{n}-2\\right)\\left(2^{n}-4\\right) \\cdots\\left(2^{n}-2^{n-1}\\right)=m !\n$$\n\nThe final answer is that the only such pairs are $(1,1)$ and $(3,2)$.",
    "informal_proof": "In all solutions, for any prime $p$ and positive integer $N$, we will denote by $v_{p}(N)$ the exponent of the largest power of $p$ that divides $N$. The left-hand side of (1) will be denoted by $L_{n}$; that is, $L_{n}=\\left(2^{n}-1\\right)\\left(2^{n}-2\\right)\\left(2^{n}-4\\right) \\cdots\\left(2^{n}-2^{n-1}\\right)$.\n\nWe will get an upper bound on $n$ from the speed at which $v_{2}\\left(L_{n}\\right)$ grows.\n\nFrom\n\n$$\nL_{n}=\\left(2^{n}-1\\right)\\left(2^{n}-2\\right) \\cdots\\left(2^{n}-2^{n-1}\\right)=2^{1+2+\\cdots+(n-1)}\\left(2^{n}-1\\right)\\left(2^{n-1}-1\\right) \\cdots\\left(2^{1}-1\\right)\n$$\n\nwe read\n\n$$\nv_{2}\\left(L_{n}\\right)=1+2+\\cdots+(n-1)=\\frac{n(n-1)}{2} .\n$$\n\nOn the other hand, $v_{2}(m !)$ is expressed by the Legendre formula as\n\n$$\nv_{2}(m !)=\\sum_{i=1}^{\\infty}\\left\\lfloor\\frac{m}{2^{i}}\\right\\rfloor\n$$\n\nAs usual, by omitting the floor functions,\n\n$$\nv_{2}(m !)<\\sum_{i=1}^{\\infty} \\frac{m}{2^{i}}=m .\n$$\n\nThus, $L_{n}=m$ ! implies the inequality\n\n$$\n\\frac{n(n-1)}{2}<m\n$$\n\nIn order to obtain an opposite estimate, observe that\n\n$$\nL_{n}=\\left(2^{n}-1\\right)\\left(2^{n}-2\\right) \\cdots\\left(2^{n}-2^{n-1}\\right)<\\left(2^{n}\\right)^{n}=2^{n^{2}} .\n$$\n\nWe claim that\n\n$$\n2^{n^{2}}<\\left(\\frac{n(n-1)}{2}\\right) ! \\quad \\text { for } n \\geqslant 6 .\n$$\n\nFor $n=6$ the estimate $(3)$ is true because $2^{6^{2}}<6.9 \\cdot 10^{10}$ and $\\left(\\frac{n(n-1)}{2}\\right) !=15 !>1.3 \\cdot 10^{12}$.\n\nFor $n \\geqslant 7$ we prove (3) by the following inequalities:\n\n$$\n\\begin{aligned}\n\\left(\\frac{n(n-1)}{2}\\right) ! & =15 ! \\cdot 16 \\cdot 17 \\cdots \\frac{n(n-1)}{2}>2^{36} \\cdot 16^{\\frac{n(n-1)}{2}-15} \\\\\n& =2^{2 n(n-1)-24}=2^{n^{2}} \\cdot 2^{n(n-2)-24}>2^{n^{2}}\n\\end{aligned}\n$$\n\nPutting together (2) and (3), for $n \\geqslant 6$ we get a contradiction, since\n\n$$\nL_{n}<2^{n^{2}}<\\left(\\frac{n(n-1)}{2}\\right) !<m !=L_{n}\n$$\n\nHence $n \\geqslant 6$ is not possible.\n\nChecking manually the cases $n \\leqslant 5$ we find\n\n$$\n\\begin{gathered}\nL_{1}=1=1 !, \\quad L_{2}=6=3 !, \\quad 5 !<L_{3}=168<6 !, \\\\\n7 !<L_{4}=20160<8 ! \\quad \\text { and } \\quad 10 !<L_{5}=9999360<11 !\n\\end{gathered}\n$$\n\nSo, there are two solutions:\n\n$$\n(m, n) \\in\\{(1,1),(3,2)\\}\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_number_theory_p2",
    "formal_statement": "theorem fimo_2019_number_theory_p2\n  (a b c : ℕ+)\n  (h₀ : a^3 + b^3 + c^3 = (a * b * c)^2) :\n  (a, b, c) = (1, 2, 3) ∨ (a, b, c) = (1, 3, 2) ∨ (a, b, c) = (2, 1, 3) ∨ (a, b, c) = (2, 3, 1) ∨ (a, b, c) = (3, 1, 2) ∨ (a, b, c) = (3, 2, 1) := by sorry",
    "informal_statement": "Find all triples $(a, b, c)$ of positive integers such that $a^{3}+b^{3}+c^{3}=(a b c)^{2}$.\n\nThe final answers are $(1,2,3)$ and its permutations.",
    "informal_proof": "Note that the equation is symmetric. In all solutions, we will assume without loss of generality that $a \\geqslant b \\geqslant c$, and prove that the only solution is $(a, b, c)=(3,2,1)$.\n\nThe first two solutions all start by proving that $c=1$.\n\nWe will start by proving that $c=1$. Note that\n\n$$\n3 a^{3} \\geqslant a^{3}+b^{3}+c^{3}>a^{3}\n$$\n\nSo $3 a^{3} \\geqslant(a b c)^{2}>a^{3}$ and hence $3 a \\geqslant b^{2} c^{2}>a$. Now $b^{3}+c^{3}=a^{2}\\left(b^{2} c^{2}-a\\right) \\geqslant a^{2}$, and so\n\n$$\n18 b^{3} \\geqslant 9\\left(b^{3}+c^{3}\\right) \\geqslant 9 a^{2} \\geqslant b^{4} c^{4} \\geqslant b^{3} c^{5}\n$$\n\nso $18 \\geqslant c^{5}$ which yields $c=1$.\n\nNow, note that we must have $a>b$, as otherwise we would have $2 b^{3}+1=b^{4}$ which has no positive integer solutions. So\n\n$$\na^{3}-b^{3} \\geqslant(b+1)^{3}-b^{3}>1\n$$\n\nand\n\n$$\n2 a^{3}>1+a^{3}+b^{3}>a^{3}\n$$\n\nwhich implies $2 a^{3}>a^{2} b^{2}>a^{3}$ and so $2 a>b^{2}>a$. Therefore\n\n$$\n4\\left(1+b^{3}\\right)=4 a^{2}\\left(b^{2}-a\\right) \\geqslant 4 a^{2}>b^{4}\n$$\n\nso $4>b^{3}(b-4)$; that is, $b \\leqslant 4$.\n\nNow, for each possible value of $b$ with $2 \\leqslant b \\leqslant 4$ we obtain a cubic equation for $a$ with constant coefficients. These are as follows:\n\n$$\n\\begin{array}{ll}\nb=2: & a^{3}-4 a^{2}+9=0 \\\\\nb=3: & a^{3}-9 a^{2}+28=0 \\\\\nb=4: & a^{3}-16 a^{2}+65=0 .\n\\end{array}\n$$\n\nThe only case with an integer solution for $a$ with $b \\leqslant a$ is $b=2$, leading to $(a, b, c)=(3,2,1)$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_number_theory_p4",
    "formal_statement": "theorem fimo_2019_number_theory_p4\n  (C : ℕ)\n  (h₀ : 0 < C)\n  (f : ℕ → ℕ)\n  (h₁ : ∀ a b, 0 < a ∧ 0 < b → a + b > C → a + f b ∣ a^2 + b * f a) :\n  (∃ k, 0 < k ∧ ∀ a, 0 < a → f a = k * a) := by sorry",
    "informal_statement": "Let $\\mathbb{Z}_{>0}$ be the set of positive integers. A positive integer constant $C$ is given. Find all functions $f: \\mathbb{Z}_{>0} \\rightarrow \\mathbb{Z}_{>0}$ such that, for all positive integers $a$ and $b$ satisfying $a+b>C$,\n\n$$\na+f(b) \\mid a^{2}+b f(a)\n$$\n\nThe final answers are exactly the functions $f(a)=k a$ for some constant $k \\in \\mathbb{Z}_{>0}$ (irrespective of the value of $C$ ).",
    "informal_proof": "It is easy to verify that the functions $f(a)=k a$ satisfy $(*)$. Thus, in the proofs below, we will only focus on the converse implication: that condition $(*)$ implies that $f=k a$.\n\nA common minor part of these solutions is the derivation of some relatively easy bounds on the function $f$. An upper bound is easily obtained by setting $a=1$ in (*), giving the inequality\n\n$$\nf(b) \\leqslant b \\cdot f(1)\n$$\n\nfor all sufficiently large $b$. The corresponding lower bound is only marginally more difficult to obtain: substituting $b=1$ in the original equation shows that\n\n$$\na+f(1) \\mid\\left(a^{2}+f(a)\\right)-(a-f(1)) \\cdot(a+f(1))=f(1)^{2}+f(a)\n$$\n\nfor all sufficiently large $a$. It follows from this that one has the lower bound\n\n$$\nf(a) \\geqslant a+f(1) \\cdot(1-f(1))\n$$\n\nagain for all sufficiently large $a$.\n\nEach of the following proofs makes use of at least one of these bounds.\n\nFirst, we show that $b \\mid f(b)^{2}$ for all $b$. To do this, we choose a large positive integer $n$ so that $n b-f(b) \\geqslant C$. Setting $a=n b-f(b)$ in $(*)$ then shows that\n\n$$\nn b \\mid(n b-f(b))^{2}+b f(n b-f(b))\n$$\n\nso that $b \\mid f(b)^{2}$ as claimed.\n\nNow in particular we have that $p \\mid f(p)$ for every prime $p$. If we write $f(p)=k(p) \\cdot p$, then the bound $f(p) \\leqslant f(1) \\cdot p$ (valid for $p$ sufficiently large) shows that some value $k$ of $k(p)$ must be attained for infinitely many $p$. We will show that $f(a)=k a$ for all positive integers $a$. To do this, we substitute $b=p$ in $(*)$, where $p$ is any sufficiently large prime for which $k(p)=k$, obtaining\n\n$$\na+k p \\mid\\left(a^{2}+p f(a)\\right)-a(a+k p)=p f(a)-p k a .\n$$\n\nFor suitably large $p$ we have $\\operatorname{gcd}(a+k p, p)=1$, and hence we have\n\n$$\na+k p \\mid f(a)-k a\n$$\n\nBut the only way this can hold for arbitrarily large $p$ is if $f(a)-k a=0$. This concludes the proof.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_number_theory_p5",
    "formal_statement": "theorem fimo_2019_number_theory_p5\n  (a b : ℕ)\n  (h₀ : 0 < a)\n  (h₁ : ∀ n, a * n ≥ b → ((Nat.choose (a * n) b) - 1) % (a * n + 1) = 0)\n  (h₂ : ∃ n, a * n ≥ b + 2 ∧ ((Nat.choose (a * n) (b + 2)) - 1) % (a * n + 1) ≠ 0) :\n  Nat.Prime (b + 1) := by sorry",
    "informal_statement": "Let $a$ be a positive integer. We say that a positive integer $b$ is $a-\\operatorname{good}$ if $\\left(\\begin{array}{c}a n \\\\ b\\end{array}\\right)-1$ is divisible by $a n+1$ for all positive integers $n$ with $a n \\geqslant b$. Suppose $b$ is a positive integer such that $b$ is $a$-good, but $b+2$ is not $a$-good. Prove that $b+1$ is prime.",
    "informal_proof": "For $p$ a prime and $n$ a nonzero integer, we write $v_{p}(n)$ for the $p$-adic valuation of $n$ : the largest integer $t$ such that $p^{t} \\mid n$.\n\nWe first show that $b$ is $a$-good if and only if $b$ is even, and $p \\mid a$ for all primes $p \\leqslant b$.\n\nTo start with, the condition that $a n+1 \\mid\\left(\\begin{array}{c}a n \\\\ b\\end{array}\\right)-1$ can be rewritten as saying that\n\n$$\n\\frac{a n(a n-1) \\cdots(a n-b+1)}{b !} \\equiv 1 \\quad(\\bmod a n+1)\n$$\n\nSuppose, on the one hand, there is a prime $p \\leqslant b$ with $p \\nmid a$. Take $t=v_{p}(b !)$. Then there exist positive integers $c$ such that $a c \\equiv 1\\left(\\bmod p^{t+1}\\right)$. If we take $c$ big enough, and then take $n=(p-1) c$, then $a n=a(p-1) c \\equiv p-1\\left(\\bmod p^{t+1}\\right)$ and $a n \\geqslant b$. Since $p \\leqslant b$, one of the terms of the numerator an $(a n-1) \\cdots(a n-b+1)$ is an $-p+1$, which is divisible by $p^{t+1}$. Hence the $p$-adic valuation of the numerator is at least $t+1$, but that of the denominator is exactly $t$. This means that $p \\mid\\left(\\begin{array}{c}a n \\\\ b\\end{array}\\right)$, so $p \\nmid\\left(\\begin{array}{c}a n \\\\ b\\end{array}\\right)-1$. As $p \\mid a n+1$, we get that $a n+1 \\nmid\\left(\\begin{array}{c}a n \\\\ b\\end{array}\\right)$, so $b$ is not $a-g o o d$.\n\nOn the other hand, if for all primes $p \\leqslant b$ we have $p \\mid a$, then every factor of $b$ ! is coprime to $a n+1$, and hence invertible modulo $a n+1$ : hence $b$ ! is also invertible modulo $a n+1$. Then equation (1) reduces to:\n\n$$\na n(a n-1) \\cdots(a n-b+1) \\equiv b ! \\quad(\\bmod a n+1)\n$$\n\nHowever, we can rewrite the left-hand side as follows:\n\n$$\n\\operatorname{an}(a n-1) \\cdots(a n-b+1) \\equiv(-1)(-2) \\cdots(-b) \\equiv(-1)^{b} b ! \\quad(\\bmod a n+1) .\n$$\n\nProvided that an $>1$, if $b$ is even we deduce $(-1)^{b} b ! \\equiv b$ ! as needed. On the other hand, if $b$ is odd, and we take $a n+1>2(b !)$, then we will not have $(-1)^{b} b ! \\equiv b$ !, so $b$ is not $a$-good. This completes the claim.\n\nTo conclude from here, suppose that $b$ is $a$-good, but $b+2$ is not. Then $b$ is even, and $p \\mid a$ for all primes $p \\leqslant b$, but there is a prime $q \\leqslant b+2$ for which $q \\nmid a$ : so $q=b+1$ or $q=b+2$. We cannot have $q=b+2$, as that is even too, so we have $q=b+1$ : in other words, $b+1$ is prime.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2019_number_theory_p8",
    "formal_statement": "theorem fimo_2019_number_theory_p8\n  (a b : ℕ)\n  (h₀ : 0 < a ∧ 0 < b) :\n  ¬(∃ k : ℕ, (k^2 : ℝ) = a^2 + ⌈((4 * a^2) : ℝ) / (b : ℝ)⌉) := by sorry",
    "informal_statement": "Let $a$ and $b$ be two positive integers. Prove that the integer\n\n$$\na^{2}+\\left\\lceil\\frac{4 a^{2}}{b}\\right\\rceil\n$$\n\nis not a square. (Here $\\lceil z\\rceil$ denotes the least integer greater than or equal to $z$.)",
    "informal_proof": "Arguing indirectly, assume that\n\n$$\na^{2}+\\left\\lceil\\frac{4 a^{2}}{b}\\right\\rceil=(a+k)^{2}, \\quad \\text { or } \\quad\\left\\lceil\\frac{(2 a)^{2}}{b}\\right\\rceil=(2 a+k) k .\n$$\n\nClearly, $k \\geqslant 1$. In other words, the equation\n\n$$\n\\left\\lceil\\frac{c^{2}}{b}\\right\\rceil=(c+k) k\n$$\n\nhas a positive integer solution $(c, k)$, with an even value of $c$.\n\nChoose a positive integer solution of (1) with minimal possible value of $k$, without regard to the parity of $c$. From\n\n$$\n\\frac{c^{2}}{b}>\\left\\lceil\\frac{c^{2}}{b}\\right\\rceil-1=c k+k^{2}-1 \\geqslant c k\n$$\n\nand\n\n$$\n\\frac{(c-k)(c+k)}{b}<\\frac{c^{2}}{b} \\leqslant\\left\\lceil\\frac{c^{2}}{b}\\right\\rceil=(c+k) k\n$$\n\nit can be seen that $c>b k>c-k$, so\n\n$$\nc=k b+r \\quad \\text { with some } 0<r<k .\n$$\n\nBy substituting this in (1) we get\n\n$$\n\\left\\lceil\\frac{c^{2}}{b}\\right\\rceil=\\left\\lceil\\frac{(b k+r)^{2}}{b}\\right\\rceil=k^{2} b+2 k r+\\left\\lceil\\frac{r^{2}}{b}\\right\\rceil\n$$\n\nand\n\n$$\n(c+k) k=(k b+r+k) k=k^{2} b+2 k r+k(k-r)\n$$\n\nso\n\n$$\n\\left\\lceil\\frac{r^{2}}{b}\\right\\rceil=k(k-r)\n$$\n\nNotice that relation (2) provides another positive integer solution of (1), namely $c^{\\prime}=r$ and $k^{\\prime}=k-r$, with $c^{\\prime}>0$ and $0<k^{\\prime}<k$. That contradicts the minimality of $k$, and hence finishes the solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2020_algebra_p1_2",
    "formal_statement": "theorem fimo_2020_algebra_p1_2\n  (N : ℕ)\n  (h₀ : N > 0)\n  (b_N : ℝ)\n  (h₁ : ∀ x : ℝ, (x^(2 * N) + 1) / 2 ≤ b_N * (x - 1)^2 + x) :\n  b_N ≥ N / 2 := by sorry",
    "informal_statement": "For every positive integer $N$, determine the smallest real number $b_{N}$ such that, for all real $x$,\n\n$$\n\\sqrt[N]{\\frac{x^{2 N}+1}{2}} \\leqslant b_{N}(x-1)^{2}+x\n$$\n\nThe final answer is $b_{n}=N / 2$.",
    "informal_proof": "First of all, assume that $b_{n}<N / 2$ satisfies the condition. Take $x=1+t$ for $t>0$, we should have\n\n$$\n\\frac{(1+t)^{2 N}+1}{2} \\leqslant\\left(1+t+b_{n} t^{2}\\right)^{N}\n$$\n\nExpanding the brackets we get\n\n$$\n\\left(1+t+b_{n} t^{2}\\right)^{N}-\\frac{(1+t)^{2 N}+1}{2}=\\left(N b_{n}-\\frac{N^{2}}{2}\\right) t^{2}+c_{3} t^{3}+\\ldots+c_{2 N} t^{2 N}\n$$\n\nwith some coefficients $c_{3}, \\ldots, c_{2 N}$. Since $b_{n}<N / 2$, the right hand side of (1) is negative for sufficiently small $t$. A contradiction.\n\nWe conclude that $b_{N} \\geqslant N / 2$. It remains to prove the inequality $\\mathcal{I}(N, x)$ for an arbitrary positive integer $N$.\n\nFirst of all, $\\mathcal{I}(N, 0)$ is obvious. Further, if $x>0$, then the left hand sides of $\\mathcal{I}(N,-x)$ and $\\mathcal{I}(N, x)$ coincide, while the right hand side of $\\mathcal{I}(N,-x)$ is larger than that of $\\mathcal{I}(N,-x)$ (their difference equals $2(N-1) x \\geqslant 0)$. Therefore, $\\mathcal{I}(N,-x)$ follows from $\\mathcal{I}(N, x)$. So, hereafter we suppose that $x>0$.\n\nDivide $\\mathcal{I}(N, x)$ by $x$ and let $t=(x-1)^{2} / x=x-2+1 / x$; then $\\mathcal{I}(n, x)$ reads as\n\n$$\nf_{N}:=\\frac{x^{N}+x^{-N}}{2} \\leqslant\\left(1+\\frac{N}{2} t\\right)^{N}\n$$\n\nThe key identity is the expansion of $f_{N}$ as a polynomial in $t$ :\n\nLemma.\n\n$$\nf_{N}=N \\sum_{k=0}^{N} \\frac{1}{N+k}\\left(\\begin{array}{c}\nN+k \\\\\n2 k\n\\end{array}\\right) t^{k}\n$$\n\nProof. Apply induction on $N$. We will make use of the straightforward recurrence relation\n\n$$\nf_{N+1}+f_{N-1}=(x+1 / x) f_{N}=(2+t) f_{N}\n$$\n\nThe base cases $N=1,2$ are straightforward:\n\n$$\nf_{1}=1+\\frac{t}{2}, \\quad f_{2}=\\frac{1}{2} t^{2}+2 t+1\n$$\n\nFor the induction step from $N-1$ and $N$ to $N+1$, we compute the coefficient of $t^{k}$ in $f_{N+1}$ using the formula $f_{N+1}=(2+t) f_{N}-f_{N-1}$. For $k=0$ that coefficient equals 1 , for $k>0$ it equals\n\n$$\n\\begin{aligned}\n& 2 \\frac{N}{N+k}\\left(\\begin{array}{c}\nN+k \\\\\n2 k\n\\end{array}\\right)+\\frac{N}{N+k-1}\\left(\\begin{array}{c}\nN+k-1 \\\\\n2 k-2\n\\end{array}\\right)-\\frac{N-1}{N+k-1}\\left(\\begin{array}{c}\nN+k-1 \\\\\n2 k\n\\end{array}\\right) \\\\\n& =\\frac{(N+k-1) !}{(2 k) !(N-k) !}\\left(2 N+\\frac{2 k(2 k-1) N}{(N+k-1)(N-k+1)}-\\frac{(N-1)(N-k)}{N+k-1}\\right) \\\\\n& =\\frac{(N+k-1) !}{(2 k) !(N-k+1) !}\\left(2 N(N-k+1)+3 k N+k-N^{2}-N\\right)=\\frac{\\left(\\begin{array}{c}\nN+k+1 \\\\\n2 k\n\\end{array}\\right)}{(N+k+1)}(N+1) \\text {, }\n\\end{aligned}\n$$\n\nthat completes the induction.\n\nTurning back to the problem, in order to prove (2) we write\n\n$$\n\\left(1+\\frac{N}{2} t\\right)^{N}-f_{N}=\\left(1+\\frac{N}{2} t\\right)^{N}-N \\sum_{k=0}^{N} \\frac{1}{N+k}\\left(\\begin{array}{c}\nN+k \\\\\n2 k\n\\end{array}\\right) t^{k}=\\sum_{k=0}^{N} \\alpha_{k} t^{k}\n$$\n\nwhere\n\n$$\n\\begin{aligned}\n\\alpha_{k} & =\\left(\\frac{N}{2}\\right)^{k}\\left(\\begin{array}{l}\nN \\\\\nk\n\\end{array}\\right)-\\frac{N}{N+k}\\left(\\begin{array}{c}\nN+k \\\\\n2 k\n\\end{array}\\right) \\\\\n& =\\left(\\frac{N}{2}\\right)^{k}\\left(\\begin{array}{l}\nN \\\\\nk\n\\end{array}\\right)\\left(1-2^{k} \\frac{(1+1 / N)(1+2 / N) \\cdot \\ldots \\cdot(1+(k-1) / N)}{(k+1) \\cdot \\ldots \\cdot(2 k)}\\right) \\\\\n& \\geqslant\\left(\\frac{N}{2}\\right)^{k}\\left(\\begin{array}{l}\nN \\\\\nk\n\\end{array}\\right)\\left(1-2^{k} \\frac{2 \\cdot 3 \\cdot \\ldots \\cdot k}{(k+1) \\cdot \\ldots \\cdot(2 k)}\\right)=\\left(\\frac{N}{2}\\right)^{k}\\left(\\begin{array}{c}\nN \\\\\nk\n\\end{array}\\right)\\left(1-\\prod_{j=1}^{k} \\frac{2 j}{k+j}\\right) \\geqslant 0\n\\end{aligned}\n$$\n\nand (2) follows.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2020_algebra_p3",
    "formal_statement": "theorem fimo_2020_algebra_p3\n  (a b c d s : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d)\n  (h₁ : (a + c) * (b + d) = a * c + b * d)\n  (h₂ : s = a / b + b / c + c / d + d / a) :\n  8 ≤ s := by sorry",
    "informal_statement": "Suppose that $a, b, c, d$ are positive real numbers satisfying $(a+c)(b+d)=a c+b d$. Find the smallest possible value of\n\n$$\nS=\\frac{a}{b}+\\frac{b}{c}+\\frac{c}{d}+\\frac{d}{a}\n$$\n\nThe final answer is that the smallest possible value is 8 .",
    "informal_proof": "To show that $S \\geqslant 8$, apply the AM-GM inequality twice as follows:\n\n$$\n\\left(\\frac{a}{b}+\\frac{c}{d}\\right)+\\left(\\frac{b}{c}+\\frac{d}{a}\\right) \\geqslant 2 \\sqrt{\\frac{a c}{b d}}+2 \\sqrt{\\frac{b d}{a c}}=\\frac{2(a c+b d)}{\\sqrt{a b c d}}=\\frac{2(a+c)(b+d)}{\\sqrt{a b c d}} \\geqslant 2 \\cdot \\frac{2 \\sqrt{a c} \\cdot 2 \\sqrt{b d}}{\\sqrt{a b c d}}=8\n$$\n\nThe above inequalities turn into equalities when $a=c$ and $b=d$. Then the condition $(a+c)(b+d)=a c+b d$ can be rewritten as $4 a b=a^{2}+b^{2}$. So it is satisfied when $a / b=2 \\pm \\sqrt{3}$. Hence, $S$ attains value 8 , e.g., when $a=c=1$ and $b=d=2+\\sqrt{3}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2020_algebra_p4",
    "formal_statement": "theorem fimo_2020_algebra_p4\n  (a b c d : ℝ)\n  (h₀ : 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d)\n  (h₁ : a ≥ b ∧ b ≥ c ∧ c ≥ d)\n  (h₂ : a + b + c + d = 1) :\n  (a + 2 * b + 3 * c + 4 * d) * a^a * b^b * c^c * d^d < 1 := by sorry",
    "informal_statement": "Let $a, b, c, d$ be four real numbers such that $a \\geqslant b \\geqslant c \\geqslant d>0$ and $a+b+c+d=1$. Prove that\n\n$$\n(a+2 b+3 c+4 d) a^{a} b^{b} c^{c} d^{d}<1\n$$",
    "informal_proof": "The weighted AM-GM inequality with weights $a, b, c, d$ gives\n\n$$\na^{a} b^{b} c^{c} d^{d} \\leqslant a \\cdot a+b \\cdot b+c \\cdot c+d \\cdot d=a^{2}+b^{2}+c^{2}+d^{2}\n$$\n\nso it suffices to prove that $(a+2 b+3 c+4 d)\\left(a^{2}+b^{2}+c^{2}+d^{2}\\right)<1=(a+b+c+d)^{3}$. This can be done in various ways, for example:\n\n$$\n\\begin{aligned}\n(a+b+c+d)^{3}> & a^{2}(a+3 b+3 c+3 d)+b^{2}(3 a+b+3 c+3 d) \\\\\n& +c^{2}(3 a+3 b+c+3 d)+d^{2}(3 a+3 b+3 c+d) \\\\\n\\geqslant & \\left(a^{2}+b^{2}+c^{2}+d^{2}\\right) \\cdot(a+2 b+3 c+4 d) .\n\\end{aligned}\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2020_algebra_p6",
    "formal_statement": "theorem fimo_2020_algebra_p6\n  (f : ℤ → ℤ)\n  (h₀ : ∀ a b : ℤ, ∀ c : ℕ, (c : ℤ) = a^2 + b^2 → (f^[c]) (a + b) = a * f a + b * f b) :\n  (∀ x : ℤ, f x = 0) ∨ (∀ x : ℤ, f x = x + 1) := by sorry",
    "informal_statement": "Determine all functions $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ such that\n\n$$\nf^{a^{2}+b^{2}}(a+b)=a f(a)+b f(b) \\quad \\text { for every } a, b \\in \\mathbb{Z} .\n$$\n\nHere, $f^{n}$ denotes the $n^{\\text {th }}$ iteration of $f$, i.e., $f^{0}(x)=x$ and $f^{n+1}(x)=f\\left(f^{n}(x)\\right)$ for all $n \\geqslant 0$.\n\nThe final answer is either $f(x)=0$ for all $x \\in \\mathbb{Z}$, or $f(x)=x+1$ for all $x \\in \\mathbb{Z}$.",
    "informal_proof": "Refer to the main equation as $E(a, b)$.\n\n$E(0, b)$ reads as $f^{b^{2}}(b)=b f(b)$. For $b=-1$ this gives $f(-1)=0$.\n\nNow $E(a,-1)$ reads as\n\n$$\nf^{a^{2}+1}(a-1)=a f(a)=f^{a^{2}}(a) .\n$$\n\nFor $x \\in \\mathbb{Z}$ define the orbit of $x$ by $\\mathcal{O}(x)=\\{x, f(x), f(f(x)), \\ldots\\} \\subseteq \\mathbb{Z}$. We see that the orbits $\\mathcal{O}(a-1)$ and $\\mathcal{O}(a)$ differ by finitely many terms. Hence, any two orbits differ by finitely many terms. In particular, this implies that either all orbits are finite or all orbits are infinite.\n\nCase 1: All orbits are finite.\n\nThen $\\mathcal{O}(0)$ is finite. Using $E(a,-a)$ we get\n\n$$\na(f(a)-f(-a))=a f(a)-a f(-a)=f^{2 a^{2}}(0) \\in \\mathcal{O}(0) .\n$$\n\nFor $|a|>\\max _{z \\in \\mathcal{O}(0)}|z|$, this yields $f(a)=f(-a)$ and $f^{2 a^{2}}(0)=0$. Therefore, the sequence $\\left(f^{k}(0): k=0,1, \\ldots\\right)$ is purely periodic with a minimal period $T$ which divides $2 a^{2}$. Analogously, $T$ divides $2(a+1)^{2}$, therefore, $T \\mid \\operatorname{gcd}\\left(2 a^{2}, 2(a+1)^{2}\\right)=2$, i.e., $f(f(0))=0$ and $a(f(a)-f(-a))=f^{2 a^{2}}(0)=0$ for all $a$. Thus,\n\n$$\n\\begin{array}{ll}\nf(a) & =f(-a) \\quad \\text { for all } a \\neq 0\n\\end{array}\n$$\n\nNext, for each $n \\in \\mathbb{Z}$, by $E(n, 1-n)$ we get\n\n$$\nn f(n)+(1-n) f(1-n)=f^{n^{2}+(1-n)^{2}}(1)=f^{2 n^{2}-2 n}(0)=0 .\n$$\n\nAssume that there exists some $m \\neq 0$ such that $f(m) \\neq 0$. Choose such an $m$ for which $|m|$ is minimal possible. Then $|m|>1$ due to $(1)$; $f(|m|) \\neq 0$ due to $(2)$; and $f(1-|m|) \\neq 0$ due to $(3)$ for $n=|m|$. This contradicts to the minimality assumption.\n\nSo, $f(n)=0$ for $n \\neq 0$. Finally, $f(0)=f^{3}(0)=f^{4}(2)=2 f(2)=0$. Clearly, the function $f(x) \\equiv 0$ satisfies the problem condition, which provides the first of the two answers.\n\nCase 2: All orbits are infinite.\n\nSince the orbits $\\mathcal{O}(a)$ and $\\mathcal{O}(a-1)$ differ by finitely many terms for all $a \\in \\mathbb{Z}$, each two orbits $\\mathcal{O}(a)$ and $\\mathcal{O}(b)$ have infinitely many common terms for arbitrary $a, b \\in \\mathbb{Z}$.\n\nFor a minute, fix any $a, b \\in \\mathbb{Z}$. We claim that all pairs $(n, m)$ of nonnegative integers such that $f^{n}(a)=f^{m}(b)$ have the same difference $n-m$. Arguing indirectly, we have $f^{n}(a)=f^{m}(b)$ and $f^{p}(a)=f^{q}(b)$ with, say, $n-m>p-q$, then $f^{p+m+k}(b)=f^{p+n+k}(a)=f^{q+n+k}(b)$, for all nonnegative integers $k$. This means that $f^{\\ell+(n-m)-(p-q)}(b)=f^{\\ell}(b)$ for all sufficiently large $\\ell$, i.e., that the sequence $\\left(f^{n}(b)\\right)$ is eventually periodic, so $\\mathcal{O}(b)$ is finite, which is impossible.\n\nNow, for every $a, b \\in \\mathbb{Z}$, denote the common difference $n-m$ defined above by $X(a, b)$. We have $X(a-1, a)=1$ by (1). Trivially, $X(a, b)+X(b, c)=X(a, c)$, as if $f^{n}(a)=f^{m}(b)$ and $f^{p}(b)=f^{q}(c)$, then $f^{p+n}(a)=f^{p+m}(b)=f^{q+m}(c)$. These two properties imply that $X(a, b)=b-a$ for all $a, b \\in \\mathbb{Z}$. But (1) yields $f^{a^{2}+1}(f(a-1))=f^{a^{2}}(f(a))$, so\n\n$$\n1=X(f(a-1), f(a))=f(a)-f(a-1) \\quad \\text { for all } a \\in \\mathbb{Z} .\n$$\n\nRecalling that $f(-1)=0$, we conclude by (two-sided) induction on $x$ that $f(x)=x+1$ for all $x \\in \\mathbb{Z}$\n\nFinally, the obtained function also satisfies the assumption. Indeed, $f^{n}(x)=x+n$ for all $n \\geqslant 0$, so\n\n$$\nf^{a^{2}+b^{2}}(a+b)=a+b+a^{2}+b^{2}=a f(a)+b f(b)\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2020_algebra_p7",
    "formal_statement": "theorem fimo_2020_algebra_p7\n  (n k : ℕ)\n  (a : ℕ → ℝ)\n  (h₀ : ∀ i, 1 ≤ a i ∧ a i ≤ 2^k) :\n  ∑ i in Finset.Icc 1 n, a i / sqrt (∑ j in Finset.Icc 1 i, (a j)^2) ≤ 4 * Real.sqrt (k * n) := by sorry",
    "informal_statement": "Let $n$ and $k$ be positive integers. Prove that for $a_{1}, \\ldots, a_{n} \\in\\left[1,2^{k}\\right]$ one has\n\n$$\n\\sum_{i=1}^{n} \\frac{a_{i}}{\\sqrt{a_{1}^{2}+\\ldots+a_{i}^{2}}} \\leqslant 4 \\sqrt{k n}\n$$",
    "informal_proof": "Partition the set of indices $\\{1,2, \\ldots, n\\}$ into disjoint subsets $M_{1}, M_{2}, \\ldots, M_{k}$ so that $a_{\\ell} \\in\\left[2^{j-1}, 2^{j}\\right]$ for $\\ell \\in M_{j}$. Then, if $\\left|M_{j}\\right|=: p_{j}$, we have\n\n$$\n\\sum_{\\ell \\in M_{j}} \\frac{a_{\\ell}}{\\sqrt{a_{1}^{2}+\\ldots+a_{\\ell}^{2}}} \\leqslant \\sum_{i=1}^{p_{j}} \\frac{2^{j}}{2^{j-1} \\sqrt{i}}=2 \\sum_{i=1}^{p_{j}} \\frac{1}{\\sqrt{i}}\n$$\n\nwhere we used that $a_{\\ell} \\leqslant 2^{j}$ and in the denominator every index from $M_{j}$ contributes at least $\\left(2^{j-1}\\right)^{2}$. Now, using $\\sqrt{i}-\\sqrt{i-1}=\\frac{1}{\\sqrt{i}+\\sqrt{i-1}} \\geqslant \\frac{1}{2 \\sqrt{i}}$, we deduce that\n\n$$\n\\sum_{\\ell \\in M_{j}} \\frac{a_{\\ell}}{\\sqrt{a_{1}^{2}+\\ldots+a_{\\ell}^{2}}} \\leqslant 2 \\sum_{i=1}^{p_{j}} \\frac{1}{\\sqrt{i}} \\leqslant 2 \\sum_{i=1}^{p_{j}} 2(\\sqrt{i}-\\sqrt{i-1})=4 \\sqrt{p_{j}} .\n$$\n\nTherefore, summing over $j=1, \\ldots, k$ and using the QM-AM inequality, we obtain\n\n$$\n\\sum_{\\ell=1}^{n} \\frac{a_{\\ell}}{\\sqrt{a_{1}^{2}+\\ldots+a_{\\ell}^{2}}} \\leqslant 4 \\sum_{j=1}^{k} \\sqrt{\\left|M_{j}\\right|} \\leqslant 4 \\sqrt{k \\sum_{j=1}^{k}\\left|M_{j}\\right|}=4 \\sqrt{k n} .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2020_algebra_p8",
    "formal_statement": "theorem fimo_2020_algebra_p8\n  (f : ℝ → ℝ)\n  (h₀ : ∀ x y, 0 < x ∧ 0 < y → f (x + f (x * y)) + y = f x * f y + 1) :\n  (∀ x, 0 < x → ∀ x, f x = x + 1) := by sorry",
    "informal_statement": "Let $\\mathbb{R}^{+}$be the set of positive real numbers. Determine all functions $f: \\mathbb{R}^{+} \\rightarrow \\mathbb{R}^{+}$ such that, for all positive real numbers $x$ and $y$,\n\n$$\nf(x+f(x y))+y=f(x) f(y)+1\n$$\n\nThe final answer is $f(x)=x+1$.",
    "informal_proof": "A straightforward check shows that $f(x)=x+1$ satisfies $(*)$. We divide the proof of the converse statement into a sequence of steps.\n\nStep 1: $f$ is injective.\n\nPut $x=1$ in $(*)$ and rearrange the terms to get\n\n$$\ny=f(1) f(y)+1-f(1+f(y))\n$$\n\nTherefore, if $f\\left(y_{1}\\right)=f\\left(y_{2}\\right)$, then $y_{1}=y_{2}$.\n\nStep 2: $f$ is (strictly) monotone increasing.\n\nFor any fixed $y \\in \\mathbb{R}^{+}$, the function\n\n$$\ng(x):=f(x+f(x y))=f(x) f(y)+1-y\n$$\n\nis injective by Step 1. Therefore, $x_{1}+f\\left(x_{1} y\\right) \\neq x_{2}+f\\left(x_{2} y\\right)$ for all $y, x_{1}, x_{2} \\in \\mathbb{R}^{+}$with $x_{1} \\neq x_{2}$. Plugging in $z_{i}=x_{i} y$, we arrive at\n\n$$\n\\frac{z_{1}-z_{2}}{y} \\neq f\\left(z_{2}\\right)-f\\left(z_{1}\\right), \\quad \\text { or } \\quad \\frac{1}{y} \\neq \\frac{f\\left(z_{2}\\right)-f\\left(z_{1}\\right)}{z_{1}-z_{2}}\n$$\n\nfor all $y, z_{1}, z_{2} \\in \\mathbb{R}^{+}$with $z_{1} \\neq z_{2}$. This means that the right-hand side of the rightmost relation is always non-positive, i.e., $f$ is monotone non-decreasing. Since $f$ is injective, it is strictly monotone.\n\nStep 3: There exist constants $a$ and $b$ such that $f(y)=a y+b$ for all $y \\in \\mathbb{R}^{+}$.\n\nSince $f$ is monotone and bounded from below by 0 , for each $x_{0} \\geqslant 0$, there exists a right limit $\\lim _{x \\searrow x_{0}} f(x) \\geqslant 0$. Put $p=\\lim _{x \\searrow 0} f(x)$ and $q=\\lim _{x \\searrow p} f(x)$.\n\nFix an arbitrary $y$ and take the limit of $(*)$ as $x \\searrow 0$. We have $f(x y) \\searrow p$ and hence $f(x+f(x y)) \\searrow q$; therefore, we obtain\n\n$$\nq+y=p f(y)+1, \\quad \\text { or } \\quad f(y)=\\frac{q+y-1}{p} .\n$$\n\n(Notice that $p \\neq 0$, otherwise $q+y=1$ for all $y$, which is absurd.) The claim is proved. Step 4: $f(x)=x+1$ for all $x \\in \\mathbb{R}^{+}$.\n\nBased on the previous step, write $f(x)=a x+b$. Putting this relation into $(*)$ we get\n\n$$\na(x+a x y+b)+b+y=(a x+b)(a y+b)+1,\n$$\n\nwhich can be rewritten as\n\n$$\n(a-a b) x+(1-a b) y+a b+b-b^{2}-1=0 \\quad \\text { for all } x, y \\in \\mathbb{R}^{+} .\n$$\n\nThis identity may hold only if all the coefficients are 0, i.e.,\n\n$$\na-a b=1-a b=a b+b-b^{2}-1=0 .\n$$\n\nHence, $a=b=1$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2020_number_theory_p7",
    "formal_statement": "theorem fimo_2020_number_theory_p7\n  (S : Finset ℕ+)\n  (n : ℕ)\n  (h₀ : Finset.card S = n)\n  (h₁ : n ≥ 3)\n  (h₂ : ∀ (a b c : ℕ+), a ∈ S → b ∈ S → c ∈ S → a ≠ b → a ≠ c → b ≠ c → a ≠ b + c)\n  (a : ℕ → ℕ+)\n  (h₃ : ∀ i, a i ∈ S)\n  (h₄ : ∀ i j, i ≠ j → a i ≠ a j)\n  (h₅ : ∀ i, 2 ≤ i → i ≤ n - 1 → ¬(a i ∣ a (i - 1) + a (i + 1))) :\n  true := by sorry",
    "informal_statement": "Let $\\mathcal{S}$ be a set consisting of $n \\geqslant 3$ positive integers, none of which is a sum of two other distinct members of $\\mathcal{S}$. Prove that the elements of $\\mathcal{S}$ may be ordered as $a_{1}, a_{2}, \\ldots, a_{n}$ so that $a_{i}$ does not divide $a_{i-1}+a_{i+1}$ for all $i=2,3, \\ldots, n-1$.",
    "informal_proof": "We call a set $\\mathcal{S}$ of positive integers good if no its element is a sum of two other distinct members of $\\mathcal{S}$. We will use the following simple observation.\n\nObservation A. If $a, b$, and $c$ are three distinct elements of a good set $\\mathcal{S}$ with $b>a, c$, then $b \\nmid a+c$. Otherwise, since $b \\neq a+c$, we would have $b \\leqslant(a+c) / 2<\\max \\{a, c\\}$.\n\nWe prove the following stronger statement.\n\nClaim. Let $\\mathcal{S}$ be a good set consisting of $n \\geqslant 2$ positive integers. Then the elements of $\\mathcal{S}$ may be ordered as $a_{1}, a_{2}, \\ldots, a_{n}$ so that $a_{i} \\nmid a_{i-1}+a_{i+1}$ and $a_{i} \\nmid a_{i-1}-a_{i+1}$, for all $i=2,3, \\ldots, n-1$.\n\nProof. Say that the ordering $a_{1}, \\ldots, a_{n}$ of $\\mathcal{S}$ is nice if it satisfies the required property.\n\nWe proceed by induction on $n$. The base case $n=2$ is trivial, as there are no restrictions on the ordering.\n\nTo perform the step of induction, suppose that $n \\geqslant 3$. Let $a=\\max \\mathcal{S}$, and set $\\mathcal{T}=\\mathcal{S} \\backslash\\{a\\}$. Use the inductive hypothesis to find a nice ordering $b_{1}, \\ldots, b_{n-1}$ of $\\mathcal{T}$. We will show that a may be inserted into this sequence so as to reach a nice ordering of $\\mathcal{S}$. In other words, we will show that there exists a $j \\in\\{1,2, \\ldots, n\\}$ such that the ordering\n\n$$\nN_{j}=\\left(b_{1}, \\ldots, b_{j-1}, a, b_{j}, b_{j+1}, \\ldots, b_{n-1}\\right)\n$$\n\nis nice.\n\nAssume that, for some $j$, the ordering $N_{j}$ is not nice, so that some element $x$ in it divides either the sum or the difference of two adjacent ones. This did not happen in the ordering of $\\mathcal{T}$, hence $x \\in\\left\\{b_{j-1}, a, b_{j}\\right\\}$ (if, say, $b_{j-1}$ does not exist, then $x \\in\\left\\{a, b_{j}\\right\\}$; a similar agreement is applied hereafter). But the case $x=a$ is impossible: $a$ cannot divide $b_{j-1}-b_{j}$, since $0<\\left|b_{j-1}-b_{j}\\right|<a$, while $a \\nmid b_{j-1}+b_{j}$ by Observation A. Therefore $x \\in\\left\\{b_{j-1}, b_{j}\\right\\}$. In this case, assign the number $x$ to the index $j$.\n\nSuppose now that none of the $N_{j}$ is nice. Since there are $n$ possible indices $j$, and only $n-1$ elements in $\\mathcal{T}$, one of those elements $\\left(\\right.$ say, $\\left.b_{k}\\right)$ is assigned to two different indices, which then should equal $k$ and $k+1$. This means that $b_{k}$ divides the numbers $b_{k-1}+\\varepsilon_{1} a$ and $a+\\varepsilon_{2} b_{k+1}$, for some signs $\\varepsilon_{1}, \\varepsilon_{2} \\in\\{-1,1\\}$. But then\n\n$$\nb_{k-1} \\equiv-\\varepsilon_{1} a \\equiv \\varepsilon_{1} \\varepsilon_{2} b_{k+1} \\quad\\left(\\bmod b_{k}\\right)\n$$\n\nand therefore $b_{k} \\mid b_{k-1}-\\varepsilon_{1} \\varepsilon_{2} b_{k+1}$, which means that the ordering of $\\mathcal{T}$ was not nice. This contradiction proves the step of induction.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_algebra_p1",
    "formal_statement": "theorem fimo_2021_algebra_p1\n  (n : ℕ)\n  (A : Finset ℕ)\n  (h₀ : A ⊆ Finset.range (5^n + 1))\n  (h₁ : A.card = 4 * n + 2) :\n  ∃ a b c : A, a < b ∧ b < c ∧ c + 2 * (a:ℕ)  > 3 * b := by sorry",
    "informal_statement": "Let $n$ be an integer, and let $A$ be a subset of $\\left\\{0,1,2,3, \\ldots, 5^{n}\\right\\}$ consisting of $4 n+2$ numbers. Prove that there exist $a, b, c \\in A$ such that $a<b<c$ and $c+2 a>3 b$.",
    "informal_proof": "(By contradiction) Suppose that there exist $4 n+2$ non-negative integers $x_{0}<$ $x_{1}<\\cdots<x_{4 n+1}$ that violate the problem statement. Then in particular $x_{4 n+1}+2 x_{i} \\leqslant 3 x_{i+1}$ for all $i=0, \\ldots, 4 n-1$, which gives\n\n$$\nx_{4 n+1}-x_{i} \\geqslant \\frac{3}{2}\\left(x_{4 n+1}-x_{i+1}\\right)\n$$\n\nBy a trivial induction we then get\n\n$$\nx_{4 n+1}-x_{i} \\geqslant\\left(\\frac{3}{2}\\right)^{4 n-i}\\left(x_{4 n+1}-x_{4 n}\\right)\n$$\n\nwhich for $i=0$ yields the contradiction\n\n$$\nx_{4 n+1}-x_{0} \\geqslant\\left(\\frac{3}{2}\\right)^{4 n}\\left(x_{4 n+1}-x_{4 n}\\right)=\\left(\\frac{81}{16}\\right)^{n}\\left(x_{4 n+1}-x_{4 n}\\right)>5^{n} \\cdot 1 .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_algebra_p4",
    "formal_statement": "theorem fimo_2021_algebra_p4\n  (n : ℕ)\n  (x : Fin n → ℝ)\n  (h₀ : 0 < n) :\n  ∑ i in Finset.univ, ∑ j in Finset.univ, Real.sqrt (abs (x i - x j)) ≤\n  ∑ i in Finset.univ, ∑ j in Finset.univ, Real.sqrt (abs (x i + x j)) := by sorry",
    "informal_statement": "Show that for all real numbers $x_{1}, \\ldots, x_{n}$ the following inequality holds:\n\n$$\n\\sum_{i=1}^{n} \\sum_{j=1}^{n} \\sqrt{\\left|x_{i}-x_{j}\\right|} \\leqslant \\sum_{i=1}^{n} \\sum_{j=1}^{n} \\sqrt{\\left|x_{i}+x_{j}\\right|}\n$$",
    "informal_proof": "If we add $t$ to all the variables then the left-hand side remains constant and the right-hand side becomes\n\n$$\nH(t):=\\sum_{i=1}^{n} \\sum_{j=1}^{n} \\sqrt{\\left|x_{i}+x_{j}+2 t\\right|}\n$$\n\nLet $T$ be large enough such that both $H(-T)$ and $H(T)$ are larger than the value $L$ of the lefthand side of the inequality we want to prove. Not necessarily distinct points $p_{i, j}:=-\\left(x_{i}+x_{j}\\right) / 2$ together with $T$ and $-T$ split the real line into segments and two rays such that on each of these segments and rays the function $H(t)$ is concave since $f(t):=\\sqrt{|\\ell+2 t|}$ is concave on both intervals $(-\\infty,-\\ell / 2]$ and $[-\\ell / 2,+\\infty)$. Let $[a, b]$ be the segment containing zero. Then concavity implies $H(0) \\geqslant \\min \\{H(a), H(b)\\}$ and, since $H(\\pm T)>L$, it suffices to prove the inequalities $H\\left(-\\left(x_{i}+x_{j}\\right) / 2\\right) \\geqslant L$, that is to prove the original inequality in the case when all numbers are shifted in such a way that two variables $x_{i}$ and $x_{j}$ add up to zero. In the following we denote the shifted variables still by $x_{i}$.\n\nIf $i=j$, i.e. $x_{i}=0$ for some index $i$, then we can remove $x_{i}$ which will decrease both sides by $2 \\sum_{k} \\sqrt{\\left|x_{k}\\right|}$. Similarly, if $x_{i}+x_{j}=0$ for distinct $i$ and $j$ we can remove both $x_{i}$ and $x_{j}$ which decreases both sides by\n\n$$\n2 \\sqrt{2\\left|x_{i}\\right|}+2 \\cdot \\sum_{k \\neq i, j}\\left(\\sqrt{\\left|x_{k}+x_{i}\\right|}+\\sqrt{\\left|x_{k}+x_{j}\\right|}\\right)\n$$\n\nIn either case we reduced our inequality to the case of smaller $n$. It remains to note that for $n=0$ and $n=1$ the inequality is trivial.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_algebra_p5",
    "formal_statement": "theorem fimo_2021_algebra_p5\n  (n : ℕ)\n  (a : ℕ → ℝ)\n  (h₀ : n ≥ 2)\n  (h₁ : ∀ k, 0 < a k)\n  (h₂ : ∑ k in Finset.Icc 1 n, a k = 1) :\n  ∑ k in Finset.Icc 1 n, (a k / (1 - a k)) * (∑ i in Finset.Icc 1 (k - 1), a i)^2 < 1 / 3 := by sorry",
    "informal_statement": "Let $n \\geqslant 2$ be an integer, and let $a_{1}, a_{2}, \\ldots, a_{n}$ be positive real numbers such that $a_{1}+a_{2}+\\cdots+a_{n}=1$. Prove that\n\n$$\n\\sum_{k=1}^{n} \\frac{a_{k}}{1-a_{k}}\\left(a_{1}+a_{2}+\\cdots+a_{k-1}\\right)^{2}<\\frac{1}{3} .\n$$",
    "informal_proof": "For all $k \\leqslant n$, let\n\n$$\ns_{k}=a_{1}+a_{2}+\\cdots+a_{k} \\quad \\text { and } \\quad b_{k}=\\frac{a_{k} s_{k-1}^{2}}{1-a_{k}},\n$$\n\nwith the convention that $s_{0}=0$. Note that $b_{k}$ is exactly a summand in the sum we need to estimate. We shall prove the inequality\n\n$$\nb_{k}<\\frac{s_{k}^{3}-s_{k-1}^{3}}{3}\n$$\n\nIndeed, it suffices to check that\n\n$$\n\\begin{aligned}\n(1) & \\Longleftrightarrow 0<\\left(1-a_{k}\\right)\\left(\\left(s_{k-1}+a_{k}\\right)^{3}-s_{k-1}^{3}\\right)-3 a_{k} s_{k-1}^{2} \\\\\n& \\Longleftrightarrow 0<\\left(1-a_{k}\\right)\\left(3 s_{k-1}^{2}+3 s_{k-1} a_{k}+a_{k}^{2}\\right)-3 s_{k-1}^{2} \\\\\n& \\Longleftrightarrow 0<-3 a_{k} s_{k-1}^{2}+3\\left(1-a_{k}\\right) s_{k-1} a_{k}+\\left(1-a_{k}\\right) a_{k}^{2} \\\\\n& \\Longleftrightarrow 0<3\\left(1-a_{k}-s_{k-1}\\right) s_{k-1} a_{k}+\\left(1-a_{k}\\right) a_{k}^{2}\n\\end{aligned}\n$$\n\nwhich holds since $a_{k}+s_{k-1}=s_{k} \\leqslant 1$ and $a_{k} \\in(0,1)$.\n\nThus, adding inequalities (1) for $k=1, \\ldots, n$, we conclude that\n\n$$\nb_{1}+b_{2}+\\cdots+b_{n}<\\frac{s_{n}^{3}-s_{0}^{3}}{3}=\\frac{1}{3},\n$$\n\nas desired.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_algebra_p6",
    "formal_statement": "theorem fimo_2021_algebra_p6\n  (A : Finset ℤ)\n  (m : ℕ)\n  (B : ℕ → Finset ℤ)\n  (h₀ : 2 ≤ m)\n  (h₁ : ∀ i, i ∈ Finset.Icc 1 m → B i ⊆ A ∧ Finset.sum (B i) id = m^(i)) :\n  m / 2 ≤ A.card := by sorry",
    "informal_statement": "Let $A$ be a finite set of (not necessarily positive) integers, and let $m \\geqslant 2$ be an integer. Assume that there exist non-empty subsets $B_{1}, B_{2}, B_{3}, \\ldots, B_{m}$ of $A$ whose elements add up to the sums $m^{1}, m^{2}, m^{3}, \\ldots, m^{m}$, respectively. Prove that $A$ contains at least $m / 2$ elements.",
    "informal_proof": "Let $A=\\left\\{a_{1}, \\ldots, a_{k}\\right\\}$. Assume that, on the contrary, $k=|A|<m / 2$. Let\n\n$$\ns_{i}:=\\sum_{j: a_{j} \\in B_{i}} a_{j}\n$$\n\nbe the sum of elements of $B_{i}$. We are given that $s_{i}=m^{i}$ for $i=1, \\ldots, m$.\n\nNow consider all $m^{m}$ expressions of the form\n\n$$\nf\\left(c_{1}, \\ldots, c_{m}\\right):=c_{1} s_{1}+c_{2} s_{2}+\\ldots+c_{m} s_{m}, c_{i} \\in\\{0,1, \\ldots, m-1\\} \\text { for all } i=1,2, \\ldots, m\n$$\n\nNote that every number $f\\left(c_{1}, \\ldots, c_{m}\\right)$ has the form\n\n$$\n\\alpha_{1} a_{1}+\\ldots+\\alpha_{k} a_{k}, \\alpha_{i} \\in\\{0,1, \\ldots, m(m-1)\\}\n$$\n\nHence, there are at most $(m(m-1)+1)^{k}<m^{2 k}<m^{m}$ distinct values of our expressions; therefore, at least two of them coincide.\n\nSince $s_{i}=m^{i}$, this contradicts the uniqueness of representation of positive integers in the base- $m$ system.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_algebra_p7",
    "formal_statement": "theorem fimo_2021_algebra_p7\n  (n : ℕ)\n  (x : ℕ → ℝ)\n  (h₀ : n ≥ 1)\n  (h₁ : ∀ i, 1 ≤ i ∧ i ≤ n → x i * x (i + 1) - x (i - 1)^2 ≥ 1)\n  (h₂ : ∀ i, 0 ≤ x i) :\n  ∑ i in Finset.range (n + 2), x i > ((2 * n) / 3)^(3 / 2) := by sorry",
    "informal_statement": "Let $n \\geqslant 1$ be an integer, and let $x_{0}, x_{1}, \\ldots, x_{n+1}$ be $n+2$ non-negative real numbers that satisfy $x_{i} x_{i+1}-x_{i-1}^{2} \\geqslant 1$ for all $i=1,2, \\ldots, n$. Show that\n\n$$\nx_{0}+x_{1}+\\cdots+x_{n}+x_{n+1}>\\left(\\frac{2 n}{3}\\right)^{3 / 2}\n$$",
    "informal_proof": "Lemma 1.1. If $a, b, c$ are non-negative numbers such that $a b-c^{2} \\geqslant 1$, then\n\n$$\n(a+2 b)^{2} \\geqslant(b+2 c)^{2}+6\n$$\n\nProof. $(a+2 b)^{2}-(b+2 c)^{2}=(a-b)^{2}+2(b-c)^{2}+6\\left(a b-c^{2}\\right) \\geqslant 6$.\n\nLemma 1.2. $\\sqrt{1}+\\cdots+\\sqrt{n}>\\frac{2}{3} n^{3 / 2}$.\n\nProof. Bernoulli's inequality $(1+t)^{3 / 2}>1+\\frac{3}{2} t$ for $0>t \\geqslant-1$ (or, alternatively, a straightforward check) gives\n\n$$\n(k-1)^{3 / 2}=k^{3 / 2}\\left(1-\\frac{1}{k}\\right)^{3 / 2}>k^{3 / 2}\\left(1-\\frac{3}{2 k}\\right)=k^{3 / 2}-\\frac{3}{2} \\sqrt{k}\n$$\n\nSumming up $(*)$ over $k=1,2, \\ldots, n$ yields\n\n$$\n0>n^{3 / 2}-\\frac{3}{2}(\\sqrt{1}+\\cdots+\\sqrt{n})\n$$\n\nNow put $y_{i}:=2 x_{i}+x_{i+1}$ for $i=0,1, \\ldots, n$. We get $y_{0} \\geqslant 0$ and $y_{i}^{2} \\geqslant y_{i-1}^{2}+6$ for $i=1,2, \\ldots, n$ by Lemma 1.1. Thus, an easy induction on $i$ gives $y_{i} \\geqslant \\sqrt{6 i}$. Using this estimate and Lemma $1.2$ we get\n\n$$\n3\\left(x_{0}+\\ldots+x_{n+1}\\right) \\geqslant y_{1}+\\ldots+y_{n} \\geqslant \\sqrt{6}(\\sqrt{1}+\\sqrt{2}+\\ldots+\\sqrt{n})>\\sqrt{6} \\cdot \\frac{2}{3} n^{3 / 2}=3\\left(\\frac{2 n}{3}\\right)^{3 / 2} .\n$$",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_algebra_p8",
    "formal_statement": "theorem fimo_2021_algebra_p8\n  (f : ℝ → ℝ)\n  (h₀ : ∀ a b c : ℝ, (f a - f b) * (f b - f c) * (f c - f a) = f (a * b^2 + b * c^2 + c * a^2) - f (a^2 * b + b^2 * c + c^2 * a)) :\n  (∃ α₁ α₂ β₁ β₂ : ℝ, (∀ x, f x = α₁ * x + β₁) ∨ (∀ x, f x = α₂ * x^3 + β₂) ∧ (α₂ = -1 ∨ α₂ = 0 ∨ α₂ = 1)) := by sorry",
    "informal_statement": "Determine all functions $f: \\mathbb{R} \\rightarrow \\mathbb{R}$ that satisfy\n\n$$\n(f(a)-f(b))(f(b)-f(c))(f(c)-f(a))=f\\left(a b^{2}+b c^{2}+c a^{2}\\right)-f\\left(a^{2} b+b^{2} c+c^{2} a\\right)\n$$\n\nfor all real numbers $a, b, c$.\n\nThe final answer is $f(x)=\\alpha x+\\beta$ or $f(x)=\\alpha x^{3}+\\beta$ where $\\alpha \\in\\{-1,0,1\\}$ and $\\beta \\in \\mathbb{R}$.",
    "informal_proof": "It is straightforward to check that above functions satisfy the equation. Now let $f(x)$ satisfy the equation, which we denote $E(a, b, c)$. Then clearly $f(x)+C$ also does; therefore, we may suppose without loss of generality that $f(0)=0$. We start with proving\n\nLemma. Either $f(x) \\equiv 0$ or $f$ is injective.\n\nProof. Denote by $\\Theta \\subseteq \\mathbb{R}^{2}$ the set of points $(a, b)$ for which $f(a)=f(b)$. Let $\\Theta^{*}=\\{(x, y) \\in \\Theta$ : $x \\neq y\\}$. The idea is that if $(a, b) \\in \\Theta$, then by $E(a, b, x)$ we get\n\n$$\nH_{a, b}(x):=\\left(a b^{2}+b x^{2}+x a^{2}, a^{2} b+b^{2} x+x^{2} a\\right) \\in \\Theta\n$$\n\nfor all real $x$. Reproducing this argument starting with $(a, b) \\in \\Theta^{*}$, we get more and more points in $\\Theta$. There are many ways to fill in the details, we give below only one of them.\n\nAssume that $(a, b) \\in \\Theta^{*}$. Note that\n\n$$\ng_{-}(x):=\\left(a b^{2}+b x^{2}+x a^{2}\\right)-\\left(a^{2} b+b^{2} x+x^{2} a\\right)=(a-b)(b-x)(x-a)\n$$\n\nand\n\n$$\ng_{+}(x):=\\left(a b^{2}+b x^{2}+x a^{2}\\right)+\\left(a^{2} b+b^{2} x+x^{2} a\\right)=\\left(x^{2}+a b\\right)(a+b)+x\\left(a^{2}+b^{2}\\right)\n$$\n\nHence, there exists $x$ for which both $g_{-}(x) \\neq 0$ and $g_{+}(x) \\neq 0$. This gives a point $(\\alpha, \\beta)=$ $H_{a, b}(x) \\in \\Theta^{*}$ for which $\\alpha \\neq-\\beta$. Now compare $E(\\alpha, 1,0)$ and $E(\\beta, 1,0)$. The left-hand side expressions coincide, on right-hand side we get $f(\\alpha)-f\\left(\\alpha^{2}\\right)=f(\\beta)-f\\left(\\beta^{2}\\right)$, respectively. Hence, $f\\left(\\alpha^{2}\\right)=f\\left(\\beta^{2}\\right)$ and we get a point $\\left(\\alpha_{1}, \\beta_{1}\\right):=\\left(\\alpha^{2}, \\beta^{2}\\right) \\in \\Theta^{*}$ with both coordinates $\\alpha_{1}, \\beta_{1}$ non-negative. Continuing squaring the coordinates, we get a point $(\\gamma, \\delta) \\in \\Theta^{*}$ for which $\\delta>5 \\gamma \\geqslant 0$. Our nearest goal is to get a point $(0, r) \\in \\Theta^{*}$. If $\\gamma=0$, this is already done. If $\\gamma>0$, denote by $x$ a real root of the quadratic equation $\\delta \\gamma^{2}+\\gamma x^{2}+x \\delta^{2}=0$, which exists since the discriminant $\\delta^{4}-4 \\delta \\gamma^{3}$ is positive. Also $x<0$ since this equation cannot have non-negative root. For the point $H_{\\delta, \\gamma}(x)=:(0, r) \\in \\Theta$ the first coordinate is 0 . The difference of coordinates equals $-r=(\\delta-\\gamma)(\\gamma-x)(x-\\delta)<0$, so $r \\neq 0$ as desired.\n\nNow, let $(0, r) \\in \\Theta^{*}$. We get $H_{0, r}(x)=\\left(r x^{2}, r^{2} x\\right) \\in \\Theta$. Thus $f\\left(r x^{2}\\right)=f\\left(r^{2} x\\right)$ for all $x \\in \\mathbb{R}$. Replacing $x$ to $-x$ we get $f\\left(r x^{2}\\right)=f\\left(r^{2} x\\right)=f\\left(-r^{2} x\\right)$, so $f$ is even: $(a,-a) \\in \\Theta$ for all $a$. Then $H_{a,-a}(x)=\\left(a^{3}-a x^{2}+x a^{2},-a^{3}+a^{2} x+x^{2} a\\right) \\in \\Theta$ for all real $a, x$. Putting $x=\\frac{1+\\sqrt{5}}{2} a$ we obtain $\\left(0,(1+\\sqrt{5}) a^{3}\\right) \\in \\Theta$ which means that $f(y)=f(0)=0$ for every real $y$.\n\nHereafter we assume that $f$ is injective and $f(0)=0$. By $E(a, b, 0)$ we get\n\n$$\nf(a) f(b)(f(a)-f(b))=f\\left(a^{2} b\\right)-f\\left(a b^{2}\\right)\n$$\n\nLet $\\kappa:=f(1)$ and note that $\\kappa=f(1) \\neq f(0)=0$ by injectivity. Putting $b=1$ in $(1)$ we get\n\n$$\n\\kappa f(a)(f(a)-\\kappa)=f\\left(a^{2}\\right)-f(a)\n$$\n\nSubtracting the same equality for $-a$ we get\n\n$$\n\\kappa(f(a)-f(-a))(f(a)+f(-a)-\\kappa)=f(-a)-f(a)\n$$\n\nNow, if $a \\neq 0$, by injectivity we get $f(a)-f(-a) \\neq 0$ and thus\n\n$$\nf(a)+f(-a)=\\kappa-\\kappa^{-1}=: \\lambda\n$$\n\nIt follows that\n\n$$\nf(a)-f(b)=f(-b)-f(-a)\n$$\n\nfor all non-zero $a, b$. Replace non-zero numbers $a, b$ in $(1)$ with $-a,-b$, respectively, and add the two equalities. Due to $(3)$ we get\n\n$$\n(f(a)-f(b))(f(a) f(b)-f(-a) f(-b))=0\n$$\n\nthus $f(a) f(b)=f(-a) f(-b)=(\\lambda-f(a))(\\lambda-f(b))$ for all non-zero $a \\neq b$. If $\\lambda \\neq 0$, this implies $f(a)+f(b)=\\lambda$ that contradicts injectivity when we vary $b$ with fixed $a$. Therefore, $\\lambda=0$ and $\\kappa=\\pm 1$. Thus $f$ is odd. Replacing $f$ with $-f$ if necessary (this preserves the original equation) we may suppose that $f(1)=1$.\n\nNow, $(2)$ yields $f\\left(a^{2}\\right)=f^{2}(a)$. Summing relations $(1)$ for pairs $(a, b)$ and $(a,-b)$, we get $-2 f(a) f^{2}(b)=-2 f\\left(a b^{2}\\right)$, i.e. $f(a) f\\left(b^{2}\\right)=f\\left(a b^{2}\\right)$. Putting $b=\\sqrt{x}$ for each non-negative $x$ we get $f(a x)=f(a) f(x)$ for all real $a$ and non-negative $x$. Since $f$ is odd, this multiplicativity relation is true for all $a, x$. Also, from $f\\left(a^{2}\\right)=f^{2}(a)$ we see that $f(x) \\geqslant 0$ for $x \\geqslant 0$. Next, $f(x)>0$ for $x>0$ by injectivity.\n\nAssume that $f(x)$ for $x>0$ does not have the form $f(x)=x^{\\tau}$ for a constant $\\tau$. The known property of multiplicative functions yields that the graph of $f$ is dense on $(0, \\infty)^{2}$. In particular, we may find positive $b<1 / 10$ for which $f(b)>1$. Also, such $b$ can be found if $f(x)=x^{\\tau}$ for some $\\tau<0$. Then for all $x$ we have $x^{2}+x b^{2}+b \\geqslant 0$ and so $E(1, b, x)$ implies that\n\n$$\nf\\left(b^{2}+b x^{2}+x\\right)=f\\left(x^{2}+x b^{2}+b\\right)+(f(b)-1)(f(x)-f(b))(f(x)-1) \\geqslant 0-\\left((f(b)-1)^{3} / 4\\right.\n$$\n\nis bounded from below (the quadratic trinomial bound $(t-f(1))(t-f(b)) \\geqslant-(f(b)-1)^{2} / 4$ for $t=f(x)$ is used). Hence, $f$ is bounded from below on $\\left(b^{2}-\\frac{1}{4 b},+\\infty\\right)$, and since $f$ is odd it is bounded from above on $\\left(0, \\frac{1}{4 b}-b^{2}\\right)$. This is absurd if $f(x)=x^{\\tau}$ for $\\tau<0$, and contradicts to the above dense graph condition otherwise.\n\nTherefore, $f(x)=x^{\\tau}$ for $x>0$ and some constant $\\tau>0$. Dividing $E(a, b, c)$ by $(a-b)(b-$ $c)(c-a)=\\left(a b^{2}+b c^{2}+c a^{2}\\right)-\\left(a^{2} b+b^{2} c+c^{2} a\\right)$ and taking a limit when $a, b, c$ all go to 1 (the divided ratios tend to the corresponding derivatives, say, $\\frac{a^{\\tau}-b^{\\tau}}{a-b} \\rightarrow\\left(x^{\\tau}\\right)_{x=1}^{\\prime}=\\tau$ ), we get $\\tau^{3}=\\tau \\cdot 3^{\\tau-1}, \\tau^{2}=3^{\\tau-1}, F(\\tau):=3^{\\tau / 2-1 / 2}-\\tau=0$. Since function $F$ is strictly convex, it has at most two roots, and we get $\\tau \\in\\{1,3\\}$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_number_theory_p1",
    "formal_statement": "theorem fimo_2021_number_theory_p1\n  (n : ℕ)\n  (h₀ : 1 ≤ n)\n  (h₁ : ∃ (a b : ℕ), (0 < a ∧ 0 < b) ∧ (∀ p, ¬(Nat.Prime p ∧ p^3 ∣ a^2 + b + 3)) ∧ (a * b + 3 * b + 8) / (a^2 + b + 3) = n) :\n  n = 2 := by sorry",
    "informal_statement": "Determine all integers $n \\geqslant 1$ for which there exists a pair of positive integers $(a, b)$ such that no cube of a prime divides $a^{2}+b+3$ and\n\n$$\n\\frac{a b+3 b+8}{a^{2}+b+3}=n\n$$\n\nThe final answer is that the only integer with that property is $n=2$.",
    "informal_proof": "As $b \\equiv-a^{2}-3\\left(\\bmod a^{2}+b+3\\right)$, the numerator of the given fraction satisfies\n\n$$\na b+3 b+8 \\equiv a\\left(-a^{2}-3\\right)+3\\left(-a^{2}-3\\right)+8 \\equiv-(a+1)^{3} \\quad\\left(\\bmod a^{2}+b+3\\right) .\n$$\n\nAs $a^{2}+b+3$ is not divisible by $p^{3}$ for any prime $p$, if $a^{2}+b+3$ divides $(a+1)^{3}$ then it does also divide $(a+1)^{2}$. Since\n\n$$\n0<(a+1)^{2}<2\\left(a^{2}+b+3\\right)\n$$\n\nwe conclude $(a+1)^{2}=a^{2}+b+3$. This yields $b=2(a-1)$ and $n=2$. The choice $(a, b)=(2,2)$ with $a^{2}+b+3=9$ shows that $n=2$ indeed is a solution.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_number_theory_p2",
    "formal_statement": "theorem fimo_2021_number_theory_p2\n  (n : ℕ)\n  (h₀ : n ≥ 100)\n  (cards : List ℕ)\n  (h₁ : cards = List.range' n (n + 1))\n  (pile1 pile2 : List ℕ)\n  (h₂ : List.partition (λ x ↦ x ∈ pile1) cards = (pile1, pile2)) :\n  (∃ (a b : ℕ), a ∈ pile1 ∧ b ∈ pile1 ∧ IsSquare (a + b)) ∨\n  (∃ (a b : ℕ), a ∈ pile2 ∧ b ∈ pile2 ∧ IsSquare (a + b)) := by sorry",
    "informal_statement": "Let $n \\geqslant 100$ be an integer. The numbers $n, n+1, \\ldots, 2 n$ are written on $n+1$ cards, one number per card. The cards are shuffled and divided into two piles. Prove that one of the piles contains two cards such that the sum of their numbers is a perfect square.",
    "informal_proof": "To solve the problem it suffices to find three squares and three cards with numbers $a, b, c$ on them such that pairwise sums $a+b, b+c, a+c$ are equal to the chosen squares. By choosing the three consecutive squares $(2 k-1)^{2},(2 k)^{2},(2 k+1)^{2}$ we arrive at the triple\n\n$$\n(a, b, c)=\\left(2 k^{2}-4 k, \\quad 2 k^{2}+1, \\quad 2 k^{2}+4 k\\right)\n$$\n\nWe need a value for $k$ such that\n\n$$\nn \\leqslant 2 k^{2}-4 k, \\quad \\text { and } 2 k^{2}+4 k \\leqslant 2 n .\n$$\n\nA concrete $k$ is suitable for all $n$ with\n\n$$\nn \\in\\left[k^{2}+2 k, 2 k^{2}-4 k+1\\right]=: I_{k}\n$$\n\nFor $k \\geqslant 9$ the intervals $I_{k}$ and $I_{k+1}$ overlap because\n\n$$\n(k+1)^{2}+2(k+1) \\leqslant 2 k^{2}-4 k+1\n$$\n\nHence $I_{9} \\cup I_{10} \\cup \\ldots=[99, \\infty)$, which proves the statement for $n \\geqslant 99$.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  },
  {
    "problem_name": "fimo_2021_number_theory_p7",
    "formal_statement": "theorem fimo_2021_number_theory_p7\n  (a : ℕ+ → ℕ+)\n  (h₀ : ∀ n m, a (n + 2 * m) ∣ (a n + a (n + m))) :\n  ∃ N d, ∀ n, n > N → a n = a (n + d) := by sorry",
    "informal_statement": "Let $a_{1}, a_{2}, a_{3}, \\ldots$ be an infinite sequence of positive integers such that $a_{n+2 m}$ divides $a_{n}+a_{n+m}$ for all positive integers $n$ and $m$. Prove that this sequence is eventually periodic, i.e. there exist positive integers $N$ and $d$ such that $a_{n}=a_{n+d}$ for all $n>N$.",
    "informal_proof": "We will make repeated use of the following simple observation:\n\nLemma 1. If a positive integer $d$ divides $a_{n}$ and $a_{n-m}$ for some $m$ and $n>2 m$, it also divides $a_{n-2 m}$. If $d$ divides $a_{n}$ and $a_{n-2 m}$, it also divides $a_{n-m}$.\n\nProof. Both parts are obvious since $a_{n}$ divides $a_{n-2 m}+a_{n-m}$.\n\nClaim. The sequence $\\left(a_{n}\\right)$ is bounded.\n\nProof. Suppose the contrary. Then there exist infinitely many indices $n$ such that $a_{n}$ is greater than each of the previous terms $a_{1}, a_{2}, \\ldots, a_{n-1}$. Let $a_{n}=k$ be such a term, $n>10$. For each $s<\\frac{n}{2}$ the number $a_{n}=k$ divides $a_{n-s}+a_{n-2 s}<2 k$, therefore\n\n$$\na_{n-s}+a_{n-2 s}=k\n$$\n\nIn particular,\n\n$$\na_{n}=a_{n-1}+a_{n-2}=a_{n-2}+a_{n-4}=a_{n-4}+a_{n-8}\n$$\n\nthat is, $a_{n-1}=a_{n-4}$ and $a_{n-2}=a_{n-8}$. It follows from Lemma 1 that $a_{n-1}$ divides $a_{n-1-3 s}$ for $3 s<n-1$ and $a_{n-2}$ divides $a_{n-2-6 s}$ for $6 s<n-2$. Since at least one of the numbers $a_{n-1}$ and $a_{n-2}$ is at least $a_{n} / 2$, so is some $a_{i}$ with $i \\leqslant 6$. However, $a_{n}$ can be arbitrarily large, a contradiction.\n\nSince $\\left(a_{n}\\right)$ is bounded, there exist only finitely many $i$ for which $a_{i}$ appears in the sequence finitely many times. In other words, there exists $N$ such that if $a_{i}=t$ and $i>N$, then $a_{j}=t$ for infinitely many $j$.\n\nClearly the sequence $\\left(a_{n+N}\\right)_{n>0}$ satisfies the divisibility condition, and it is enough to prove that this sequence is eventually periodic. Thus truncating the sequence if necessary, we can assume that each number appears infinitely many times in the sequence. Let $k$ be the maximum number appearing in the sequence.\n\nLemma 2. If a positive integer $d$ divides $a_{n}$ for some $n$, then the numbers $i$ such that $d$ divides $a_{i}$ form an arithmetical progression with an odd difference.\n\nProof. Let $i_{1}<i_{2}<i_{3}<\\ldots$ be all the indices $i$ such that $d$ divides $a_{i}$. If $i_{s}+i_{s+1}$ is even, it follows from Lemma 1 that $d$ also divides $a_{\\frac{i_{s}+i_{s+1}}{2}}$, impossible since $i_{s}<\\frac{i_{s}+i_{s+1}}{2}<i_{s+1}$. Thus $i_{s}$ and $i_{s+1}$ are always of different parity, and therefore $i_{s}+i_{s+2}$ is even. Applying Lemma 1 again, we see that $d$ divides $a_{\\frac{i_{s}+i_{s+2}}{2}}^{2}$, hence $\\frac{i_{s}+i_{s+2}}{2}=i_{s+1}$,\n\nWe are ready now to solve the problem.\n\nThe number of positive divisors of all terms of the progression is finite. Let $d_{s}$ be the difference of the progression corresponding to $s$, that is, $s$ divides $a_{n}$ if and only if it divides $a_{n+t d_{s}}$ for any positive integer $t$. Let $D$ be the product of all $d_{s}$. Then each $s$ dividing a term of the progression divides $a_{n}$ if and only if it divides $a_{n+D}$. This means that the sets of divisors of $a_{n}$ and $a_{n+D}$ coincide, and $a_{n+D}=a_{n}$. Thus $D$ is a period of the sequence.",
    "formal_proof": [
      "  sorry"
    ],
    "source": "fimo_test"
  }
]